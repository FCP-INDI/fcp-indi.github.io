
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Workflow Documentation &#8212; C-PAC 1.8.3.dev Beta documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex" />
    <link rel="search" title="Search" href="../search" />
    <link rel="next" title="Workflows" href="workflows/index" />
    <link rel="prev" title="Random State" href="random_state" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="workflows/index" title="Workflows"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="random_state" title="Random State"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index">C-PAC 1.8.3.dev Beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index" accesskey="U">Developer Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Workflow Documentation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="workflow-documentation">
<span id="id1"></span><h1>Workflow Documentation<a class="headerlink" href="#workflow-documentation" title="Permalink to this headline">¶</a></h1>
<p>The bulk of documentation for workflows is to be done in the source file itself.  Such practice will minimize the number of documentation files and ensure documentation is kept up to date with code changes.</p>
<section id="how-to-write-workflow-code-with-proper-documentation">
<span id="documenting-workflows"></span><h2>How to write workflow code with proper documentation<a class="headerlink" href="#how-to-write-workflow-code-with-proper-documentation" title="Permalink to this headline">¶</a></h2>
<p>Proper workflow documentation will follow the general standards provided by numpy (<a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt</a>).  Because workflow creation functions are themselves python functions, their parameters and what they return should be documented as such.  Please refer to the <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/example.py">example.py</a> provided by numpy for syntax.</p>
<p><span class="xref std std-doc">Example of a documented workflow</span></p>
<p><strong>Notes section:</strong></p>
<p>Workflows have nipype inputs and outputs which are specific to the workflow returned.  Any workflow specific information should be documented in the <em>Notes</em> section.  At a minimum, workflows are required to have the following information:</p>
<ul class="simple">
<li><p>A link pointing to the file on GitHub.</p></li>
<li><p><em>Workflow Inputs</em>: refer to workflow inputs. This is often received by an IdentityInterface node named ‘inputspec’.</p></li>
<li><p><em>Workflow Outputs</em>: refer to workflow outputs.  This is often received by an IdentityInterface node named ‘outputspec’.</p></li>
<li><p>Explanation of the processing which occurs inside the workflow</p></li>
</ul>
<p>Example of <em>Notes</em> section for a workflow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Notes
-----

`Source &lt;GitHub link pointing to workflow source file&gt;`_

Workflow Inputs::

    inputspec.X : possible data type(s) of X
        Detailed description of X

Workflow Outputs::

    outputspec.Y : possible data type(s) of Y
        Detailed description of Y

X is denoised and spatially smoothed.
</pre></div>
</div>
<p><strong>Examples Section:</strong></p>
<p>This section should provide at least one example of how to appropriately use the workflow.  The example should be completely standalone and executable directly from a python interpreter with CPAC correctly installed.  The outputs of a workflow should be displayed to the user in a relevant manner.  For instance, the names of the files created or the numerical values of the resulting output run for example data.</p>
</section>
<section id="generating-website-documentation-for-workflows">
<h2>Generating website documentation for workflows<a class="headerlink" href="#generating-website-documentation-for-workflows" title="Permalink to this headline">¶</a></h2>
<p>After workflow code has been properly documented, the documentation must be integrated into the browser viewable site.  Nearly all workflow documentation is generated directly from the source file.  This is made possible by the <a class="reference external" href="http://sphinx.pocoo.org/ext/autodoc.html">autodoc extension of sphinx</a> which converts the docstrings located in the source to html.</p>
<p>To add a documented workflow to the CPAC documentation site:</p>
<ul>
<li><p>In ./CPAC/doc/workflows/, create a <em>workflow_name</em>.rst file with the following text (<a class="reference external" href="https://raw.github.com/openconnectome/C-PAC/master/doc/workflows/anat_preproc.rst">example</a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Human</span> <span class="n">readable</span> <span class="n">name</span> <span class="n">of</span> <span class="n">workflow</span> <span class="p">(</span><span class="n">eg</span><span class="o">.</span> <span class="n">Anatomical</span> <span class="n">Preprocessing</span><span class="p">)</span>
<span class="o">==============================================================</span>

<span class="o">..</span> <span class="n">automodule</span><span class="p">::</span> <span class="n">CPAC</span><span class="o">.</span><span class="n">workflow_name</span>
    <span class="p">:</span><span class="n">members</span><span class="p">:</span>
</pre></div>
</div>
</li>
<li><p>Add your workflow to the table of contents in ./CPAC/doc/workflows/index.rst (<a class="reference external" href="https://raw.github.com/openconnectome/C-PAC/master/doc/workflows/index.rst">example</a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Workflows</span>
<span class="o">=========</span>

<span class="n">Contents</span><span class="p">:</span>

<span class="o">..</span> <span class="n">toctree</span><span class="p">::</span>
   <span class="p">:</span><span class="n">maxdepth</span><span class="p">:</span> <span class="mi">2</span>
   <span class="o">...</span>
   <span class="n">workflow_name</span>
</pre></div>
</div>
</li>
<li><p>Generate the html documentation using sphinx by running the command in ./CPAC/doc/:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index">
              <img class="logo" src="../_static/cpac_logo_vertical.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="../index">Table of Contents</a></h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index">Developer Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation">Installing CPAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipeline">Pipeline Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes">Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="random_state">Random State</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Workflow Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows/index">Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows/index#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="xcpqc">eXtensible Connectivity Pipeline-style quality control files</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing">Testing CPAC</a></li>
</ul>
</li>
</ul>

  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="workflows/index" title="Workflows"
             >next</a> |</li>
        <li class="right" >
          <a href="random_state" title="Random State"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index">C-PAC 1.8.3.dev Beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index" >Developer Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Workflow Documentation</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, C-PAC Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-19224662-10"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-19224662-10');
    </script>
    <script defer src="https://fcp-indi.github.io/scripts/versionList.js"></script>

  </body>
</html>