
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Usage: cpac run &#8212; C-PAC 1.8.0 Beta documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../genindex" />
    <link rel="search" title="Search" href="../../search" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index">C-PAC 1.8.0 Beta documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Usage: cpac run</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="usage-cpac-run">
<h1>Usage: cpac run<a class="headerlink" href="#usage-cpac-run" title="Permalink to this headline">¬∂</a></h1>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cpac run --help

<span class="go">Loading üê≥ Docker</span>
<span class="go">Loading üê≥ fcpindi/c-pac:latest with these directory bindings:</span>
<span class="go">  local                         Docker                mode</span>
<span class="go">  ----------------------------  --------------------  ------</span>
<span class="go">  /home/circleci/build          /home/circleci/build  rw</span>
<span class="go">  /home/circleci/build          /tmp                  rw</span>
<span class="go">  /home/circleci/build/log      /crash                rw</span>
<span class="go">  /home/circleci/build/outputs  /output               rw</span>
<span class="go">Logging messages will refer to the Docker paths.</span>

<span class="go">INFO: //matlab/startup.m does not exist ... creating</span>
<span class="go">mkdir: cannot create directory ‚Äò//matlab‚Äô: Permission denied</span>
<span class="go">touch: cannot touch &#39;//matlab/startup.m&#39;: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 231: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 232: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 233: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 234: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 235: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 236: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 237: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 238: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 239: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 240: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 241: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 242: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 243: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 244: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 245: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 246: //matlab/startup.m: No such file or directory</span>
<span class="go">/usr/lib/freesurfer/FreeSurferEnv.sh: line 247: //matlab/startup.m: No such file or directory</span>
<span class="go">grep: //matlab/startup.m: No such file or directory</span>
<span class="go">grep: //matlab/startup.m: No such file or directory</span>
<span class="go">grep: //matlab/startup.m: No such file or directory</span>
<span class="go">usage: run.py [-h] [--pipeline_file PIPELINE_FILE] [--group_file GROUP_FILE]</span>
<span class="go">              [--data_config_file DATA_CONFIG_FILE] [--preconfig PRECONFIG]</span>
<span class="go">              [--aws_input_creds AWS_INPUT_CREDS]</span>
<span class="go">              [--aws_output_creds AWS_OUTPUT_CREDS] [--n_cpus N_CPUS]</span>
<span class="go">              [--mem_mb MEM_MB] [--mem_gb MEM_GB]</span>
<span class="go">              [--save_working_dir [SAVE_WORKING_DIR]] [--disable_file_logging]</span>
<span class="go">              [--participant_label PARTICIPANT_LABEL [PARTICIPANT_LABEL ...]]</span>
<span class="go">              [--participant_ndx PARTICIPANT_NDX] [-v]</span>
<span class="go">              [--bids_validator_config BIDS_VALIDATOR_CONFIG]</span>
<span class="go">              [--skip_bids_validator] [--anat_only] [--tracking_opt-out]</span>
<span class="go">              [--monitoring]</span>
<span class="go">              bids_dir output_dir {participant,group,test_config,gui,cli}</span>

<span class="go">C-PAC Pipeline Runner</span>

<span class="go">positional arguments:</span>
<span class="go">  bids_dir              The directory with the input dataset formatted</span>
<span class="go">                        according to the BIDS standard. Use the format</span>
<span class="go">                        s3://bucket/path/to/bidsdir to read data directly from</span>
<span class="go">                        an S3 bucket. This may require AWS S3 credentials</span>
<span class="go">                        specified via the --aws_input_creds option.</span>
<span class="go">  output_dir            The directory where the output files should be stored.</span>
<span class="go">                        If you are running group level analysis this folder</span>
<span class="go">                        should be prepopulated with the results of the</span>
<span class="go">                        participant level analysis. Use the format</span>
<span class="go">                        s3://bucket/path/to/bidsdir to write data directly to</span>
<span class="go">                        an S3 bucket. This may require AWS S3 credentials</span>
<span class="go">                        specified via the --aws_output_creds option.</span>
<span class="go">  {participant,group,test_config,gui,cli}</span>
<span class="go">                        Level of the analysis that will be performed. Multiple</span>
<span class="go">                        participant level analyses can be run independently</span>
<span class="go">                        (in parallel) using the same output_dir. GUI will open</span>
<span class="go">                        the CPAC gui (currently only works with singularity)</span>
<span class="go">                        and test_config will run through the entire</span>
<span class="go">                        configuration process but will not execute the</span>
<span class="go">                        pipeline.</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --pipeline_file PIPELINE_FILE</span>
<span class="go">                        Path for the pipeline configuration file to use. Use</span>
<span class="go">                        the format s3://bucket/path/to/pipeline_file to read</span>
<span class="go">                        data directly from an S3 bucket. This may require AWS</span>
<span class="go">                        S3 credentials specified via the --aws_input_creds</span>
<span class="go">                        option.</span>
<span class="go">  --group_file GROUP_FILE</span>
<span class="go">                        Path for the group analysis configuration file to use.</span>
<span class="go">                        Use the format s3://bucket/path/to/pipeline_file to</span>
<span class="go">                        read data directly from an S3 bucket. This may require</span>
<span class="go">                        AWS S3 credentials specified via the --aws_input_creds</span>
<span class="go">                        option. The output directory needs to refer to the</span>
<span class="go">                        output of a preprocessing individual pipeline.</span>
<span class="go">  --data_config_file DATA_CONFIG_FILE</span>
<span class="go">                        Yaml file containing the location of the data that is</span>
<span class="go">                        to be processed. Can be generated from the CPAC gui.</span>
<span class="go">                        This file is not necessary if the data in bids_dir is</span>
<span class="go">                        organized according to the BIDS format. This enables</span>
<span class="go">                        support for legacy data organization and cloud based</span>
<span class="go">                        storage. A bids_dir must still be specified when using</span>
<span class="go">                        this option, but its value will be ignored. Use the</span>
<span class="go">                        format s3://bucket/path/to/data_config_file to read</span>
<span class="go">                        data directly from an S3 bucket. This may require AWS</span>
<span class="go">                        S3 credentials specified via the --aws_input_creds</span>
<span class="go">                        option.</span>
<span class="go">  --preconfig PRECONFIG</span>
<span class="go">                        Name of the pre-configured pipeline to run.</span>
<span class="go">  --aws_input_creds AWS_INPUT_CREDS</span>
<span class="go">                        Credentials for reading from S3. If not provided and</span>
<span class="go">                        s3 paths are specified in the data config we will try</span>
<span class="go">                        to access the bucket anonymously use the string &quot;env&quot;</span>
<span class="go">                        to indicate that input credentials should read from</span>
<span class="go">                        the environment. (E.g. when using AWS iam roles).</span>
<span class="go">  --aws_output_creds AWS_OUTPUT_CREDS</span>
<span class="go">                        Credentials for writing to S3. If not provided and s3</span>
<span class="go">                        paths are specified in the output directory we will</span>
<span class="go">                        try to access the bucket anonymously use the string</span>
<span class="go">                        &quot;env&quot; to indicate that output credentials should read</span>
<span class="go">                        from the environment. (E.g. when using AWS iam roles).</span>
<span class="go">  --n_cpus N_CPUS       Number of execution resources per participant</span>
<span class="go">                        available for the pipeline.</span>
<span class="go">  --mem_mb MEM_MB       Amount of RAM available to the pipeline in megabytes.</span>
<span class="go">                        Included for compatibility with BIDS-Apps standard,</span>
<span class="go">                        but mem_gb is preferred</span>
<span class="go">  --mem_gb MEM_GB       Amount of RAM available to the pipeline in gigabytes.</span>
<span class="go">                        if this is specified along with mem_mb, this flag will</span>
<span class="go">                        take precedence.</span>
<span class="go">  --save_working_dir [SAVE_WORKING_DIR]</span>
<span class="go">                        Save the contents of the working directory.</span>
<span class="go">  --disable_file_logging</span>
<span class="go">                        Disable file logging, this is useful for clusters that</span>
<span class="go">                        have disabled file locking.</span>
<span class="go">  --participant_label PARTICIPANT_LABEL [PARTICIPANT_LABEL ...]</span>
<span class="go">                        The label of the participant that should be analyzed.</span>
<span class="go">                        The label corresponds to sub-&lt;participant_label&gt; from</span>
<span class="go">                        the BIDS spec (so it does not include &quot;sub-&quot;). If this</span>
<span class="go">                        parameter is not provided all participants should be</span>
<span class="go">                        analyzed. Multiple participants can be specified with</span>
<span class="go">                        a space separated list. To work correctly this should</span>
<span class="go">                        come at the end of the command line.</span>
<span class="go">  --participant_ndx PARTICIPANT_NDX</span>
<span class="go">                        The index of the participant that should be analyzed.</span>
<span class="go">                        This corresponds to the index of the participant in</span>
<span class="go">                        the data config file. This was added to make it easier</span>
<span class="go">                        to accommodate SGE array jobs. Only a single</span>
<span class="go">                        participant will be analyzed. Can be used with</span>
<span class="go">                        participant label, in which case it is the index into</span>
<span class="go">                        the list that follows the participant_label flag. Use</span>
<span class="go">                        the value &quot;-1&quot; to indicate that the participant index</span>
<span class="go">                        should be read from the AWS_BATCH_JOB_ARRAY_INDEX</span>
<span class="go">                        environment variable.</span>
<span class="go">  -v, --version         show program&#39;s version number and exit</span>
<span class="go">  --bids_validator_config BIDS_VALIDATOR_CONFIG</span>
<span class="go">                        JSON file specifying configuration of bids-validator:</span>
<span class="go">                        See https://github.com/bids-standard/bids-validator</span>
<span class="go">                        for more info.</span>
<span class="go">  --skip_bids_validator</span>
<span class="go">                        Skips bids validation.</span>
<span class="go">  --anat_only           run only the anatomical preprocessing</span>
<span class="go">  --tracking_opt-out    Disable usage tracking. Only the number of</span>
<span class="go">                        participants on the analysis is tracked.</span>
<span class="go">  --monitoring          Enable monitoring server on port 8080. You need to</span>
<span class="go">                        bind the port using the Docker flag &quot;-p&quot;.</span>
</pre></div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index">
              <img class="logo" src="../../_static/cpac_logo_vertical.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index">Table of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../index">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index">Welcome to CPAC‚Äôs developer documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index#indices-and-tables">Indices and tables</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index">C-PAC 1.8.0 Beta documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Usage: cpac run</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, C-PAC Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-19224662-10"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-19224662-10');
    </script>
    <script defer src="https://fcp-indi.github.io/scripts/versionList.js"></script>

  </body>
</html>