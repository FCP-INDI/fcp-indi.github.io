
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Release Notes &#8212; C-PAC 1.8.4.dev Beta documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex" />
    <link rel="search" title="Search" href="../search" />
    <link rel="next" title="Version 1.8.2 Beta (Dec 02, 2021)" href="release_notes/v1.8.2" />
    <link rel="prev" title="Troubleshooting and Help" href="help" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="release_notes/v1.8.2" title="Version 1.8.2 Beta (Dec 02, 2021)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="help" title="Troubleshooting and Help"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index">C-PAC 1.8.4.dev Beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index" accesskey="U">User Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Release Notes</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="release-notes">
<h1>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h1>
<section id="latest-release-version-1-8-3-beta-feb-11-2022">
<h2>Latest Release: Version 1.8.3 Beta (Feb 11, 2022)<a class="headerlink" href="#latest-release-version-1-8-3-beta-feb-11-2022" title="Permalink to this headline">¶</a></h2>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Added <a class="reference external" href="https://fcp-indi.github.io/docs/v1.8.3/user/xcpqc">XCP-style quality control file</a></p></li>
<li><p>Added <a class="reference external" href="https://fcp-indi.github.io/docs/v1.8.3/user/pipelines/preconfig#rbc-options-reprobrainchart-options-pipeline">RBC-options pipeline preconfiguration</a></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">engine.log</span></code> (when verbose debugging is on)</p></li>
<li><p>Added ability to fix random seed for</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">antsAI</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">antsRegistration</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Atropos</span></code> (fixed but not specified)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fslmaths</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mri_vol2vol</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recon-all</span></code></p></li>
</ul>
</li>
<li><p>Added ability to use lateral ventricles mask in place of cerebrospinal fluid mask when when segmentation is Off, specifically for the rodent pipeline, but works on any dataset when segmentation is off</p></li>
</ul>
<p><strong>Improvements</strong></p>
<ul>
<li><p>In a given pipeline configuration, segmentation probability maps and binary tissue masks are warped to template space, and those warped masks are included in the output directory</p>
<ul>
<li><p>if <code class="docutils literal notranslate"><span class="pre">registration_workflows['functional_registration']['EPI_registration']['run</span> <span class="pre">segmentation']</span></code> is <code class="docutils literal notranslate"><span class="pre">On</span></code> and <code class="docutils literal notranslate"><span class="pre">segmentation['tissue_segmentation']['Template_Based']['template_for_segmentation']</span></code> includes <code class="docutils literal notranslate"><span class="pre">EPI_Template</span></code></p>
<p>and/or</p>
</li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">registration_workflows['anatomical_registration']['run']</span></code> is <code class="docutils literal notranslate"><span class="pre">On</span></code> and <code class="docutils literal notranslate"><span class="pre">segmentation['tissue_segmentation']['Template_Based']['template_for_segmentation']</span></code> includes <code class="docutils literal notranslate"><span class="pre">T1_Template</span></code></p></li>
</ul>
</li>
<li><p>Renamed connectivity matrices from <code class="docutils literal notranslate"><span class="pre">*_connectome.tsv</span></code> to <code class="docutils literal notranslate"><span class="pre">*_correlations.tsv</span></code></p></li>
<li><p>Moved some ephemeral logging statements into <code class="docutils literal notranslate"><span class="pre">pypeline.log</span></code></p></li>
</ul>
<p><strong>Bug fixes</strong></p>
<ul class="simple">
<li><p>Fixed <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1638">bug</a> in which working connectivity matrix filepaths were generated incorrectly, preventing generating matrices depending on container bindings</p></li>
<li><p>Fixed <a class="reference external" href="https://github.blog/changelog/2021-01-29-github-pages-will-stop-redirecting-pages-sites-from-github-com-after-april-15-2021/">broken links in README</a></p></li>
<li><p>Fixed <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1575">bug</a> in which anatomical-only configurations required functional data directories</p></li>
<li><p>Fixed <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1532">bug</a> in which nuisance regressors would crash when segmentation is off and no CSF mask is provided</p></li>
</ul>
</section>
<section id="version-1-8-2-beta-dec-02-2021">
<h2>Version 1.8.2 Beta (Dec 02, 2021)<a class="headerlink" href="#version-1-8-2-beta-dec-02-2021" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Usability testing and optimization for the following minimal processing pipelines employed in the Li et al., Milham manuscript (BioRxiv) is complete and they are available:</p>
<ul>
<li><p>CPAC:CCS</p></li>
<li><p>CPAC:ABCD-BIDS</p></li>
<li><p>CPAC:fMRIPrep</p></li>
<li><p>CPAC:Default</p></li>
</ul>
</li>
<li><p>The ABCD-BIDS surface-based postprocessing pipeline is implemented, though final usability testing and optimization is pending and will be in next release.</p></li>
</ul>
<p><strong>Added</strong></p>
<ul class="simple">
<li><p>Added FSL-TOPUP as an option for distortion correction.</p></li>
<li><p>Added changelog</p></li>
<li><p>Added CHD8 mouse template (<code class="docutils literal notranslate"><span class="pre">/cpac_templates/chd8_functional_template_noise_mask_ag.nii.gz</span></code>)</p></li>
<li><p>Added commandline flags <code class="docutils literal notranslate"><span class="pre">--T1w_label</span></code> and <code class="docutils literal notranslate"><span class="pre">--bold_label</span></code></p></li>
<li><p>Added the ability to ingress an entire FreeSurfer output directory to bypass surface analysis if already completed elsewhere</p></li>
<li><p>Added AFNI and Nilearn implementations of Pearson and partial correlation matrices</p></li>
</ul>
<p><strong>Changed</strong></p>
<ul class="simple">
<li><p>Expanded meta-data ingress for EPI field maps to include more fields when parsing BIDS sidecar JSONs.</p></li>
<li><p>Updated possible inputs for T2w processing and ACPC-alignment blocks to increase the modularity of these pipeline options.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">master</span></code> branch renamed <code class="docutils literal notranslate"><span class="pre">main</span></code></p></li>
<li><p>Packaged templates in <a class="reference external" href="https://github.com/FCP-INDI/C-PAC_templates">https://github.com/FCP-INDI/C-PAC_templates</a></p></li>
</ul>
<p><strong>Deprecated</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">master</span></code> branch name (renamed <code class="docutils literal notranslate"><span class="pre">main</span></code>)</p></li>
</ul>
<p><strong>Fixed</strong></p>
<ul class="simple">
<li><p>Fixed <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1620">bug</a> in which the preprocessed T2w data would not be found in the resource pool when expected.</p></li>
<li><p>Fixed <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1582">bug</a> in which distortion correction-related field map ingress would raise <code class="docutils literal notranslate"><span class="pre">IndexError:</span> <span class="pre">list</span> <span class="pre">index</span> <span class="pre">out</span> <span class="pre">of</span> <span class="pre">range</span></code> when ingressing the field maps.</p></li>
<li><p>Fixed <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1572">bug</a> in which some nodes would raise <code class="docutils literal notranslate"><span class="pre">KeyError:</span> <span class="pre">'in_file'</span></code> when estimating memory allocation</p></li>
<li><p>Improved memory management for multi-core node allocation.</p></li>
<li><p>Fixed <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1548">bug</a> where <code class="docutils literal notranslate"><span class="pre">--participant_label</span> <span class="pre">[A</span> <span class="pre">B</span> <span class="pre">C]</span></code> would skip first and last labels (<code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code>).</p></li>
<li><p>Stripped the ABI tag note (which was preventing the library from loading dynamically on some host operating systems) from <code class="docutils literal notranslate"><span class="pre">libQt5Core.so.5</span></code> in the ABCD-HCP variant image.</p></li>
<li><p>Fixed an issue blocking non-C-PAC output data from being read in without sidecar meta-data.</p></li>
</ul>
</section>
<section id="version-1-8-1-beta-sep-17-2021">
<h2>Version 1.8.1 Beta (Sep 17, 2021)<a class="headerlink" href="#version-1-8-1-beta-sep-17-2021" title="Permalink to this headline">¶</a></h2>
<p><strong>New Features &amp; Pipeline Harmonization</strong></p>
<ul class="simple">
<li><p><strong>ABCD-BIDS Pipeline Harmonization.</strong></p>
<ul>
<li><p>The <a class="reference external" href="https://www.biorxiv.org/content/10.1101/2021.07.09.451638v1.full">ABCD-BIDS pipeline</a> of the <a class="reference external" href="https://innovation.umn.edu/developmental-cognition-and-neuroimaging-lab/research/abcd-study/">ABCD study</a> can now be reproduced by running the ABCD preconfig in C-PAC.</p></li>
</ul>
</li>
<li><p><strong>CCS Pipeline Harmonization.</strong></p>
<ul>
<li><p>A new BOLD masking option, <code class="docutils literal notranslate"><span class="pre">CCS_Anatomical_Refined</span></code>, has been added. This has been <a class="reference external" href="https://github.com/TingsterX/CCS/blob/master/ccs_01_funcpreproc.sh#L89-L110">adapted from the BOLD mask method</a> from the <a class="reference external" href="https://github.com/zuoxinian/CCS">CCS pipeline</a>.</p></li>
<li><p>New T1 masking options using Freesurfer have been added to facilitate the harmonization with the CCS pipeline.</p></li>
<li><p>A preconfigured pipeline that reproduces the CCS pipeline is now available.</p></li>
</ul>
</li>
<li><p><strong>fmriprep Pipeline Harmonization Updated.</strong></p>
<ul>
<li><p>The fmriprep-options preconfigured pipeline, which reproduces the <a class="reference external" href="https://fmriprep.org/en/stable/">fmriprep pipeline</a>, has been updated to reflect recent changes.</p></li>
</ul>
</li>
</ul>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li><p>Further improvements to memory management for less frequent hanging have been integrated, in an ongoing process.</p></li>
<li><p><a class="reference external" href="https://surfer.nmr.mgh.harvard.edu/fswiki/recon-all">Freesurfer’s Recon-All</a> functionality in C-PAC has been opened to further configurability.</p></li>
<li><p>More options for selecting a reference for slice-timing correction have been added.</p></li>
<li><p>Description and other meta-data fields have been added to some output JSON sidecar files in an ongoing process to make output data descriptors clearer.</p></li>
<li><p>DVARS calculation is now performed using <a class="reference external" href="https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dTto1D.html">AFNI 3dTto1d</a>, increasing computation speed.</p></li>
<li><p>Manually inserting input data to a C-PAC output directory for ingress is now easier. A sidecar JSON containing meta-data will be produced for the data automatically if one is not provided.</p></li>
<li><p>For developers: improvements to the codebase have streamlined the process of adding new output data types to C-PAC through a central table, in line with recent v1.8 changes and the move to BIDS-Derivatives compliance.</p></li>
</ul>
<p>Bug Fixes</p>
<ul class="simple">
<li><p>Choosing On/Off for nuisance regression once again correctly produces the non-cleaned BOLD outputs in addition to any nuisance regression strategies.</p></li>
<li><p>Forking T1 and EPI based registration while simultaneously forking ANTs and FSL registration options no longer crashes the pipeline.</p></li>
<li><p>An error where the DVARS calculation step would cause the pipeline to hang has been resolved.</p></li>
<li><p>All nuisance regression choices are now available for EPI-registration based pipelines.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">mem_gb</span></code> input parameter for memory allocation no longer overrides other memory selections, when left unspecified.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">selected_volume</span></code> option for motion correction reference is now working again.</p></li>
</ul>
</section>
<section id="version-1-8-0-beta-mar-13-2021">
<h2>Version 1.8.0 Beta (Mar 13, 2021)<a class="headerlink" href="#version-1-8-0-beta-mar-13-2021" title="Permalink to this headline">¶</a></h2>
<p><strong>New Features</strong></p>
<ul class="simple">
<li><p><strong>BIDS-Derivatives Compatibility.</strong> C-PAC can now both ingress data and write data out according to the BIDS-Derivatives standard, enhancing interoperability with other BIDS-compatible neuroimaging packages.</p>
<ul>
<li><p>This allows users to inject already-processed data directly into key intermediate points of the C-PAC pipeline.</p></li>
<li><p>In addition, clearer information on provenance of pipeline steps for multiple C-PAC strategies are also provided in BIDS-compatible JSON files for all output data.</p></li>
<li><p>The implementation of BIDS-Derivatives compatibility and its use flow regarding interoperability with other neuroimaging packages will continue to grow and adapt throughout later releases; stay tuned for changes and upgrades.</p></li>
<li><p>[<a class="reference external" href="https://bids-specification.readthedocs.io/en/latest/05-derivatives/01-introduction.html">https://bids-specification.readthedocs.io/en/latest/05-derivatives/01-introduction.html</a>]</p></li>
</ul>
</li>
<li><p><strong>Freesurfer Integration for Surface-Based Processing.</strong> The C-PAC pipeline can now run Freesurfer to generate surfaces, and to produce brain masks or tissue segmentation masks for use in the voxel-based pipeline, if the user desires.</p>
<ul>
<li><p>Note: Due to the size of the Freesurfer installation, a separate, smaller C-PAC container without Freesurfer is also available if users wish to bypass surface-based analysis.</p></li>
<li><p>[<a class="reference external" href="https://surfer.nmr.mgh.harvard.edu/">https://surfer.nmr.mgh.harvard.edu/</a>]</p></li>
</ul>
</li>
</ul>
<p><strong>New Features - Pipeline Harmonization</strong></p>
<ul class="simple">
<li><p><strong>New BOLD Masking Option.</strong> A new anatomical brain mask-based BOLD masking option has been adapted from the ABCD pipeline of DCAN Labs.</p>
<ul>
<li><p>[<a class="reference external" href="https://innovation.umn.edu/developmental-cognition-and-neuroimaging-lab/">https://innovation.umn.edu/developmental-cognition-and-neuroimaging-lab/</a>]</p></li>
<li><p>[<a class="reference external" href="https://github.com/DCAN-Labs/abcd-hcp-pipeline">https://github.com/DCAN-Labs/abcd-hcp-pipeline</a>]</p></li>
</ul>
</li>
<li><p><strong>New Frequency Filtering Option.</strong> AFNI 3dBandpass has been integrated as another option for frequency filtering of BOLD data during nuisance correction.</p>
<ul>
<li><p>[<a class="reference external" href="https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dBandpass.html">https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dBandpass.html</a>]</p></li>
</ul>
</li>
</ul>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li><p><strong>Memory Usage Optimization.</strong> C-PAC ’ s memory usage estimates have been improved - this should reduce the occurrence of pipeline crashes caused by exceeding the memory limits of shared computing resources.</p></li>
<li><p><strong>Cleaner Pipeline Configuration.</strong> The pipeline configuration YAML format has been upgraded to a cleaner, easier-to-read nested format.</p></li>
<li><p><strong>Pipeline Configuration Importing.</strong> If configuring your pipeline directly through a YAML file, C-PAC ’ s pre-configured pipelines can now be imported into a YAML file. This allows users to specify only small segments of the pipeline they wish to change, when basing off of a default or pre-configured pipeline.</p></li>
</ul>
<p><strong>Developer Improvements</strong></p>
<ul class="simple">
<li><p><strong>Modularized Pipeline Blocks.</strong> C-PAC’s workflow segments have been modularized for easier development and methods integration, and for easier testing.</p></li>
</ul>
<p><strong>Bug Fixes</strong></p>
<ul class="simple">
<li><p>An error sometimes preventing users from supplying custom nuisance regressors to C-PAC has been resolved.</p></li>
</ul>
<p>In addition, the C-PAC Docker and Singularity images, as well as the AWS AMI, have all been updated. These provide a <a class="reference external" href="http://fcp-indi.github.io/docs/user/quick.html">quick way to get started</a>.</p>
<p>And as always, you can contact us here for user support and discussion:
<a class="reference external" href="https://groups.google.com/forum/#!forum/cpax_forum">https://groups.google.com/forum/#!forum/cpax_forum</a></p>
</section>
<section id="version-1-7-2-beta-nov-10-2020">
<h2>Version 1.7.2 Beta (Nov 10, 2020)<a class="headerlink" href="#version-1-7-2-beta-nov-10-2020" title="Permalink to this headline">¶</a></h2>
<p><strong>New Features</strong></p>
<ul class="simple">
<li><p><strong>Anatomical-Based BOLD Masking.</strong> Adapted from the DCAN Labs implementation, a new BOLD masking option is now available. Users can select this method to produce a BOLD mask that is produced by transforming the anatomical brain mask to BOLD space.</p></li>
</ul>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li><p>The motion estimate filter can now be forked, where the user can run a pipeline both with and without this processing step.</p></li>
<li><p>Template-to-native space transformations within the pipeline have been made more robust to possible mis-transformations that would sometimes occur when the template-space images did not have much anatomical contrast.</p></li>
</ul>
<p><strong>Error Fixes</strong></p>
<ul class="simple">
<li><p>The time series despiking step (performed by AFNI 3dDespike) is now able to be forked again.</p></li>
<li><p>An error preventing EPI field maps for blip-up/down distortion correction from being parsed into the data configuration when labeled with unconventional <code class="docutils literal notranslate"><span class="pre">dir-</span></code> tags has been fixed.</p></li>
</ul>
<p><strong>Coming Soon</strong></p>
<ul class="simple">
<li><p>Pipeline Dashboard</p></li>
<li><p>Surface-Based Processing</p></li>
<li><p>BIDS-Derivatives Compatibility</p></li>
</ul>
<p>In addition, the C-PAC Docker and Singularity images, as well as the AWS AMI, have all been updated. These provide a <a class="reference external" href="http://fcp-indi.github.io/docs/user/quick.html">quick way to get started</a>.</p>
<p>And as always, you can contact us here for user support and discussion:
<a class="reference external" href="https://groups.google.com/forum/#!forum/cpax_forum">https://groups.google.com/forum/#!forum/cpax_forum</a></p>
</section>
<section id="version-1-7-1-beta-sep-30-2020">
<h2>Version 1.7.1 Beta (Sep 30, 2020)<a class="headerlink" href="#version-1-7-1-beta-sep-30-2020" title="Permalink to this headline">¶</a></h2>
<p><strong>New Features</strong></p>
<ul class="simple">
<li><p><strong>ACPC Alignment.</strong> Anterior and Posterior Commissure (ACPC) alignment for anatomical preprocessing is now available. This technique may be beneficial for registration quality, primarily in non-human primate data.</p>
<ul>
<li><p><a class="reference external" href="https://doi.org/10.1016/j.neuroimage.2013.04.127">https://doi.org/10.1016/j.neuroimage.2013.04.127</a></p></li>
<li><p><a class="reference external" href="https://github.com/Washington-University/HCPpipelines/blob/master/PreFreeSurfer/scripts/ACPCAlignment.sh">https://github.com/Washington-University/HCPpipelines/blob/master/PreFreeSurfer/scripts/ACPCAlignment.sh</a></p></li>
</ul>
</li>
<li><p><strong>Low-pass Filter for Motion Estimates.</strong> The ability to run a low-pass filter instead of a notch filter for motion estimate filtering is now available. This filter is adapted from the <a class="reference external" href="https://www.ohsu.edu/school-of-medicine/developmental-cognition-and-neuroimaging-lab">DCAN Labs</a> filter described in <a class="reference external" href="https://www.biorxiv.org/content/10.1101/337360v1.full.pdf">this publication</a>.</p></li>
</ul>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li><p><strong>Speed Increase.</strong> The transformation of functional time series data to template space is now parallelizable. Assign multiple CPUs per participant to enable this speed-up.</p></li>
<li><p><strong>Motion Estimate Filter Configurability.</strong> The filter design of the motion estimate notch and low-pass filters can now be directly configured, if the user wishes to design these filters manually.</p></li>
<li><p><strong>Composite Transform.</strong> C-PAC now outputs the composite transform from functional (BOLD) space to template space as one warp file. Users can use this file to easily transform their native-space BOLD data to template as needed (if necessary beyond the transforms to template space C-PAC already automatically performs).</p></li>
</ul>
<p><strong>Error Fixes</strong></p>
<ul class="simple">
<li><p>An error that would prevent users from running frequency bandpass filtering without any other nuisance regression strategies has been resolved.</p></li>
</ul>
<p><strong>Coming Soon</strong></p>
<ul class="simple">
<li><p>Pipeline Dashboard</p></li>
<li><p>Surface-Based Processing</p></li>
<li><p>BIDS-Derivatives Compatibility</p></li>
</ul>
<p>In addition, the C-PAC Docker and Singularity images, as well as the AWS AMI, have all been updated. These provide a <a class="reference external" href="http://fcp-indi.github.io/docs/user/quick.html">quick way to get started</a>.</p>
<p>And as always, you can contact us here for user support and discussion:
<a class="reference external" href="https://groups.google.com/forum/#!forum/cpax_forum">https://groups.google.com/forum/#!forum/cpax_forum</a></p>
</section>
<section id="version-1-7-0-beta-jul-23-2020">
<h2>Version 1.7.0 Beta (Jul 23, 2020)<a class="headerlink" href="#version-1-7-0-beta-jul-23-2020" title="Permalink to this headline">¶</a></h2>
<p><strong>New Features</strong></p>
<ul class="simple">
<li><p><strong>New Command Line Interface.</strong> The <a class="reference external" href="https://pypi.org/project/cpac/">cpac pip-installable package</a> is now available. This CLI allows you to use C-PAC from the command line without interacting via container-based (Docker, Singularity) CLI commands.</p></li>
<li><p><strong>Anatomical Longitudinal Pipeline.</strong> C-PAC can now explicitly handle longitudinal data. The dedicated anatomical pipeline generates robust participant-specific templates that improve the registration of longitudinal data and increase reliability.</p>
<ul>
<li><p>[<a class="reference external" href="https://www.sciencedirect.com/science/article/pii/S1053811912002765?via%3Dihub">https://www.sciencedirect.com/science/article/pii/S1053811912002765?via%3Dihub</a>]</p></li>
</ul>
</li>
<li><p><strong>Prior-Based Segmentation.</strong> <a class="reference external" href="https://github.com/DCAN-Labs">DCAN Labs</a> ANTS prior-based tissue segmentation is now available. This approach is thought to be advantageous in the segmentation of the non-human primate brain.</p>
<ul>
<li><p><a class="reference external" href="https://www.ohsu.edu/school-of-medicine/developmental-cognition-and-neuroimaging-lab">DCAN Labs</a></p></li>
<li><p><a class="reference external" href="https://zenodo.org/record/3888969">nhp-ABCD-BIDS-pipeline</a></p></li>
</ul>
</li>
<li><p><strong>Physiological Noise Filtering for Motion Estimates.</strong> Adapted from <a class="reference external" href="https://github.com/DCAN-Labs">DCAN Labs</a>, C-PAC can now apply a notch filter to mitigate respiratory artifacts that may present issues in motion estimation.</p>
<ul>
<li><p><a class="reference external" href="https://www.ohsu.edu/school-of-medicine/developmental-cognition-and-neuroimaging-lab">DCAN Labs</a></p></li>
<li><p><a class="reference external" href="https://www.biorxiv.org/content/10.1101/337360v1.full.pdf">https://www.biorxiv.org/content/10.1101/337360v1.full.pdf</a></p></li>
</ul>
</li>
<li><p><strong>Tissue Mask Ingress.</strong> In an increase of pipeline flexibility, C-PAC can now intake pre-existing anatomical tissue masks if desired, bypassing tissue segmentation. This is particularly important for researchers using manual or manually edited segmentations.</p></li>
</ul>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li><p>Pipeline speed increase: Motion correction using AFNI 3dvolreg can now be completed faster by dedicating multiple CPUs to each participant. This can provide a major speed increase in data with many TRs, as motion correction is often one of the processing time bottlenecks in a pipeline.</p></li>
<li><p>C-PAC now writes out smoothed functional time series, when spatial smoothing is chosen (previously smoothing was only applied to derivatives).</p></li>
</ul>
<p><strong>Documentation Improvements</strong></p>
<ul class="simple">
<li><p>The C-PAC User Guide now features versioned access! You can now view the user guide for any current or previous supported version (1.5+) of C-PAC.</p></li>
</ul>
<p><strong>Error Fixes</strong></p>
<ul class="simple">
<li><p>A memory error triggered by aCompCor DetrendPC in nuisance regression has been resolved.</p></li>
<li><p>An error that sometimes prevented the pipeline from starting when censoring was enabled has been resolved.</p></li>
<li><p>An error that would prevent data configuration generation from finishing if hidden files were in the data directory
has been resolved.</p></li>
<li><p>The “SameFileError” crash has been resolved. This error did not have any impact, but it would cause many crash files to be generated.</p></li>
</ul>
<p><strong>Coming Soon</strong></p>
<ul class="simple">
<li><p>Pipeline Dashboard</p></li>
<li><p>Surface-Based Processing</p></li>
<li><p>BIDS-Derivatives Compatibility</p></li>
</ul>
<p>In addition, the C-PAC Docker and Singularity images, as well as the AWS AMI, have all been updated. These provide a <a class="reference external" href="http://fcp-indi.github.io/docs/user/quick.html">quick way to get started</a>.</p>
<p>And as always, you can contact us here for user support and discussion:
<a class="reference external" href="https://groups.google.com/forum/#!forum/cpax_forum">https://groups.google.com/forum/#!forum/cpax_forum</a></p>
</section>
<section id="version-1-6-2a-beta-jun-25-2020">
<h2>Version 1.6.2a Beta (Jun 25, 2020)<a class="headerlink" href="#version-1-6-2a-beta-jun-25-2020" title="Permalink to this headline">¶</a></h2>
<p><strong>Error Fixes</strong></p>
<ul class="simple">
<li><p>Brain extraction in Singularity container: an error in the Singularity container with running AFNI 3dSkullStrip in the C-PAC pipeline (RuntimeError: Xvfb did not start) has been resolved. (<a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/541">https://github.com/FCP-INDI/C-PAC/issues/541</a>, <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1277">https://github.com/FCP-INDI/C-PAC/issues/1277</a>)</p></li>
<li><p>Censoring during nuisance regression: an error where a pipeline crash would result when the motion threshold was too high and no frames were marked for censoring has been resolved. (<a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1256">https://github.com/FCP-INDI/C-PAC/issues/1256</a>)</p></li>
<li><p>C-PAC Warm Restart: an error that would result when running C-PAC a second time with the same working directory (_csv.Error) has been resolved. (<a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1300">https://github.com/FCP-INDI/C-PAC/issues/1300</a>, <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/pull/1302">https://github.com/FCP-INDI/C-PAC/pull/1302</a>)</p></li>
</ul>
<p>In addition, the C-PAC Docker and Singularity images, as well as the AWS AMI, have all been updated. These provide a <a class="reference external" href="http://fcp-indi.github.io/docs/user/quick.html">quick way to get started</a>.</p>
<p>And as always, you can contact us here for user support and discussion:
<a class="reference external" href="https://groups.google.com/forum/#!forum/cpax_forum">https://groups.google.com/forum/#!forum/cpax_forum</a></p>
</section>
<section id="version-1-6-2-beta-apr-17-2020">
<h2>Version 1.6.2 Beta (Apr 17, 2020)<a class="headerlink" href="#version-1-6-2-beta-apr-17-2020" title="Permalink to this headline">¶</a></h2>
<p><strong>New Features</strong></p>
<ul class="simple">
<li><p>ANTs registration transformation levels and parameters are now fully customizable in the pipeline configuration.</p></li>
<li><p>Expanded Registration Forking Capability. C-PAC can now fork and simultaneously run both T1-template-based and EPI-template-based registration.</p></li>
<li><p>Expanded Motion Correction Options. FSL MCFLIRT is now available as a tool selection for motion estimation and correction, alongside AFNI 3dvolreg.</p></li>
</ul>
<p><strong>Improvements &amp; Upgrades</strong></p>
<ul class="simple">
<li><p>C-PAC now runs on Python 3. During this transition, some underlying software packages, such as AFNI and ANTs, have been upgraded. Based on our release testing, performance is mostly unchanged. However, small changes can occur due to improvements made to the tools.</p></li>
<li><p>Motion estimation configurability. More motion estimation and correction parameters have been opened for configurability.</p></li>
<li><p>Increased memory efficiency and speed: C-PAC’s new default behavior for preparing time-series extraction is to realign the ROI atlases to the functional time series, instead of the other way around. This can be toggled back if desired. This change aims to cut down on memory limit errors that occur during execution with the combination of larger datasets and pipeline parallelization.</p></li>
<li><p>Increased speed: Redundant realignments of ROI atlases and the time series have also been removed.</p></li>
<li><p>The ingress of phase-difference field maps for distortion correction has been streamlined.</p></li>
</ul>
<p><strong>Error Fixes</strong></p>
<ul class="simple">
<li><p>In the QC Interface, some of the template underlays would default to the MNI152 template, even if the pipeline was configured to use a custom template. This has been resolved.</p></li>
<li><p>Resolved an issue that would prevent the pipeline from starting if ICA-AROMA and blip-up/down distortion correction were both enabled, for ANTs registration-based pipelines.</p></li>
<li><p>Resolved an issue that was preventing Neurodata ndmg-f connectome graphs from being completed in some cases.</p></li>
<li><p>Resolved the “Range parameter must be finite” QC image generation crash.</p></li>
</ul>
<p>In addition, the C-PAC Docker and Singularity images, as well as the AWS AMI, have all been updated. These provide a <a class="reference external" href="http://fcp-indi.github.io/docs/user/quick.html">quick way to get started</a>.</p>
<p>And as always, you can contact us here for user support and discussion:
<a class="reference external" href="https://groups.google.com/forum/#!forum/cpax_forum">https://groups.google.com/forum/#!forum/cpax_forum</a></p>
</section>
<section id="version-1-6-1a-beta-mar-14-2020">
<h2>Version 1.6.1a Beta (Mar 14, 2020)<a class="headerlink" href="#version-1-6-1a-beta-mar-14-2020" title="Permalink to this headline">¶</a></h2>
<p><strong>FIXES</strong></p>
<ul class="simple">
<li><p>A hotfix has been made to correct an issue where a refined/processed version of the white matter segmentation mask was being sent to boundary-based functional-to-anatomical coregistration, instead of the raw white matter mask as intended.</p></li>
<li><p>An issue where group-level analyses weren’t pulling the required input data from the output directories of individual-level preprocessing runs has been fixed.</p></li>
</ul>
<p>In addition, the C-PAC Docker and Singularity images, as well as the AWS AMI, have all been updated. These provide a <a class="reference external" href="http://fcp-indi.github.io/docs/user/quick.html">quick way to get started</a>.</p>
<p>And as always, you can contact us here for user support and discussion:
<a class="reference external" href="https://groups.google.com/forum/#!forum/cpax_forum">https://groups.google.com/forum/#!forum/cpax_forum</a></p>
</section>
<section id="version-1-6-1-beta-feb-11-2020">
<h2>Version 1.6.1 Beta (Feb 11, 2020)<a class="headerlink" href="#version-1-6-1-beta-feb-11-2020" title="Permalink to this headline">¶</a></h2>
<p><strong>NEW FEATURES</strong></p>
<ul class="simple">
<li><p><strong>Pre-configured Pipeline Library.</strong> C-PAC can now be easily run with a growing selection of pre-configured pipelines with the –preconfig flag. See the updated <a class="reference external" href="http://fcp-indi.github.io/">User Documentation</a> for the pipelines available.</p></li>
<li><p><strong>Time Series De-spiking.</strong> C-PAC can now run AFNI 3dDespike at the beginning of functional preprocessing, if enabled. <a class="reference external" href="https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dDespike.html">https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dDespike.html</a></p></li>
<li><p><strong>Smooth to a Specific FWHM.</strong> C-PAC can now run AFNI BlurToFWHM as an option, alongside the original FSL-based smoothing option. <a class="reference external" href="https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dBlurToFWHM.html">https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dBlurToFWHM.html</a></p></li>
</ul>
<p><strong>IMPROVEMENTS</strong></p>
<ul class="simple">
<li><p><strong>Temporal Filtering Configurability.</strong> The order in which temporal filtering is performed in the pipeline can now be toggled either before or after nuisance regression. If set to before, nuisance regressors are also filtered.</p></li>
<li><p><strong>tCompCor Configurability.</strong> Users can now choose polynomial regression of the time series, as well as configure the degree of brain mask erosion for tCompCor nuisance regression.</p></li>
<li><p><strong>BOLD Masking Configurability.</strong> The FSL-BET option for BOLD masking now has full access to configurable parameters.</p></li>
<li><p><strong>CSF Regressor Configurability.</strong> Ventricle mask refinement of CSF masks for CSF-based nuisance regression can now be toggled.</p></li>
<li><p>More informative messages for when someone provides an incorrect AWS S3 link for input data.</p></li>
</ul>
<p><strong>FIXES</strong></p>
<ul class="simple">
<li><p>Anatomical in template space QC images are now displayed properly in the QC Interface.</p></li>
<li><p>The ‘scan’ and ‘selector’ buttons now work properly again in the QC Interface.</p></li>
<li><p>Translation and rotation motion plots are now labeled correctly.</p></li>
<li><p>A bug where the input data configuration would be formatted incorrectly when no BIDS directory JSON was present has been fixed.</p></li>
<li><p>The “start_idx” pipeline field, which allows users to select the first time point in the time series, now works properly again.</p></li>
<li><p>Fixed an error that would report a duplicate node name when running a FNIRT-based pipeline and ICA-AROMA at the same time.</p></li>
</ul>
<p>In addition, the C-PAC Docker and Singularity images, as well as the AWS AMI, have all been updated. These provide a <a class="reference external" href="http://fcp-indi.github.io/docs/user/quick.html">quick way to get started</a>.</p>
<p>And as always, you can contact us here for user support and discussion:
<a class="reference external" href="https://groups.google.com/forum/#!forum/cpax_forum">https://groups.google.com/forum/#!forum/cpax_forum</a></p>
</section>
<section id="c-pac-v1-6-0-jan-3-2020">
<h2>C-PAC v1.6.0 (Jan 3, 2020)<a class="headerlink" href="#c-pac-v1-6-0-jan-3-2020" title="Permalink to this headline">¶</a></h2>
<p><strong>NEW FEATURES</strong></p>
<ul class="simple">
<li><p><strong>Anatomical-Refined BOLD Mask Generation.</strong> A new method for creating the BOLD mask is available, which uses the T1 brain mask to refine the boundaries of the generated BOLD mask.</p></li>
<li><p><strong>Carpet plots.</strong> The Quality Control interface now includes carpet plots, which are useful for rapid visual inspection for motion and other artifacts.</p></li>
</ul>
<p><strong>NEW FEATURES - Options that enhance reproducibility with fMRIPrep</strong></p>
<ul class="simple">
<li><p><strong>Cosine Filtering for CompCor.</strong> Users can now configure nuisance correction to perform cosine filtering on the time series data prior to CompCor calculation.</p></li>
<li><p><strong>Motion Estimation Before Slice Timing Correction.</strong> Users now have the option to calculate motion parameter estimation before slice timing correction, with actual motion correction still occurring after slice timing correction. The motion parameters go on to be used in nuisance regression and statistics reporting.</p></li>
<li><p><strong>N4 Correction for EPI.</strong> Users can now apply N4 Bias correction to the mean EPI image. This may help enhance coregistration quality.</p></li>
</ul>
<p><strong>NEW FEATURES - Options that facilitate nonhuman data processing</strong></p>
<ul class="simple">
<li><p><strong>EPI-Based Registration.</strong> Users can now register their BOLD data directly to an EPI template, foregoing structural-to-template registration, if desired.</p></li>
<li><p><strong>Template-Based Segmentation.</strong> Optimal for use with functional-only pipelines commonly used for rodent data, users can now employ a template-based tissue segmentation approach that applies inverse registration transforms to template-space tissue priors.</p></li>
<li><p><strong>Rodent Data compatibility.</strong> The pipeline now has an option to size-scale rodent brains to a larger size as an initial preprocessing step to prepare rodent data for processing tools.</p></li>
<li><p><strong>U-Net Brain Extraction Model.</strong> U-Net is a Fully Convolutional Network (FCN) that does image segmentation. Users can now select this option for brain extraction, especially optimal for non-human primate data.</p></li>
</ul>
<p><strong>IMPROVEMENTS</strong></p>
<ul class="simple">
<li><p><strong>Dramatically reducing working directory size.</strong> When running aCompCor: the space requirements of the working directory has been reduced to a sustainable size. A change in the previous version resulted in too-large intermediate files for aCompCor calculation.</p></li>
</ul>
<p>Some redundancies in the pipeline during time series extraction have been removed, and the pipeline now consumes less memory and disk space during processing.</p>
<p><strong>BUG FIXES - Quality Control Interface</strong></p>
<ul class="simple">
<li><p>The Quality Control interface is fully functional once again. We apologize for the instability in recent versions, in which QC images and metrics would be generated, but the HTML portal would not generate properly.</p></li>
</ul>
</section>
<section id="version-v1-5-0-beta-2019-10-09">
<h2>Version v1.5.0 Beta - 2019.10.09<a class="headerlink" href="#version-v1-5-0-beta-2019-10-09" title="Permalink to this headline">¶</a></h2>
<p><strong>NEW FEATURES - GENERAL</strong></p>
<ul class="simple">
<li><p><strong>Phase-Encoding Polarity Distortion Correction (Blip-Up / Blip-Down).</strong> A new option for distortion correction is available! Phase-Encoding Polarity (commonly known as blip-up/blip-down) employs phase-encoding direction-specific EPI field maps to correct for distortion in the direction of the phase-encoding.</p></li>
<li><p><strong>N4 Bias Field Correction.</strong> The ability to run N4 Bias Field Correction in the anatomical preprocessing pipeline has been added, via ANTs’ N4BiasFieldCorrection.</p></li>
</ul>
<p>[<a class="reference external" href="http://stnava.github.io/ANTs/">http://stnava.github.io/ANTs/</a>]</p>
<p>[<a class="reference external" href="http://manpages.ubuntu.com/manpages/trusty/man1/N4BiasFieldCorrection.1.html">http://manpages.ubuntu.com/manpages/trusty/man1/N4BiasFieldCorrection.1.html</a>]</p>
<ul class="simple">
<li><p><strong>Non-Local Means (NLM) filtering.</strong> NLM has been integrated into the anatomical preprocessing pipeline, via ANTs DenoiseImage.</p></li>
</ul>
<p>[<a class="reference external" href="http://stnava.github.io/ANTs/">http://stnava.github.io/ANTs/</a>]</p>
<p>[<a class="reference external" href="https://manpages.debian.org/experimental/ants/DenoiseImage.1.en.html">https://manpages.debian.org/experimental/ants/DenoiseImage.1.en.html</a>]</p>
<ul class="simple">
<li><p><strong>Increased Configurability of Output Resolution.</strong> Users can now select write-out resolutions with a finer granularity of values, also allowing for native voxel dimension write-outs.</p></li>
<li><p><strong>Increased Interpolation Configurability.</strong> Introduced the ability to select a full range of interpolation options for transform application and resampling. LanczosWindowedSinc has been set as the new default for ANTs operations and Sinc for FSL operations.</p></li>
<li><p><strong>PyPEER Integration.</strong> C-PAC can now prepare your pipeline results directly for Predictive Eye Estimation. PEER is a previously developed support vector regression-based method for retrospectively estimating eye gaze from the fMRI signal in the eye’s orbit.</p></li>
</ul>
<p>[<a class="reference external" href="https://github.com/ChildMindInstitute/PyPEER">https://github.com/ChildMindInstitute/PyPEER</a>]</p>
<p>Evaluating fMRI-Based Estimation of Eye Gaze during Naturalistic Viewing. Jake Son, Lei Ai, Ryan Lim, Ting Xu, Stanley Colcombe, Alexandre Rosa Franco, Jessica Cloud, Stephen LaConte, Jonathan Lisinski, Arno Klein, R. Cameron Craddock, Michael Milham. <a class="reference external" href="https://doi.org/10.1101/347765">https://doi.org/10.1101/347765</a></p>
<p>[<a class="reference external" href="https://www.biorxiv.org/content/10.1101/347765v5">https://www.biorxiv.org/content/10.1101/347765v5</a>]</p>
<p><strong>NEW FEATURES - CROSS-PIPELINE REPRODUCIBILITY</strong></p>
<p>Several new preprocessing features have been added to C-PAC’s pipeline choices, in an ongoing effort to incrementally expand C-PAC’s configurability. These methods have been adapted from the niworkflows and fmriprep packages (see appropriate links below).</p>
<ul class="simple">
<li><p><strong>New BOLD Masking option.</strong> A BOLD masking strategy designed by the fmriprep team is now available. The method employs both BET and 3dAutomask for refined BOLD masks. See the User Guide for more information.</p></li>
</ul>
<p>[<a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/">https://fmriprep.readthedocs.io/en/stable/</a>]</p>
<p>[<a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/workflows.html#bold-preprocessing">https://fmriprep.readthedocs.io/en/stable/workflows.html#bold-preprocessing</a>]</p>
<ul class="simple">
<li><p><strong>ANTs Brain Extraction.</strong> ANTs Brain extraction has now been integrated as an option for brain extraction. Implementation by the fmriprep team. See the User Guide for more information.</p></li>
</ul>
<p>[<a class="reference external" href="http://stnava.github.io/ANTs/">http://stnava.github.io/ANTs/</a>]</p>
<p>[<a class="reference external" href="https://github.com/ANTsX/ANTs/blob/master/Scripts/antsBrainExtraction.sh">https://github.com/ANTsX/ANTs/blob/master/Scripts/antsBrainExtraction.sh</a>]</p>
<p>[<a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/">https://fmriprep.readthedocs.io/en/stable/</a>]</p>
<p>[<a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/workflows.html#bold-preprocessing">https://fmriprep.readthedocs.io/en/stable/workflows.html#bold-preprocessing</a>]</p>
<ul class="simple">
<li><p><strong>Increased Segmentation Configurability.</strong> Thresholding options have returned, and new erosion options for anatomical segmentation have been introduced. The erosion implementation was adapted from fmriprep.</p></li>
</ul>
<p>[<a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/">https://fmriprep.readthedocs.io/en/stable/</a>]</p>
<p>[<a class="reference external" href="https://fmriprep.readthedocs.io/en/stable/workflows.html#brain-extraction-brain-tissue-segmentation-and-spatial-normalization">https://fmriprep.readthedocs.io/en/stable/workflows.html#brain-extraction-brain-tissue-segmentation-and-spatial-normalization</a>]</p>
<p><strong>IMPROVEMENTS</strong></p>
<ul class="simple">
<li><p>Added a selection of Neurodata’s Neuroparc atlases to the C-PAC container, and C-PAC now also performs time-series extraction on these atlases by default (in addition to the original defaults).</p></li>
</ul>
<p>[<a class="reference external" href="https://github.com/neurodata/neuroparc">https://github.com/neurodata/neuroparc</a>]</p>
<p>[<a class="reference external" href="https://neurodata.io/">https://neurodata.io/</a>]</p>
<ul class="simple">
<li><p>Improved parallelization for ISC and ISFC runs.</p></li>
<li><p>Users can now employ the -monkey option for AFNI 3dSkullStrip for brain extraction, for non-human primate data.</p></li>
</ul>
<p><strong>BUG FIXES</strong></p>
<ul class="simple">
<li><p>Fixed an issue where BIDS-format slice timing information was not being read into 3dTshift properly in some cases.</p></li>
<li><p>Fixed an error preventing Seed-Based Correlation Analysis from running to completion.</p></li>
<li><p>Fixed an error that would cause the pipeline to crash at the smoothing stage if the write-out resolution for functional preprocessed data and the resolution for functional-derived data were different.</p></li>
<li><p>Fixed an issue that would prevent output files from being written to the output directory if nuisance regression was disabled.</p></li>
<li><p>Fixed an issue where ISC and ISFC would not write out the results to the output directory.</p></li>
</ul>
</section>
<section id="version-1-4-3-beta-2019-05-24">
<h2>Version 1.4.3 Beta - 2019.05.24<a class="headerlink" href="#version-1-4-3-beta-2019-05-24" title="Permalink to this headline">¶</a></h2>
<p><strong>NEW FEATURES</strong></p>
<ul class="simple">
<li><p><strong>Quasi-Periodic Pattern (QPP) template generation.</strong> QPPs are spatial patterns of dynamic connectivity that may be useful in illustrating differences present in neurological or psychiatric disorders. C-PAC can now easily calculate a QPP template derived from a set of functional data.</p></li>
</ul>
<p>Spatiotemporal dynamics of low frequency BOLD fluctuations in rats and humans. Majeed W, Magnuson M, Hasenkamp W, Schwarb H, Schumacher EH, Barsalou L, Keilholz SD. Neuroimage. 2011 Jan 15;54(2):1140-50.</p>
<p>Quasi-periodic patterns (QPP): large-scale dynamics in resting state fMRI that correlate with local infraslow electrical activity. Thompson GJ, Pan WJ, Magnuson ME, Jaeger D, Keilholz SD. Neuroimage. 2014 Jan 1;84:1018-31.</p>
<p>Quasi-periodic patterns of intrinsic brain activity in individuals and their relationship to global signal. Yousefi B, Shin J, Schumacher EH, Keilholz SD. Neuroimage. 2018 Feb 15;167:297-308.</p>
<ul class="simple">
<li><p><strong>Custom regressors for nuisance regression.</strong> Users can now provide custom regressors to C-PAC’s nuisance regression suite. This could allow a user to regress out any time series from the data, such as physiological noise regressors, task regressors, or QPP time series prior to individual-level analysis. Refer to the updated User Guide for more information.</p></li>
<li><p><strong>Lesion masking for anatomical registration.</strong> For ANTs registration pipelines, users can now provide a lesion mask to improve anatomical registration quality in participant data containing lesions. Refer to the updated User Guide for more information. [<a class="reference external" href="http://stnava.github.io/ANTs/">http://stnava.github.io/ANTs/</a>]</p></li>
</ul>
<p><strong>ERROR FIXES</strong></p>
<ul class="simple">
<li><p>Fixed a bug where the working directory would not be deleted (when configured to do so) if the pipeline did not complete successfully.</p></li>
<li><p>Fixed a bug where, in some cases, working directory settings in a custom pipeline would be over-ridden by defaults.</p></li>
</ul>
<p><strong>COMING SOON (v1.4.4/v1.5.0 - Summer 2019)</strong></p>
<ul class="simple">
<li><p>New Group-Level Model Builder GUI</p></li>
<li><p>Predictive Eye Estimation Regression (PEER)</p></li>
<li><p>Non-human primate pipeline optimization</p></li>
<li><p>Easy integration &amp; analysis of other preprocessing pipeline results</p></li>
</ul>
</section>
<section id="version-1-4-2-beta-2019-04-29">
<h2>Version 1.4.2 Beta - 2019.04.29<a class="headerlink" href="#version-1-4-2-beta-2019-04-29" title="Permalink to this headline">¶</a></h2>
<p><strong>ERROR FIXES</strong></p>
<ul class="simple">
<li><p>Fixed a bug where ICA AROMA was not being forked correctly, possibly overriding previous preprocessing.</p></li>
</ul>
</section>
<section id="version-1-4-1-beta-2019-03-13">
<h2>Version 1.4.1 Beta - 2019.03.13<a class="headerlink" href="#version-1-4-1-beta-2019-03-13" title="Permalink to this headline">¶</a></h2>
<p><strong>NEW FEATURES</strong></p>
<ul class="simple">
<li><p><strong>36-Parameter Confound Regression Model.</strong> A new nuisance regression option has been introduced into C-PAC for confound regression using whole-brain motion parameters.</p></li>
</ul>
<p>Satterthwaite TD, Elliott MA, Gerraty RT, et al. An improved framework for confound regression and filtering for control of motion artifact in the preprocessing of resting-state functional connectivity data. Neuroimage. 2012;64:240-56. (<a class="reference external" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3811142/">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3811142/</a>)</p>
<ul class="simple">
<li><p><strong>tCompCor: Temporal Standard Deviation Noise ROI Component-Based Noise Correction.</strong> tCompCor has also been introduced into C-PAC as a nuisance regression option, for the removal of physiological noise from the functional time series.</p></li>
</ul>
<p>Yashar Behzadi, Khaled Restom, Joy Liau, Thomas T. Liu. A component based noise correction method (CompCor) for BOLD and perfusion based fMRI. Neuroimage. 2007;37(1):90-101. (<a class="reference external" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2214855/">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2214855/</a>)</p>
<ul class="simple">
<li><p><strong>Linear anatomical registration.</strong> You can now run linear-only registration-to-template using FSL FLIRT. This allows a much faster processing time for when very high-quality nonlinear anatomical registration is not as important for your analysis.</p></li>
</ul>
<p>(<a class="reference external" href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FLIRT/UserGuide">https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FLIRT/UserGuide</a>)</p>
<ul class="simple">
<li><p><strong>ndmg Mode.</strong> With ndmg-mode enabled, C-PAC runs a leaner preprocessing pipeline and produces connectome graphs using the pipeline configuration originally selected by the ndmg team and Neurodata’s pre-selected collection of atlases.</p></li>
</ul>
<p>(<a class="reference external" href="https://neurodata.io/mri-cloud/">https://neurodata.io/mri-cloud/</a>)</p>
<p><strong>IMPROVEMENTS</strong></p>
<ul class="simple">
<li><p><strong>Nuisance Regression Expansion.</strong> Along with the new addition of the 36-parameter motion model and tCompCor, the already-existing nuisance regression options have been expanded to include greater degrees of configurability. Refer to our updated User Guide for more details.</p></li>
</ul>
<p><strong>ERROR FIXES</strong></p>
<ul class="simple">
<li><p>Fixed an error where C-PAC would not write outputs to an AWS S3 bucket when configured to do so.</p></li>
<li><p>Fixed the “thresh_and_sum” error in the Singularity container that would cause the workflow run to fail.</p></li>
</ul>
<p><strong>COMING SOON (v1.4.2 &amp; v1.5.0 - Spring 2019)</strong></p>
<ul class="simple">
<li><p>Quasi-Periodic Patterns (QPP) template generation and regression</p></li>
<li><p>New Group-Level Model Builder GUI</p></li>
<li><p>Predictive Eye Estimation Regression (PEER)</p></li>
<li><p>Non-human primate pipeline optimization</p></li>
<li><p>Easy integration &amp; analysis of other preprocessing pipeline results</p></li>
</ul>
</section>
<section id="version-1-4-0-beta-2019-02-04">
<h2>Version 1.4.0 Beta - 2019.02.04<a class="headerlink" href="#version-1-4-0-beta-2019-02-04" title="Permalink to this headline">¶</a></h2>
<p><strong>Ease of Use</strong></p>
<ul class="simple">
<li><p><strong>Quick Start Guide.</strong> By pulling our Docker or Singularity container, you can kick off C-PAC with your dataset in minutes, without any prior package or library installations other than Docker or Singularity. More info available on our <a class="reference internal" href="quick"><span class="doc">User Guide</span></a>.</p></li>
</ul>
<p><strong>New Features</strong></p>
<ul class="simple">
<li><p><strong>TURNKEY MODE.</strong> For users who prefer not to make decisions regarding their pipeline, C-PAC now includes a pre-configured default pipeline that includes the most commonly used decisions. The pre-configured pipeline selections are described in the <a class="reference internal" href="quick"><span class="doc">Quick-start guide</span></a> under “Running Turnkey Mode”.</p></li>
<li><p><strong>Nonparametric Permutation Inference.</strong> FMRIB’s FSL Randomise has been integrated into C-PAC’s suite of group-level analyses. You can use the already-existing FSL group-level presets or the group model builder to specify your model.</p></li>
</ul>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li><p><strong>Early Access to the new C-PAC GUI.</strong> The first part of C-PAC’s new graphical user interface (GUI) for generating and editing custom pipelines is available! All are encouraged to take a quick test-drive of the pipeline builder and let us know your thoughts. All feedback welcome on our <a class="reference external" href="https://groups.google.com/forum/#!forum/cpax_forum">forum</a>.</p></li>
<li><p><strong>Group Model-Building Modularity.</strong> As part of an ongoing process of improving usability, C-PAC’s group-level analysis model builder now offers more control over your model design. It is now easier to review changes to your design matrix before specifying contrasts.</p></li>
</ul>
<p><strong>Error Fixes</strong></p>
<ul class="simple">
<li><p>An error preventing users from running only anatomical preprocessing has been fixed.</p></li>
<li><p>An error in the Unpaired Two-Group Difference preset of the FSL Group Model Presets, which was causing certain covariate labels to occasionally be formatted improperly, has been fixed.</p></li>
</ul>
<p><strong>Coming Soon (Release 1.5 early 2019)</strong></p>
<ul class="simple">
<li><p>More denoising options</p></li>
<li><p>Quasi-periodic pattern (QPP) identification</p></li>
<li><p>New Graphical User Interface (GUI) Upgrade</p></li>
<li><p>Further modularity &amp; usability improvements</p></li>
</ul>
</section>
<section id="version-1-3-0-beta-2018-10-08">
<h2>Version 1.3.0 Beta - 2018.10.08<a class="headerlink" href="#version-1-3-0-beta-2018-10-08" title="Permalink to this headline">¶</a></h2>
<p><strong>New Features</strong></p>
<ul class="simple">
<li><p>Bootstrap Analysis for Stable Clusters (BASC)</p></li>
<li><p>Inter-subject Correlation (ISC)</p></li>
<li><p>Independent Components Analysis (ICA)-based Denoising</p></li>
<li><p>More FSL Group-Level Analysis presets</p></li>
<li><p>Connectome matrix computation</p></li>
</ul>
</section>
<section id="version-1-2-0-beta-2018-08-10">
<h2>Version 1.2.0 Beta - 2018.08.10<a class="headerlink" href="#version-1-2-0-beta-2018-08-10" title="Permalink to this headline">¶</a></h2>
<p><strong>New Features</strong></p>
<ul class="simple">
<li><p><strong>Multivariate Distance Matrix Regression (MDMR).</strong> Exploratory, connectome-wide group-level analysis that allows researchers to explore relationships between patterns of functional connectivity and phenotypic variables. Compared to traditional univariate techniques which require rigorous correction for multiple comparisons, this multivariate approach significantly reduces the number of connectivity-phenotype comparisons needed for connectome-wide associations studies. See: <a class="reference external" href="https://www.ncbi.nlm.nih.gov/pubmed/24583255">A multivariate distance-based analytic framework for connectome-wide association studies.</a></p></li>
</ul>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li><p><strong>Improved Command-Line Interface.</strong> C-PAC is now much easier to use through the command-line interface using the “cpac” CLI tool. Users can kick off individual and group-level analyses using a nested menu, generate new pipeline and data configuration files, and set up FSL FEAT model presets, all without using the Graphical User Interface. More details available <a class="reference internal" href="running"><span class="doc">here.</span></a></p></li>
<li><p><strong>Increased Skull-Stripping Configurability.</strong> You can now modify the full range of parameters for both AFNI’s 3dSkullStrip and FSL’s BET for anatomical skull-stripping during preprocessing.</p></li>
<li><p><strong>Default pipeline configuration.</strong> For those who don’t want the options, C-PAC can run as a turnkey system using parameter selections recommended by our team. More details available <a class="reference internal" href="running"><span class="doc">here.</span></a></p></li>
<li><p><strong>Group-level Analysis Usability.</strong> Group-level analyses now also accept tab-separated (.tsv) files for phenotypic information. This allows users to seamlessly pull in the participants.tsv files which often accompany BIDS datasets.</p></li>
</ul>
<p><strong>Error Fixes</strong></p>
<ul class="simple">
<li><p>An error in v1.1.0 that was causing the QC pages to crash on SNR image generation in some pipeline runs has been fixed.</p></li>
</ul>
<p><strong>Coming Soon (Release 1.3 early Fall)</strong></p>
<ul class="simple">
<li><p>Bootstrap Analysis for Stable Clusters (BASC)</p></li>
<li><p>Inter-subject Correlation (ISC)</p></li>
<li><p>Independent Components Analysis (ICA)-based Denoising</p></li>
<li><p>More FSL Group-Level Analysis presets</p></li>
<li><p>Supervised learning</p></li>
</ul>
</section>
<section id="version-1-1-0-beta-2018-05-15">
<h2>Version 1.1.0 Beta - 2018.05.15<a class="headerlink" href="#version-1-1-0-beta-2018-05-15" title="Permalink to this headline">¶</a></h2>
<p><strong>New Features</strong></p>
<ul class="simple">
<li><p><strong>The Visual Data Quality Control Interface is back!</strong> The QC interface provides HTML pages for each participant, scan, and preprocessing strategy featuring montage images of various preprocessing, analysis, and head motion images, graphs, and histograms. You can use these for a quick glance of your results.</p></li>
<li><p><strong>FSL FEAT Group-Level Analysis Presets.</strong> A new addition to C-PAC’s group-level analysis model builder that allows you to setup group-level models specified in the FSL User Guide with little effort. The preset generator allows you to select from a few commonly-used FEAT model configurations. The first six model types are in and more to come! <a class="reference internal" href="group_analysis"><span class="doc">More details here.</span></a></p></li>
<li><p><strong>Automated Anatomical Scan Selection (for Multisession datasets).</strong> If using a dataset that features multiple anatomical/structural scans per participant, you can now configure the data configuration builder to automatically select which anatomical file to use in your pre-processing run. <a class="reference internal" href="subject_list_config"><span class="doc">More details here.</span></a></p></li>
</ul>
<p><strong>Improvements</strong></p>
<ul class="simple">
<li><p><strong>Leaner and Cleaner Output Directories.</strong> The layout of the output directory has been made cleaner and easier to navigate. Many of the usual outputs written to the output directory by default are now optional, saving disk space as well. There are new options in the pipeline configuration enabling you to select which additional outputs should be included in the output directory. Again, see the User Guide for more information on this change.</p></li>
</ul>
<p><strong>General Remarks</strong></p>
<ul class="simple">
<li><p>The data configuration YAML file format has been modified to feature deeper nesting of functional-related files (such as scan parameter files or field map files). Note, data configuration files from versions prior to v1.1.0 will not work with C-PAC v1.1.0 or later - you can use any already-existing data settings YAML files to regenerate these. See the User Guide for more information, or feel free to contact us if any assistance is needed. <a class="reference internal" href="subject_list_config"><span class="doc">More details here.</span></a></p></li>
</ul>
<p><strong>Error Fixes</strong></p>
<ul class="simple">
<li><p>The z-stat output files of group-level analysis are now labeled after the contrast names provided by the user during the group model creation process.</p></li>
</ul>
<p><strong>Coming Soon (Releases 1.2 and 1.3 this summer)</strong></p>
<ul class="simple">
<li><p>Multivariate Distance Matrix Regression (MDMR)</p></li>
<li><p>Bootstrap Analysis for Stable Cluster (BASC)</p></li>
<li><p>More FSL Group-Level Analysis presets</p></li>
<li><p>Expanded range of skull stripping options</p></li>
<li><p>Expanded nuisance regression options</p></li>
</ul>
</section>
<section id="version-1-0-3-beta-2018-01-26">
<h2>Version 1.0.3 Beta - 2018.01.26<a class="headerlink" href="#version-1-0-3-beta-2018-01-26" title="Permalink to this headline">¶</a></h2>
<p>General Remarks</p>
<ol class="arabic simple">
<li><p>The Subject/Participant list YAML file has been renamed the “Data Configuration” file. What used to be named the “data config”, which contains the presets used to generate the participant list, has been renamed the “Data Settings” file. This also makes the main CPAC interface consistent with the CPAC BIDS-App. See the <a class="reference external" href="http://fcp-indi.github.io/docs/user/subject_list_config.html">User Guide section about building a data configuration file</a> for more information.</p></li>
</ol>
<p>New Features</p>
<ol class="arabic simple">
<li><p>Field map distortion correction via FSL FUGUE has been introduced as a pre-processing option. Users can provide the phase difference and magnitude files required to generate the field map (if applicable) through the data configuration (participant list) builder. See the <a class="reference external" href="http://fcp-indi.github.io/docs/user/func.html#field-map-based-distortion-correction">User Guide section about distortion correction</a> for more information.</p></li>
<li><p>A new script called cpac_data_config_setup.py has been introduced, which allows users to quickly and easily create a data settings template for modification, and then use this data settings file to generate their data configuration. This script does the same thing that the data configuration builder GUI does, except without needing to be able to open the GUI (for example, when SSHing into a server). Information on its usage is available <a class="reference external" href="http://fcp-indi.github.io/docs/user/subject_list_config.html#creating-the-data-configuration-file-from-terminal">here</a>.</p></li>
<li><p>When building your data configuration (participant list), input data can now be filtered by site, session, and series.</p></li>
<li><p>For building your data configuration (participant list), support for BIDS-protocol scan parameter reading from JSON files has been introduced.</p></li>
<li><p>Logging can now be disabled by entering “run_logging: False” in your pipeline configuration YAML file.</p></li>
</ol>
<p>Improvements</p>
<ol class="arabic simple">
<li><p>The layout and naming of fields in the data configuration builder GUI are now clearer.</p></li>
<li><p>More informative status messages have been introduced detailing the data configuration building process (progress, amount of input data found, etc.).</p></li>
<li><p>Data configuration files (participant lists) are now ordered by site, and then participant ID, for easier searching and navigation when manually viewing or editing the YAML file.</p></li>
</ol>
<p>Error Fixes</p>
<ol class="arabic simple">
<li><p>The bug in the group-level analysis model builder GUI reported earlier, where the ordering of the contrasts in the contrast matrix provided to FSL FLAME did not always match the order in which they were specified in the group model builder GUI, has been fixed.</p></li>
<li><p>An error introduced in v1.0.2 that was causing the CompCor nuisance regression strategy to not run even if it was selected in some cases, has been fixed.</p></li>
<li><p>When generating a data configuration file (participant list), a bug sometimes causing some scans to not be included in a participant entry has been fixed.</p></li>
<li><p>Fixed a bug where sometimes de-spiking could cause a crash if no volumes are marked for excessive motion.</p></li>
<li><p>The formatting of the motion parameters CSV file has been fixed.</p></li>
</ol>
</section>
<section id="version-1-0-2-beta-2017-11-03">
<h2>Version 1.0.2 Beta - 2017.11.03<a class="headerlink" href="#version-1-0-2-beta-2017-11-03" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>CPAC now offers De-Spiking as an option in nuisance regression, which regresses out the impact of motion-induced artifacts from the functional timeseries from volumes exhibiting motion greater than a specified threshold, without removing those volumes.</p></li>
<li><p>Users can now select which Framewise Displacement (FD) calculation to use (Jenkinson’s or Power’s) when applying the motion threshold for either Scrubbing or De-Spiking.</p></li>
<li><p>Scrubbing has been moved to the Nuisance Regression tab in the GUI’s pipeline configuration editor. The pipeline configuration YAML keys have changed for scrubbing settings. See the <a class="reference external" href="http://fcp-indi.github.io/docs/user/nuisance.html#configuration-without-the-gui">User Guide Nuisance Regression page</a> and the <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/blob/v1.0.2/configs/pipeline_config.yml#L335">sample pipeline configuration file</a> for more details.</p></li>
<li><p>Re-introduced the ability to stop pipeline runs easily from the GUI.</p></li>
<li><p>Fixed a bug in the data configuration (subject list) builder that would cause non-NIfTI files to be included if the user did not explicitly define the file extension in the file template.</p></li>
<li><p>Fixed a bug in the data configuration (subject list) builder where some fields would not get populated when re-loading the settings in the GUI.</p></li>
<li><p>Added better error-catching and messages in nuisance regression which warn the user if nuisance parameters are too stringent for the regression to complete properly.</p></li>
</ol>
</section>
<section id="version-1-0-1b-beta-2017-09-07">
<h2>Version 1.0.1b Beta - 2017.09.07<a class="headerlink" href="#version-1-0-1b-beta-2017-09-07" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>CPAC is now compatible with Nipype version 0.13.</p></li>
<li><p>AWS S3 bucket support for BIDS data format participant list builder.</p></li>
<li><p>The pipeline configuration editor’s “Test Configuration” feature now works with participant lists that contain AWS S3 paths.</p></li>
<li><p>The cpac_install.sh and cpac_setup.py scripts have been fixed to be compatible with recent changes.</p></li>
<li><p>Fixed a bug in the group-level analysis model builder that would prevent the user from running group analysis on outputs from Seed-Based Correlation Analysis.</p></li>
<li><p>Fixed a bug in the group-level analysis pipeline where AFNI 3ddot would fail when performing a check on the merged 4D derivative file.</p></li>
<li><p>Fixed an issue where crash files would be generated at the beginning of the pipeline for the ‘check_for_s3’ nodes even when not pulling data from an S3 bucket.</p></li>
<li><p>Added more checks for file permissions and scan names at the beginning of the pipeline run.</p></li>
</ol>
</section>
<section id="version-1-0-1-beta-dec-5-2016">
<h2>Version 1.0.1 Beta (Dec 5, 2016)<a class="headerlink" href="#version-1-0-1-beta-dec-5-2016" title="Permalink to this headline">¶</a></h2>
<p>The updates to CPAC in this new version include:</p>
<ul class="simple">
<li><p>Nipype and CPAC have been updated to use a resource aware scheduler that incorporates information about the amount of memory and cores currently available when choosing a pipeline step to run. This should maximize running different pipeline steps in parallel while reducing the occurrence of out-of-memory errors and system lock-ups.</p></li>
<li><p>CPAC now calculates network centrality derivatives using the new 3dDegreeCentrality, 3dECM, and 3dLFCD AFNI tools implemented by our developers. These implementations are optimized to minimize the memory requirements while speeding up computation time. If you have an already-existing installation of AFNI that does not have these newer tools, you can update your installation by running “&#64;update.afni.binaries” from your AFNI installation directory.</p></li>
<li><p>Group-level analysis has been over-hauled to make it run more quickly, handle repeated measures, make entering contrasts more intuitive, and improve transparency in to the model generation process.</p></li>
<li><p>The BIDS data format is now supported and the participant list builder can generate a participant list given a BIDS base directory.</p></li>
<li><p>CPAC inputs can now be directly downloaded from (and outputs can be directly uploaded to) AWS S3 cloud storage.</p></li>
<li><p>For the subject list generated, we replaced the confusing “%s” identifiers in file path templates with {participant}, {site}, {session} to make generating these templates more user friendly. These identifiers are also more flexible, allowing you to combine them with substrings or include multiples, allowing for greater freedom in custom input data directory formats.</p></li>
<li><p>The GUI has been reorganized to simplify pipeline configuration, and specifically to improve handling of nuisance correction strategies and specifying ROIs for time series extraction and seed correlation analysis.</p></li>
<li><p>SLURM cluster resource scheduler compatibility added.</p></li>
<li><p>The output resolution in MNI space for statistical derivatives (e.g., ReHo, DC, etc) and 4D preprocessed functional data can be specified separately. The user can now also decide not to write the 4D preprocessed data into MNI space. Both of these steps can significantly reduce memory and disk space requirements.</p></li>
<li><p>Functional nuisance regressors data now included in the output.</p></li>
</ul>
<p>Updated user documentation for this release can be found here:
<a class="reference external" href="http://fcp-indi.github.io/docs/user/index.html">http://fcp-indi.github.io/docs/user/index.html</a></p>
<p>And as always, you can contact us here for user support and discussion:
<a class="reference external" href="https://groups.google.com/forum/#!forum/cpax_forum">https://groups.google.com/forum/#!forum/cpax_forum</a></p>
<p>Regards,
The CPAC development team.</p>
</section>
<section id="version-1-0-1-beta-2016-12-09">
<h2>Version 1.0.1 Beta - 2016.12.09<a class="headerlink" href="#version-1-0-1-beta-2016-12-09" title="Permalink to this headline">¶</a></h2>
<p>Participant list builder fixes:</p>
<ol class="arabic simple">
<li><p>The {participant}, {session}, etc. tags once again work properly, and are now more flexible for custom filepath formats. For example, multiple tags on one directory level, combinations of tags and custom string prefixes/suffixes, and multiple instances of the same tag in one path template are now all supported.</p></li>
<li><p>When providing a participant inclusion list (under Subjects to Include) and a site inclusion list (under Sites to Include) at the same time, the builder used to ignore the Sites to Include input. This is no longer the case and will generate an intersection of the Sites and Participant inclusion lists provided.</p></li>
<li><p>Including a scan parameters CSV containing information for multiple sites during participant list generation will no longer include scan parameters for sites not included in your data.</p></li>
<li><p>Addition of informative messages while constructing the participant list- will warn the user when a participant included in Subjects to Include does not exist or could not be found in the data, and will list these missing participant IDs.</p></li>
<li><p>When the input data does not have a session level, the participant list builder will now provide the default session “ses-1” instead of requiring a session level to be included. This is the case for both BIDS and custom data formats.</p></li>
</ol>
<p>Installation script updates:</p>
<ol class="arabic simple">
<li><p>Now more robust to package name differences between different versions of Ubuntu.</p></li>
<li><p>Now uses the Neurodebian ants package for all versions of Ubuntu except for 14.04.</p></li>
<li><p>Compiles libxp for Ubuntu &gt;= 16.04 for AFNI.</p></li>
</ol>
<p>Other updates:</p>
<ol class="arabic simple">
<li><p>The nuisance regressors are now written out to a 1D file found under “functional_nuisance_regressors” in the output directory.</p></li>
<li><p>Fixed a bug where locally-stored input files would  potentially deleted if the user would use the “Test Configuration” feature with a participant list that contained both S3 links and local filepath file templates.</p></li>
<li><p>A few redundant and unnecessary directories in the individual-level analysis output directory have been removed. These were re-writes of the ANTS-based anatomical registration warp files.</p></li>
<li><p>The pipeline configuration file editor now includes the CPAC version number in the configuration YAML file.</p></li>
<li><p>More informative error messages for when there is a problem in the pipeline configuration, such as the presence of unreferenced variable names in file paths.</p></li>
</ol>
</section>
<section id="version-1-0-0-beta-2016-11-03">
<h2>Version 1.0.0 Beta - 2016.11.03<a class="headerlink" href="#version-1-0-0-beta-2016-11-03" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>CPAC now calculates network centrality derivatives using the new 3dDegreeCentrality, 3dEigenvectorCentrality, and 3dLFCD AFNI tools implemented by our developers. These implementations are optimized to minimize the memory requirements while speeding up computation time. If you have an already#.existing installation of AFNI that does not have these newer tools, you can update your installation by running “&#64;update.afni.binaries” from your AFNI installation directory.</p></li>
<li><p>CPAC inputs can now be directly downloaded from and outputs can be directly uploaded to AWS S3 cloud storage.</p></li>
<li><p>SLURM cluster resource scheduler compatibility added.</p></li>
<li><p>We removed user specified segmentation thresholds from the segmentation workflow and instead rely on the default thresholds used by FSL’s FAST tool. This removes the issue of choosing an appropriate threshold, which would previously result in no WM or CSF signals for nuisance correction.</p></li>
<li><p>The GUI has been reorganized to simplify pipeline configuration, and specifically to improve handling of nuisance correction strategies and specifying ROIs for time series extraction and seed correlation analysis.</p></li>
<li><p>Group-level analysis has been over-hauled to make it run more quickly, handle repeated measures, make entering contrasts more intuitive, and improve transparency in to the model generation process.</p></li>
<li><p>Nipype and CPAC have been updated to use a resource aware scheduler that incorporates information about the amount of memory and cores currently available when choosing a pipeline step to run. This should maximize running different pipeline steps in parallel while reducing the occurrence of out-of-memory errors and system lock-ups.</p></li>
<li><p>The output resolution in MNI space for statistical derivatives (e.g., ReHo, DC, etc) and 4D preprocessed functional data can be specified separately. The user can now also decide not to write the 4D preprocessed data into MNI space. Both of these steps can significantly reduce memory and disk space requirements.</p></li>
<li><p>Improved logging.</p></li>
<li><p>Column names of ROI time series files and file names for SCA outputs are now based on the unique identifier used for the ROI in the corresponding atlas, making it easier to relate the files back to the ROIs.</p></li>
<li><p>For the subject list generated, we replaced the confusing “%s” identifiers in file path templates with {participant}, {site}, {session} to make generating these templates more user friendly.</p></li>
<li><p>Added support for BIDS file structure.</p></li>
</ol>
</section>
<section id="version-0-3-9-alpha-apr-02-2015">
<h2>Version 0.3.9 Alpha (Apr 02, 2015)<a class="headerlink" href="#version-0-3-9-alpha-apr-02-2015" title="Permalink to this headline">¶</a></h2>
<p>Please consult the <a class="reference external" href="http://fcp-indi.github.io/docs/user/index.html">User Guide</a> for a full description of the new features and changes.</p>
<ul class="simple">
<li><p>Major group analysis model builder upgrades:</p>
<ul>
<li><p>F-tests are now fully integrated into the new model builder GUI.</p></li>
<li><p>Users can now provide their own custom, hand-coded contrasts matrix if they do not wish to use the model builder’s contrast dialog.</p></li>
<li><p>The “mean of measure” regressor option can now be calculated using a specified mask, in addition to the option of using an automatically created mask for each individual.</p></li>
<li><p>A custom ROI mask file can now be provided with one or more ROIs - the mean of these ROIs will then be calculated and included as regressors in the model. This will enable for example, including seperate regressors for white matter and CSF.</p></li>
<li><p>The statistical derivatives to be analyzed can now be specified for each group model, allowing the user more flexibility for using different group models (i.e. include different nuisance regressors) for different derivatives.</p></li>
<li><p>Better error checking and more informative error and warning messages have been added.</p></li>
</ul>
</li>
</ul>
<p>For a tutorial presentation on how to use CPAC’s group-level analysis model builder, <a class="reference external" href="https://docs.google.com/presentation/d/1cJVNeNSK8Uy8UTzN6mMG4YR5YLqnpV4HopqsKZbma5k/pub?start=false&amp;loop=false&amp;delayms=10000">click here</a>.</p>
<ul class="simple">
<li><p>New AWS functionality, which contain utilities for interacting with Amazon Web Services’ S3 storage service, including upload, download, renaming files. Additionally, it provides some tools for local file MD5 sums and AWS credentials fetching.</p></li>
<li><p>Scrubbing now works properly.</p></li>
<li><p>Pipeline speed-ups gained by ensuring ANTS-based symmetric anatomical registration only runs when necessary.</p></li>
<li><p>Moved to Jenkinson’s Mean Framewise Displacement (Mean FD) calculation for MeanFD-related measures.</p></li>
<li><p>Made the output file structure for SCA outputs more clear.</p></li>
<li><p>Changed the working directory structure for group analysis so that it is more clear.</p></li>
<li><p>Fixed a bug where the skull-stripped brain was actually being used when the user selected to calculate the ANTS anatomical-to-template registration with the skull on.</p></li>
<li><p>Fixed a bug in group analysis where not all of the selected derivatives would run in some cases.</p></li>
<li><p>Fixed a bug where the pipeline would crash if the segmentation thresholds were set too high. This will now result in a easy to understand error message.</p></li>
<li><p>Fixed a bug where the cluster size for ReHo would not be properly saved in the pipeline configuration file.</p></li>
<li><p>Updated the ANTS registration workflow to work with newer versions of ANTs and ITK.</p></li>
<li><p>Fixed a bug where CPAC group-level analysis would not run on a single cluster node, even with “Run CPAC on a Cluster/Grid” turned off.</p></li>
<li><p>Introduced more checks and error messages for improper subject-list formatting and inputs.</p></li>
<li><p>Introduced checks to determine whether the user has the required software packages installed before starting a pipeline run.</p></li>
<li><p>Fixed some bugs where users would run into obstacles when trying to run CPAC on certain installations.</p></li>
<li><p>Fixed a bug where AFNI outputs would be written out in the wrong format resulting in a CPAC crash.</p></li>
</ul>
<p>Along with the updates to the code, we have made many much needed updates to the user and developer documentation. We have also updated the cpac_resources.tar.gz file to include the missing templates for 1mm registration.</p>
</section>
<section id="version-0-3-9-alpha-2015-04-02">
<h2>Version 0.3.9 Alpha - 2015.04.02<a class="headerlink" href="#version-0-3-9-alpha-2015-04-02" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Major group analysis model builder upgrades:</p>
<blockquote>
<div><ul class="simple">
<li><p>F-tests are now fully integrated into the new model builder GUI.</p></li>
<li><p>Users can now provide their own custom, hand-coded contrasts matrix if they do not wish to use the model builder’s contrast dialog.</p></li>
<li><p>The “mean of measure” regressor option can now be calculated using a specified mask, in addition to the option of using an automatically created mask for each individual.</p></li>
<li><p>A custom ROI mask file can now be provided with one or more ROIs - the mean of these ROIs will then be calculated and included as regressors in the model. This will enable for example, including seperate regressors for white matter and CSF.</p></li>
<li><p>The statistical derivatives to be analyzed can now be specified for each group model, allowing the user more flexibility for using different group models (i.e. include different nuisance regressors) for different derivatives.</p></li>
<li><p>Better error checking and more informative error and warning messages have been added.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>New AWS functionality, which contain utilities for interacting with Amazon Web Services’ S3 storage service, including upload, download, renaming files. Additionally, it provides some tools for local file MD5 sums and AWS credentials fetching.</p></li>
<li><p>Scrubbing now works properly.</p></li>
<li><p>Pipeline speed-ups gained by ensuring ANTS-based symmetric anatomical registration only runs when necessary.</p></li>
<li><p>Moved to Jenkinson’s Mean Framewise Displacement (Mean FD) calculation for MeanFD-related measures.</p></li>
<li><p>Made the output file structure for SCA outputs more clear.</p></li>
<li><p>Changed the working directory structure for group analysis so that it is more clear.</p></li>
<li><p>Fixed a bug where the skull-stripped brain was actually being used when the user selected to calculate the ANTS anatomical-to-template registration with the skull on.</p></li>
<li><p>Fixed a bug in group analysis where not all of the selected derivatives would run in some cases.</p></li>
<li><p>Fixed a bug where the pipeline would crash if the segmentation thresholds were set too high. This will now result in a easy to understand error message.</p></li>
<li><p>Fixed a bug where the cluster size for ReHo would not be properly saved in the pipeline configuration file.</p></li>
<li><p>Updated the ANTS registration workflow to work with newer versions of ANTs and ITK.</p></li>
<li><p>Fixed a bug where CPAC group-level analysis would not run on a single cluster node, even with “Run CPAC on a Cluster/Grid” turned off.</p></li>
<li><p>Introduced more checks and error messages for improper subject-list formatting and inputs.</p></li>
<li><p>Introduced checks to determine whether the user has the required software packages installed before starting a pipeline run.</p></li>
<li><p>Fixed some bugs where users would run into obstacles when trying to run CPAC on certain installations.</p></li>
<li><p>Fixed a bug where AFNI outputs would be written out in the wrong format resulting in a CPAC crash.</p></li>
</ol>
</section>
<section id="version-0-3-8-1-alpha-jan-24-2015">
<h2>Version 0.3.8.1 Alpha (Jan 24, 2015)<a class="headerlink" href="#version-0-3-8-1-alpha-jan-24-2015" title="Permalink to this headline">¶</a></h2>
<p>Release for archiving.</p>
</section>
<section id="version-0-3-8-alpha-2014-12-10">
<h2>Version 0.3.8 Alpha - 2014.12.10<a class="headerlink" href="#version-0-3-8-alpha-2014-12-10" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Fixed a bug in which ANTS registration transforms were applied in the wrong order.</p></li>
<li><p>“Treatment” coding has been enabled as an option in the Group Analysis Model Builder.</p></li>
<li><p>Resolved several errors effecting warping Dual Regression outputs to standard space.</p></li>
<li><p>SCA correlation maps now written out into 4D file instead of being stored into a 5D file (with the 4-dimension being a singleton).</p></li>
<li><p>Fixed a bug in compCor nuisance regression in which WM and CSF time-series were not variance normalized, as implemented by the original paper.</p></li>
<li><p>Updated the cpac_run.py script available in the scripts directory in order to reflect changes in how CPAC is run, update documentation, and enable users to invoke custom installs of Nipype and CPAC.</p></li>
<li><dl class="simple">
<dt>Several GUI error fixes and improvements:</dt><dd><ul class="simple">
<li><p>Introduced more descriptive error messages if the subject list is formatted or entered incorrectly.</p></li>
<li><p>Fixed an issue with input checking in the pipeline configuration editor.</p></li>
<li><p>Fixed an issue where saving an edited pipeline configuration file would require the user to re-load the file onto the pipeline list.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Developer tools: Created a unit test created for the Network Centrality workflow.</p></li>
</ol>
<section id="instructions-for-updating-to-0-3-8">
<h3>Instructions for Updating to 0.3.8<a class="headerlink" href="#instructions-for-updating-to-0-3-8" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Download and install the Nipype version 0.10.0, tested to work with CPAC 0.3.8, from <a class="reference external" href="https://github.com/nipy/nipype/releases/tag/0.10.0">Github</a>.</p></li>
<li><p>Download the new version from <a class="reference external" href="https://github.com/FCP-INDI/C-PAC">Github</a> or the <a class="reference external" href="http://fcp-indi.github.io.">CPAC homepage</a>.</p></li>
<li><p>Replace the old CPAC directory with the new files and then run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code>.</p></li>
</ol>
</section>
</section>
<section id="version-0-3-7-alpha-2014-10-29">
<h2>Version 0.3.7 Alpha - 2014.10.29<a class="headerlink" href="#version-0-3-7-alpha-2014-10-29" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>CPAC 0.3.7 has been migrated to a newer version of Nipype, version 0.10.0. Upgrade instructions are found below.</p></li>
<li><p>ANTS anatomical registration now calculates and applies an additional transform which makes registration more robust to certain input images that may have had registration difficulties otherwise.</p></li>
<li><p>Users can now set a custom number of cores to dedicate to anatomical registration when using ANTS, enabling faster registration speeds (just be careful not to assign more than you have!).</p></li>
<li><p>Group analysis no longer requires symbolic links to be generated in order to run.</p></li>
<li><p>Fixed the Network Centrality RAM shortage bug and improved stability of the Network Centrality code.</p></li>
<li><p>Network Centrality now produces smoothed non-z-score-standardized outputs.</p></li>
<li><p>Bug fixes concerning the GUI and pipeline configuration editor, including an issue where input file paths were checked in the pipeline configuration editor even when the associated workflows were turned off.</p></li>
</ol>
<section id="instructions-for-updating-to-0-3-7">
<h3>Instructions for Updating to 0.3.7<a class="headerlink" href="#instructions-for-updating-to-0-3-7" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Download and install the Nipype version 0.10.0, tested to work with CPAC 0.3.7, from <a class="reference external" href="https://github.com/nipy/nipype/releases/tag/0.10.0">Github</a>.</p></li>
<li><p>Download the new version from <a class="reference external" href="https://github.com/FCP-INDI/C-PAC">Github</a> or the <a class="reference external" href="http://fcp-indi.github.io.">CPAC homepage</a>.</p></li>
<li><p>Replace the old CPAC directory with the new files and then run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code>.</p></li>
</ol>
</section>
</section>
<section id="version-0-3-6-alpha-2014-10-08">
<h2>Version 0.3.6 Alpha - 2014.10.08<a class="headerlink" href="#version-0-3-6-alpha-2014-10-08" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Including EV interactions in group analysis model design is now possible in the CPAC group analysis model builder. Refer to the Patsy documentation for more information on interactions and how to encode them: <a class="reference external" href="https://patsy.readthedocs.org/en/latest/formulas.html#the-formula-language">https://patsy.readthedocs.org/en/latest/formulas.html#the-formula-language</a></p></li>
<li><p>Introduced the option to run ANTS anatomical registration using an input image with the skull on.</p></li>
<li><p>Users can now provide CPAC with input anatomical images that have already been skull-stripped.</p></li>
<li><p>More flexible slice-timing correction configuration.</p></li>
<li><p>z-score standardization and Fisher z-score standardization now take place after registration to template and smoothing, and naming conventions for z-score standardized outputs in the output directory are now more clear.</p></li>
<li><p>Dual regression now also outputs anatomically registered and smoothed outputs as files in addition to the regular “stack” (one file with each map included as a volume).</p></li>
<li><p>Assorted improvements to error messages and reporting.</p></li>
</ol>
<section id="instructions-for-updating-to-0-3-6">
<h3>Instructions for Updating to 0.3.6<a class="headerlink" href="#instructions-for-updating-to-0-3-6" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Download the new version from <a class="reference external" href="https://github.com/FCP-INDI/C-PAC">Github</a> or the <a class="reference external" href="http://fcp-indi.github.io.">CPAC homepage</a>.</p></li>
<li><p>Replace the old CPAC directory with the new files and then run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code>.</p></li>
</ol>
</section>
</section>
<section id="version-0-3-5-alpha-2014-09-22">
<h2>Version 0.3.5 Alpha - 2014.09.22<a class="headerlink" href="#version-0-3-5-alpha-2014-09-22" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Upgraded to the newer version of ANTS for anatomical and functional registration, introducing the new tools available and making the installation process more straightforward.</p></li>
<li><dl class="simple">
<dt>New group analysis model builder:</dt><dd><ul class="simple">
<li><p>New user-friendly GUI for setting up your group-level analysis model, with an easier interface for configuring your EVs.</p></li>
<li><p>Design matrices are now generated using the Patsy software package; you can specify your model with a design formula.</p></li>
<li><p>The ability to include the mean of your output as a regressor has been introduced (mean regression).</p></li>
<li><p>New interface for specifying contrasts using simple operators (EV1a &gt; EV1b, etc.).</p></li>
<li><p>Users can now specify a separate output directory for group analysis, so several runs can be completed without having to move previous group-level analysis runs into backup folders.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Improved memory usage during network centrality with sparsity thresholding.</p></li>
<li><p>Allowed users to provide their own lateral ventricles mask for CSF nuisance regression and corrected a source of inflexibility regarding how CPAC extracts signal from the ventricles.</p></li>
<li><p>Resolved an issue where functional images and derivatives would be written into a resolution other than what the user specified, an issue where f/ALFF outputs would be written into data types more space-consuming than necessary, an issue with an incorrect registration in nuisance correction, and assorted other bug fixes and improved error messages.</p></li>
<li><p>Several GUI improvements to user-friendliness in the pipeline configuration editor.</p></li>
</ol>
<ul class="simple">
<li><p>View a complete guide to the new model builder at the <a class="reference external" href="http://fcp-indi.github.io/docs/user/group_analysis.html">Group Analysis page of our User Guide</a>.</p></li>
</ul>
<section id="instructions-for-updating-to-0-3-5">
<h3>Instructions for Updating to 0.3.5<a class="headerlink" href="#instructions-for-updating-to-0-3-5" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Download and install the new custom version of Nipype designed to work with CPAC 0.3.5 from <a class="reference external" href="https://github.com/FCP-INDI/nipype/releases/tag/v0.9.2_cpac_tested">Github</a>.</p></li>
<li><p>Upgrade your ANTS installation to the newest version - instructions available on the <a class="reference external" href="http://fcp-indi.github.io/docs/user/install.html">installation page of the CPAC User Guide</a>.</p></li>
<li><p>Re-download the CPAC Image Resources to ensure you have the new binarized lateral ventricle masks required for CSF nuisance regression, available <a class="reference external" href="http://fcon_1000.projects.nitrc.org/indi/cpac_resources.tgz">here</a>, and follow the instructions available in the <a class="reference external" href="http://fcp-indi.github.io/docs/user/install.html">User Guide</a> under the section called “Install CPAC Image Resources”.</p></li>
</ol>
</section>
</section>
<section id="version-0-3-4-alpha-2014-04-08">
<h2>Version 0.3.4 Alpha - 2014.04.08<a class="headerlink" href="#version-0-3-4-alpha-2014-04-08" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Added local Functional Connectivity Density (lFCD) measure to the Network Centrality options.</p></li>
<li><p>Added the ability to specify different centrality parameters for each of the measures (degree, eigenvector, lFCD).</p></li>
<li><p>Group-level analysis is now able to be run in parallel - simply set the amount of processors you wish to dedicate in the Group</p></li>
<li><p>Analysis tab in the pipeline editor window under ‘Number of Models to Run Simultaneously’.</p></li>
<li><p>The processing run timing feature is now more polished- look for a cpac_individual_timing_{pipeline name}.csv or cpac_group_timing_{pipeline name}.csv file in your output directory for a breakdown and comparison of information and run times from separate runs.</p></li>
<li><p>Introduced the option to turn on/off Z-score standardization of outputs - this can be found within the ‘Derivatives Settings’ tab in the pipeline editor.</p></li>
<li><p>GUI fixes and improvements, including errors involving naming the pipeline yaml file and the removal of redundant options.</p></li>
<li><p>Group level analysis models no longer overwrite each other within the working directory - all subcategories, ROIs, etc. retain their intermediary files for re-runs.</p></li>
<li><p>The ‘Test Configuration’ feature in the pipeline editor is now more robust.</p></li>
<li><p>ANTS anatomical registration no longer takes up more processors than has been assigned by the user.</p></li>
<li><p>Speed improvements for centrality functions, including new C-based code.</p></li>
<li><p>Setting the memory limit for centrality will now work appropriately. Number of voxels to compute connectivity maps for at once will be set to be equal to the memory limit.</p></li>
<li><p>Improved unit testing for dual regression, TSE and SCA</p></li>
<li><p>TSE can now handle masks and ROIs with floating point values</p></li>
<li><p>Pipeline config files with a leading number in their CPAC pipeline name will now load into the GUI properly</p></li>
</ol>
<section id="instructions-for-updating-to-0-3-4">
<h3>Instructions for Updating to 0.3.4<a class="headerlink" href="#instructions-for-updating-to-0-3-4" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Download the new version from <a class="reference external" href="https://github.com/FCP-INDI/C-PAC">Github</a> or the <a class="reference external" href="http://fcp-indi.github.io.">CPAC homepage</a>.</p></li>
<li><p>If you do not have Cython installed already, follow the instructions <a class="reference external" href="http://fcp-indi.github.io/docs/user/install.html#install-python-dependencies">here</a>.</p></li>
<li><p>Replace the old CPAC directory with the new files and then run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code>.</p></li>
</ol>
</section>
</section>
<section id="version-0-3-3-alpha-2013-12-31">
<h2>Version 0.3.3 Alpha - 2013.12.31<a class="headerlink" href="#version-0-3-3-alpha-2013-12-31" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>CPAC is now compatible with Nipy’s Nipype 0.9.</p></li>
<li><p>A major group-level analysis error was resolved.</p></li>
<li><p>Forking of strategies is now possible through the GUI (for example, running two different registration methods at the same time).</p></li>
<li><p>Significant useability improvements to the GUI.</p></li>
<li><p>You can now specify separate seeds for timeseries extraction only or timeseries extraction intended for seed correlation analysis (SCA).</p></li>
<li><p>A new “Test Configuration” option has been included in the pipeline editor in the GUI which enables users to test their setup before running the pipeline.</p></li>
<li><p>An issue where the network centrality workflow would use more cores than assigned has been resolved.</p></li>
<li><p>An issue where VMHC maps would only be generated in 2mm resolution despite what was assigned has been resolved.</p></li>
<li><p>An issue where the raw correlation map for SCA was only being generated for one seed has been resolved.</p></li>
<li><p>An issue where timeseries extraction and seed correlation analysis would not run for new seeds defined in the pipeline editor was resolved.</p></li>
</ol>
</section>
<section id="version-0-3-2-alpha-2013-11-04">
<h2>Version 0.3.2 Alpha - 2013.11.04<a class="headerlink" href="#version-0-3-2-alpha-2013-11-04" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>The option to use the <a class="reference external" href="http://stnava.github.io/ANTs/">ANTS registration</a> tool for anatomical registration has been introduced.</p></li>
<li><p>The option to toggle <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FLIRT_BBR">Boundary Based Registration</a> on and off for functional to anatomical registration has been introduced.</p></li>
<li><p>Automatic QC page creation enabled.</p></li>
<li><p>Pipeline configuration files created by older versions of CPAC are now automatically checked for missing parameters.</p></li>
<li><p>There have been several assorted GUI fixes and improvements.</p></li>
</ol>
</section>
<section id="version-0-3-1-alpha-2013-09-13">
<h2>Version 0.3.1 Alpha - 2013.09.13<a class="headerlink" href="#version-0-3-1-alpha-2013-09-13" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>A range of improvements to the GUI and its operation.</p></li>
<li><p>Extended improvements to group analysis operation.</p></li>
<li><p>Error fix: custom FSL-FNIRT configuration files can now successfully be provided to CPAC.</p></li>
<li><p>Error fix: CPAC setup.py would not fully overwrite old files - setup.py now works correctly and also creates a backup folder with the old CPAC install directory.</p></li>
<li><p>Addition of some more informative and user-friendly error messages and user warnings.</p></li>
<li><p>CPAC pipeline configuration file renamed from config.yml to pipeline_config.yml.</p></li>
<li><p>Group analysis function update: the ability to classify EVs as either categorical or continuous has been temporarily removed as we continue our ongoing process of refining CPAC’s group analysis model builder. The user must now provide a phenotypic file (.csv format) with categorical EVs broken out into dummy variables.</p></li>
</ol>
</section>
<section id="version-0-1-9-alpha-2013-03-18">
<h2>Version 0.1.9 Alpha - 2013.03.18<a class="headerlink" href="#version-0-1-9-alpha-2013-03-18" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>feature: Dual Regression for Spatial Maps and ROIs</p></li>
<li><p>feature/issue120: Flexibility with multiple models and model-specific subject list</p></li>
<li><p>feature/issue157: Condor cluster job submission support</p></li>
<li><p>fix/issue108: (re)check output directory when pipeline is run again</p></li>
<li><p>fix/issue147: Split up covariates if create_fsl_model.py when modeling group variances seperately</p></li>
<li><p>fix/issue139: Rename “sink” directory to “output” directory</p></li>
</ol>
</section>
<section id="version-0-1-8-alpha-2013-2-20">
<h2>Version 0.1.8 Alpha - 2013.2.20<a class="headerlink" href="#version-0-1-8-alpha-2013-2-20" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Modification- replaced all configuration files(config.py, CPAC_subject_list.py, config_fsl.py, data_config.py) to YAML formats</p></li>
<li><p>Fix- Ignore empty lines and commented lines in all txt files used as input by CPAC</p></li>
<li><p>Fix - Configuration files import issue.</p></li>
<li><p>Removed confusing directories with numbers for sca roi outputs and centrality outputs. Now all the ROI outputs go into a single directory per subject and same holds centrality outputs</p></li>
</ol>
</section>
<section id="version-0-1-7-alpha-2013-02-05">
<h2>Version 0.1.7 Alpha - 2013.02.05<a class="headerlink" href="#version-0-1-7-alpha-2013-02-05" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Improved Error message for Removing Working Directory</p></li>
<li><p>New Centrality Workflow</p></li>
<li><p>Fixed underscore problem when no session in the data</p></li>
<li><p>FSL model file generator tool : one run, improved error reporting, multicollinearity detection</p></li>
<li><p>ROI , mask and template spefications are now files instead of directories</p></li>
<li><p>Anatomical and Functional Data can now be registered to different standard resolution templates</p></li>
<li><p>Subject processed fully notification after the subject pipeline finishes</p></li>
</ol>
</section>
<section id="version-0-1-6-alpha-2013-01-21">
<h2>Version 0.1.6 Alpha - 2013.01.21<a class="headerlink" href="#version-0-1-6-alpha-2013-01-21" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Fix logger in extract_data.py tool</p></li>
<li><p>Nuisance code Refactoring</p></li>
<li><p>Fixed ROI names in SCA</p></li>
<li><p>Added Import for create_fsl_model in local __init__.py</p></li>
<li><p>Added New Pipeline names</p></li>
<li><p>Fixed Pipeline Naming bug when package is installed</p></li>
<li><p>Centrality fix to handle NAN correlation values</p></li>
<li><p>Generate ROI nifti files using user co-ordinates</p></li>
<li><p>Fix output directory structure to handle multiple model run with single subject list</p></li>
<li><p>Fix in Group Analysis, to get 4D EPI as per input subject list</p></li>
<li><p>Boundary Based Registration becomes the default registration</p></li>
<li><p>New Alff/fAlff workflow</p></li>
<li><p>Updates in config file to accomodate new features</p></li>
<li><p>Fix to append unit of time(in TR) in slice timing correction: get_scan_parameters</p></li>
<li><p>Minor changes in create_fsl_model : replace ‘#’ in output csv name with ‘__’</p></li>
<li><p>Feature addition to clear subject level working directory</p></li>
<li><p>Added Exception to handle missing dependancy for pygraphviz</p></li>
<li><p>Added extract_parameters.py script to consolidate motion parameters</p></li>
</ol>
</section>
<section id="version-0-1-1-alpha-2012-10-15">
<h2>Version 0.1.1 Alpha - 2012.10.15<a class="headerlink" href="#version-0-1-1-alpha-2012-10-15" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>Scrubbing:</strong> Users can now specify the number of TRs that should be removed before and after an offending TR.</p></li>
<li><p><strong>Scrubbing:</strong> C-PAC now prints a warning specifying the number of time points left after scrubbing. If no time points are left, C-PAC will crash and print an error.</p></li>
<li><p><strong>Slice Timing:</strong> Users can now specify which sites are run with slice timing correction.</p></li>
<li><p><strong>Slice Timing:</strong> Slice timing correction is now able to read slice timing information directly from an image file, and works on Multiband sequences.</p></li>
<li><p><strong>Timeseries:</strong> Users can now specify a different number of initial TRs to be removed for each site.</p></li>
<li><p><strong>Data Config:</strong> Data extraction now works for the NKI-TRT data set, and automatically extracts scan parameters for each subject from the image file.</p></li>
<li><p><strong>Fix:</strong> C-PAC no longer crashes if dot is not installed. Instead, it prints an error and contines running.</p></li>
</ul>
<div class="toctree-wrapper compound">
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index">
              <img class="logo" src="../_static/cpac_logo_vertical.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="../index">Table of Contents</a></h3>
    <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="release_notes/v1.8.3">Latest Release: Version 1.8.3 Beta (Feb 11, 2022)</a></li>
<li class="toctree-l2"><a class="reference internal" href="quick">1. C-PAC Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="subject_list_config">2. Specify Your Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipelines/pipeline_config">3. Select Your Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="preprocessing">4. Pre-Process Your Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="derivatives">5. Compute Derivatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="running">6. All Run Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_analysis">7. Run Group Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="output_dir">8. Check Your Outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="help">9. Troubleshoot</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">10. Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.8.3">Latest Release: Version 1.8.3 Beta (Feb 11, 2022)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.8.2">Version 1.8.2 Beta (Dec 02, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.8.1">Version 1.8.1 Beta (Sep 17, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.8.0">Version 1.8.0 Beta (Mar 13, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.7.2">Version 1.7.2 Beta (Nov 10, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.7.1">Version 1.7.1 Beta (Sep 30, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.7.0">Version 1.7.0 Beta (Jul 23, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.6.2a">Version 1.6.2a Beta (Jun 25, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.6.2">Version 1.6.2 Beta (Apr 17, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.6.1a">Version 1.6.1a Beta (Mar 14, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.6.1">Version 1.6.1 Beta (Feb 11, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.6.0">C-PAC v1.6.0 (Jan 3, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.5.0">Version v1.5.0 Beta - 2019.10.09</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.4.3">Version 1.4.3 Beta - 2019.05.24</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.4.2">Version 1.4.2 Beta - 2019.04.29</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.4.1">Version 1.4.1 Beta - 2019.03.13</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.4.0">Version 1.4.0 Beta - 2019.02.04</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.3.0">Version 1.3.0 Beta - 2018.10.08</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.2.0">Version 1.2.0 Beta - 2018.08.10</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.1.0">Version 1.1.0 Beta - 2018.05.15</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.0.3">Version 1.0.3 Beta - 2018.01.26</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.0.2">Version 1.0.2 Beta - 2017.11.03</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.0.1b">Version 1.0.1b Beta - 2017.09.07</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.0.1a">Version 1.0.1 Beta (Dec 5, 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.0.1">Version 1.0.1 Beta - 2016.12.09</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v1.0.0">Version 1.0.0 Beta - 2016.11.03</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.9.1">Version 0.3.9 Alpha (Apr 02, 2015)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.9">Version 0.3.9 Alpha - 2015.04.02</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.8.1">Version 0.3.8.1 Alpha (Jan 24, 2015)</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.8">Version 0.3.8 Alpha - 2014.12.10</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.7">Version 0.3.7 Alpha - 2014.10.29</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.6">Version 0.3.6 Alpha - 2014.10.08</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.5">Version 0.3.5 Alpha - 2014.09.22</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.4">Version 0.3.4 Alpha - 2014.04.08</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.3">Version 0.3.3 Alpha - 2013.12.31</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.2">Version 0.3.2 Alpha - 2013.11.04</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.3.1">Version 0.3.1 Alpha - 2013.09.13</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.1.9">Version 0.1.9 Alpha - 2013.03.18</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.1.8">Version 0.1.8 Alpha - 2013.2.20</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.1.7">Version 0.1.7 Alpha - 2013.02.05</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.1.6">Version 0.1.6 Alpha - 2013.01.21</a></li>
<li class="toctree-l3"><a class="reference internal" href="release_notes/v0.1.1">Version 0.1.1 Alpha - 2012.10.15</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="appendix">Appendix</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix#benchmark-package">Benchmark Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index">Developer Documentation</a></li>
</ul>

  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="release_notes/v1.8.2" title="Version 1.8.2 Beta (Dec 02, 2021)"
             >next</a> |</li>
        <li class="right" >
          <a href="help" title="Troubleshooting and Help"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index">C-PAC 1.8.4.dev Beta documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index" >User Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Release Notes</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, C-PAC Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-19224662-10"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-19224662-10');
    </script>
    <script defer src="https://fcp-indi.github.io/scripts/versionList.js"></script>

  </body>
</html>