<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex" /><link rel="search" title="Search" href="../../search" />

    <link rel="shortcut icon" href="../../_static/favicon.ico"/><!-- Generated with Sphinx 7.1.2 and Furo 2024.05.06 -->
        <title>Default pipeline configuration YAML file - C-PAC 1.8.7.dev1 Beta documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a96c6ba1" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=fe2d11c3" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index"><div class="brand">C-PAC 1.8.7.dev1 Beta documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/cpac_logo_vertical.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">C-PAC 1.8.7.dev1 Beta documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../index">User Guide</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of User Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../release_notes/v1.8.7">Latest Release: Version 1.8.7 Beta (May 03, 2024)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick">1. C-PAC Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subject_list_config">2. Specify Your Data</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="pipeline_config">3. Select Your Pipeline</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 3. Select Your Pipeline</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="preconfig">Pre-configured Pipelines</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="configurable-settings">Configurable Settings</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Configurable Settings</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../alff">ALFF and f/ALFF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reho">ReHo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../centrality">Network Centrality</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sca">SCA/Dual Regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../vmhc">VMHC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pypeer">PyPEER Integration</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="data-environment">Data Management and Environment Settings</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Data Management and Environment Settings</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../compute_config">Computer Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../output_config">Output Settings</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="pre-and-post">Pre- and post-processing</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Pre- and post-processing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../anat">Anatomical Preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../func">Functional Preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nuisance">Nuisance Corrections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tse">Timeseries Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tse#configuring-roi-time-series-extraction">Configuring ROI Time Series Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../after_warp">After Warp Settings</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="derivatives">Derivatives</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Derivatives</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../sca">Seed-based Correlation Analysis (SCA) and Dual Regression - Analyze the connectivity between brain regions.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../vmhc">Voxel-mirrored Homotopic Connectivity (VMHC) - Investigate connectivity between hemispheres.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../alff">Amplitude of Low Frequency Fluctuations (ALFF) and fractional ALFF (fALFF) - Measure the power of slow fluctuations in brain activity.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reho">Regional Homogeneity (ReHo) - Measure the similarity of activity patterns across neighboring voxels.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../centrality">Network Centrality - Analyze the structure of functional networks.</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="quality">Quality Control</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Quality Control</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../qc_interface">QC Pages - Visual Data Quality Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../xcpqc">XCP QC files - eXtensible Connectivity Pipeline-style quality control files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../preprocessing">4. Pre-Process Your Data</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 4. Pre-Process Your Data</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../anat">Anatomical Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../func">Functional Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../longitudinal">Longitudinal Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nuisance">Nuisance Corrections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aroma_ica">ICA Denoising</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tse">Timeseries Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tse#configuring-roi-time-series-extraction">Configuring ROI Time Series Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../after_warp">After Warp Settings</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../derivatives">5. Compute Derivatives</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 5. Compute Derivatives</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../alff">ALFF and f/ALFF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reho">ReHo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../centrality">Network Centrality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sca">SCA/Dual Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vmhc">VMHC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pypeer">PyPEER Integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../running">6. All Run Options</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../group_analysis">7. Run Group Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 7. Run Group Analysis</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../group_fsl_feat">FSL FEAT &amp; Randomise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../group_pybasc">Bootstrapped Analysis of Stable Clusters (PyBASC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../group_mdmr">Multivariate Distance Matrix Regression (MDMR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../group_isc">Inter-subject Correlation (ISC) &amp; Inter-subject Functional Correlation (ISFC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../group_qpp">Quasi-Periodic Patterns (QPP)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../output_dir">8. Check Your Outputs</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../tutorials/index">9. Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of 9. Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/observed_usage/index">1. Tutorial: optimizing memory estimation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../help">10. Troubleshoot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rnotes">11. Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix">Appendix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix#benchmark-package">Benchmark Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../versions">C-PAC versions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../developer/index">Developer Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Developer Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../developer/installation">Installing CPAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/pipeline">Pipeline Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/templates">Templates and Atlases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/nodes">Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/random_state">Random State</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/workflow_documentation">Workflow Documentation</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../developer/workflows/index">Workflows</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Workflows</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/cpac_pipeline">C-PAC Pipeline Construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/anat_preproc">Anatomical Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/func_preproc">Functional Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/seg_preproc">Segmentation Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/sca">Seed Based Correlation Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/basc">Bootstrap Analysis of Stable Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/nuisance">Nuisance Signal Removal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/alff">Amplitude of Low Frequency Fluctuations(ALFF) and fractional ALFF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/vmhc">Voxel Mirrored Homotopic Connectivity Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/reho">Regional Homogeneity Approach to fMRI data analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/generate_motion_statistics">Generate Motion and Power Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/scrubbing">Scrubbing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/group_analysis">Group Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/easy_thresh">Easy thresh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/mdmr">Multivariate Distance Matrix Regression (MDMR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/median_angle">Median Angle Correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/registration">Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/timeseries">Timeseries Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer/workflows/network_centrality">Network Centrality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/workflows/index#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/xcpqc">eXtensible Connectivity Pipeline-style quality control files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/utils">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/testing">Testing CPAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/continuous_integration">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developer/deprecating">Deprecating a version of C-PAC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../license">License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../_sources/user/pipelines/default.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">%YAML</span><span class="w"> </span><span class="m">1.1</span>
<span class="nn">---</span>
<span class="c1"># CPAC Pipeline Configuration YAML file</span>
<span class="c1"># Version 1.8.7.dev1</span>
<span class="c1">#</span>
<span class="c1"># http://fcp-indi.github.io for more info.</span>
<span class="c1">#</span>
<span class="c1"># Tip: This file can be edited manually with a text editor for quick modifications.</span>

<span class="nt">pipeline_setup</span><span class="p">:</span>

<span class="w">  </span><span class="c1"># Name for this pipeline configuration - useful for identification.</span>
<span class="w">  </span><span class="c1"># This string will be sanitized and used in filepaths</span>
<span class="w">  </span><span class="nt">pipeline_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cpac-default-pipeline</span>

<span class="w">  </span><span class="nt">output_directory</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Directory where C-PAC should write out processed data, logs, and crash reports.</span>
<span class="w">    </span><span class="c1"># - If running in a container (Singularity/Docker), you can simply set this to an arbitrary</span>
<span class="w">    </span><span class="c1">#   name like &#39;/outputs&#39;, and then map (-B/-v) your desired output directory to that label.</span>
<span class="w">    </span><span class="c1"># - If running outside a container, this should be a full path to a directory.</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/outputs/output</span>

<span class="w">    </span><span class="c1"># (Optional) Path to a BIDS-Derivatives directory that already has outputs.</span>
<span class="w">    </span><span class="c1">#   - This option is intended to ingress already-existing resources from an output</span>
<span class="w">    </span><span class="c1">#     directory without writing new outputs back into the same directory.</span>
<span class="w">    </span><span class="c1">#   - If provided, C-PAC will ingress the already-computed outputs from this directory and</span>
<span class="w">    </span><span class="c1">#     continue the pipeline from where they leave off.</span>
<span class="w">    </span><span class="c1">#   - If left as &#39;None&#39;, C-PAC will ingress any already-computed outputs from the</span>
<span class="w">    </span><span class="c1">#     output directory you provide above in &#39;path&#39; instead, the default behavior.</span>
<span class="w">    </span><span class="nt">source_outputs_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="w">    </span><span class="c1"># Set to True to make C-PAC ingress the outputs from the primary output directory if they</span>
<span class="w">    </span><span class="c1"># exist, even if a source_outputs_dir is provided</span>
<span class="w">    </span><span class="c1">#   - Setting to False will pull from source_outputs_dir every time, over-writing any</span>
<span class="w">    </span><span class="c1">#     calculated outputs in the main output directory</span>
<span class="w">    </span><span class="c1">#   - C-PAC will still pull from source_outputs_dir if the main output directory is</span>
<span class="w">    </span><span class="c1">#     empty, however</span>
<span class="w">    </span><span class="nt">pull_source_once</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="c1"># Include extra versions and intermediate steps of functional preprocessing in the output directory.</span>
<span class="w">    </span><span class="nt">write_func_outputs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">    </span><span class="c1"># Include extra outputs in the output directory that may be of interest when more information is needed.</span>
<span class="w">    </span><span class="nt">write_debugging_outputs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">    </span><span class="c1"># Output directory format and structure.</span>
<span class="w">    </span><span class="c1"># Options: default, ndmg</span>
<span class="w">    </span><span class="nt">output_tree</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default&quot;</span>

<span class="w">    </span><span class="c1"># Quality control outputs</span>
<span class="w">    </span><span class="nt">quality_control</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Generate quality control pages containing preprocessing and derivative outputs.</span>
<span class="w">      </span><span class="nt">generate_quality_control_images</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">      </span><span class="c1"># Generate eXtensible Connectivity Pipeline-style quality control files</span>
<span class="w">      </span><span class="nt">generate_xcpqc_files</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">  </span><span class="nt">working_directory</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Directory where C-PAC should store temporary and intermediate files.</span>
<span class="w">    </span><span class="c1"># - This directory must be saved if you wish to re-run your pipeline from where you left off (if not completed).</span>
<span class="w">    </span><span class="c1"># - NOTE: As it stores all intermediate files, this directory can grow to become very</span>
<span class="w">    </span><span class="c1">#   large, especially for data with a large amount of TRs.</span>
<span class="w">    </span><span class="c1"># - If running in a container (Singularity/Docker), you can simply set this to an arbitrary</span>
<span class="w">    </span><span class="c1">#   name like &#39;/work&#39;, and then map (-B/-v) your desired output directory to that label.</span>
<span class="w">    </span><span class="c1"># - If running outside a container, this should be a full path to a directory.</span>
<span class="w">    </span><span class="c1"># - This can be written to &#39;/tmp&#39; if you do not intend to save your working directory.</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/outputs/working</span>

<span class="w">    </span><span class="c1"># Deletes the contents of the Working Directory after running.</span>
<span class="w">    </span><span class="c1"># This saves disk space, but any additional preprocessing or analysis will have to be completely re-run.</span>
<span class="w">    </span><span class="nt">remove_working_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">  </span><span class="nt">log_directory</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Whether to write log details of the pipeline run to the logging files.</span>
<span class="w">    </span><span class="nt">run_logging</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/outputs/logs</span>

<span class="w">    </span><span class="c1"># Configuration options for logging visualizations of the workflow graph</span>
<span class="w">    </span><span class="nt">graphviz</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Configuration for a graphviz visualization of the entire workflow. See https://fcp-indi.github.io/docs/developer/nodes#CPAC.pipeline.nipype_pipeline_engine.Workflow.write_graph for details about the various options</span>
<span class="w">      </span><span class="nt">entire_workflow</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># Whether to generate the graph visualization</span>
<span class="w">        </span><span class="nt">generate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>
<span class="w">        </span><span class="c1"># Options: [orig, hierarchical, flat, exec, colored]</span>
<span class="w">        </span><span class="nt">graph2use</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="w">        </span><span class="c1"># Options: [svg, png]</span>
<span class="w">        </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
<span class="w">        </span><span class="c1"># The node name will be displayed in the form `nodename (package)` when On or `nodename.Class.package` when Off</span>
<span class="w">        </span><span class="nt">simple_form</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="nt">crash_log_directory</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Directory where CPAC should write crash logs.</span>
<span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/outputs/crash</span>

<span class="w">  </span><span class="nt">system_config</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Stop worklow execution on first crash?</span>
<span class="w">    </span><span class="nt">fail_fast</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>
<span class="w">    </span><span class="c1"># Random seed used to fix the state of execution.</span>
<span class="w">    </span><span class="c1"># If unset, each process uses its own default.</span>
<span class="w">    </span><span class="c1"># If set, a `random.log` file will be generated logging the random seed and each node to which that seed was applied.</span>
<span class="w">    </span><span class="c1"># If set to a positive integer (up to 2147483647), that integer will be used to seed each process that accepts a random seed.</span>
<span class="w">    </span><span class="c1"># If set to &#39;random&#39;, a random positive integer (up to 2147483647) will be generated and that seed will be used to seed each process that accepts a random seed.</span>
<span class="w">    </span><span class="nt">random_seed</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Select Off if you intend to run CPAC on a single machine.</span>
<span class="w">    </span><span class="c1"># If set to On, CPAC will attempt to submit jobs through the job scheduler / resource manager selected below.</span>
<span class="w">    </span><span class="nt">on_grid</span><span class="p">:</span>

<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Sun Grid Engine (SGE), Portable Batch System (PBS), or Simple Linux Utility for Resource Management (SLURM).</span>
<span class="w">      </span><span class="c1"># Only applies if you are running on a grid or compute cluster.</span>
<span class="w">      </span><span class="nt">resource_manager</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SGE</span>

<span class="w">      </span><span class="nt">SGE</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># SGE Parallel Environment to use when running CPAC.</span>
<span class="w">        </span><span class="c1"># Only applies when you are running on a grid or compute cluster using SGE.</span>
<span class="w">        </span><span class="nt">parallel_environment</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">mpi_smp</span>

<span class="w">        </span><span class="c1"># SGE Queue to use when running CPAC.</span>
<span class="w">        </span><span class="c1"># Only applies when you are running on a grid or compute cluster using SGE.</span>
<span class="w">        </span><span class="nt">queue</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">all.q</span>

<span class="w">    </span><span class="c1"># The maximum amount of memory each participant&#39;s workflow can allocate.</span>
<span class="w">    </span><span class="c1"># Use this to place an upper bound of memory usage.</span>
<span class="w">    </span><span class="c1"># - Warning: &#39;Memory Per Participant&#39; multiplied by &#39;Number of Participants to Run Simultaneously&#39;</span>
<span class="w">    </span><span class="c1">#   must not be more than the total amount of RAM.</span>
<span class="w">    </span><span class="c1"># - Conversely, using too little RAM can impede the speed of a pipeline run.</span>
<span class="w">    </span><span class="c1"># - It is recommended that you set this to a value that when multiplied by</span>
<span class="w">    </span><span class="c1">#   &#39;Number of Participants to Run Simultaneously&#39; is as much RAM you can safely allocate.</span>
<span class="w">    </span><span class="nt">maximum_memory_per_participant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">    </span><span class="c1"># Prior to running a pipeline C-PAC makes a rough estimate of a worst-case-scenario maximum concurrent memory usage with high-resoltion data, raising an exception describing the recommended minimum memory allocation for the given configuration.</span>
<span class="w">    </span><span class="c1"># Turning this option off will allow pipelines to run without allocating the recommended minimum, allowing for more efficient runs at the risk of out-of-memory crashes (use at your own risk)</span>
<span class="w">    </span><span class="nt">raise_insufficient</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">    </span><span class="c1"># A callback.log file from a previous run can be provided to estimate memory usage based on that run.</span>
<span class="w">    </span><span class="nt">observed_usage</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Path to callback log file with previously observed usage.</span>
<span class="w">      </span><span class="c1"># Can be overridden with the commandline flag `--runtime_usage`.</span>
<span class="w">      </span><span class="nt">callback_log</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Percent. E.g., `buffer: 10` would estimate 1.1 * the observed memory usage from the callback log provided in &quot;usage&quot;.</span>
<span class="w">      </span><span class="c1"># Can be overridden with the commandline flag `--runtime_buffer`.</span>
<span class="w">      </span><span class="nt">buffer</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>

<span class="w">    </span><span class="c1"># The maximum amount of cores (on a single machine) or slots on a node (on a cluster/grid)</span>
<span class="w">    </span><span class="c1"># to allocate per participant.</span>
<span class="w">    </span><span class="c1"># - Setting this above 1 will parallelize each participant&#39;s workflow where possible.</span>
<span class="w">    </span><span class="c1">#   If you wish to dedicate multiple cores to ANTS-based anatomical registration (below),</span>
<span class="w">    </span><span class="c1">#   this value must be equal or higher than the amount of cores provided to ANTS.</span>
<span class="w">    </span><span class="c1"># - The maximum number of cores your run can possibly employ will be this setting multiplied</span>
<span class="w">    </span><span class="c1">#   by the number of participants set to run in parallel (the &#39;Number of Participants to Run</span>
<span class="w">    </span><span class="c1">#   Simultaneously&#39; setting).</span>
<span class="w">    </span><span class="nt">max_cores_per_participant</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">    </span><span class="c1"># The number of cores to allocate to ANTS-based anatomical registration per participant.</span>
<span class="w">    </span><span class="c1"># - Multiple cores can greatly speed up this preprocessing step.</span>
<span class="w">    </span><span class="c1"># - This number cannot be greater than the number of cores per participant.</span>
<span class="w">    </span><span class="nt">num_ants_threads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">    </span><span class="c1"># The number of cores to allocate to processes that use OpenMP.</span>
<span class="w">    </span><span class="nt">num_OMP_threads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">    </span><span class="c1"># The number of participant workflows to run at the same time.</span>
<span class="w">    </span><span class="c1"># - The maximum number of cores your run can possibly employ will be this setting</span>
<span class="w">    </span><span class="c1">#   multiplied by the number of cores dedicated to each participant (the &#39;Maximum Number of Cores Per Participant&#39; setting).</span>
<span class="w">    </span><span class="nt">num_participants_at_once</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">    </span><span class="c1"># Full path to the FSL version to be used by CPAC.</span>
<span class="w">    </span><span class="c1"># If you have specified an FSL path in your .bashrc file, this path will be set automatically.</span>
<span class="w">    </span><span class="nt">FSLDIR</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FSLDIR</span>

<span class="w">  </span><span class="nt">Amazon-AWS</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># If setting the &#39;Output Directory&#39; to an S3 bucket, insert the path to your AWS credentials file here.</span>
<span class="w">    </span><span class="nt">aws_output_bucket_credentials</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Enable server-side 256-AES encryption on data to the S3 bucket</span>
<span class="w">    </span><span class="nt">s3_encryption</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">  </span><span class="nt">Debugging</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Verbose developer messages.</span>
<span class="w">    </span><span class="nt">verbose</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>


<span class="c1"># PREPROCESSING</span>
<span class="c1"># -------------</span>
<span class="nt">surface_analysis</span><span class="p">:</span>

<span class="w">  </span><span class="c1"># Run freesurfer_abcd_preproc to obtain preprocessed T1w for reconall</span>
<span class="w">  </span><span class="nt">abcd_prefreesurfer_prep</span><span class="p">:</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">  </span><span class="c1"># Will run Freesurfer for surface-based analysis. Will output traditional Freesurfer derivatives.</span>
<span class="w">  </span><span class="c1"># If you wish to employ Freesurfer outputs for brain masking or tissue segmentation in the voxel-based pipeline,</span>
<span class="w">  </span><span class="c1"># select those &#39;Freesurfer-&#39; labeled options further below in anatomical_preproc.</span>
<span class="w">  </span><span class="nt">freesurfer</span><span class="p">:</span><span class="w"> </span>

<span class="w">    </span><span class="nt">run_reconall</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">    </span><span class="c1"># Ingress freesurfer recon-all folder</span>
<span class="w">    </span><span class="nt">ingress_reconall</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">    </span><span class="c1"># Add extra arguments to recon-all command</span>
<span class="w">    </span><span class="nt">reconall_args</span><span class="p">:</span>


<span class="w">  </span><span class="c1"># Run ABCD-HCP post FreeSurfer and fMRISurface pipeline</span>
<span class="w">  </span><span class="nt">post_freesurfer</span><span class="p">:</span><span class="w"> </span>

<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">    </span><span class="nt">subcortical_gray_labels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/opt/dcan-tools/pipeline/global/config/FreeSurferSubcorticalLabelTableLut.txt</span>

<span class="w">    </span><span class="nt">freesurfer_labels</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/opt/dcan-tools/pipeline/global/config/FreeSurferAllLut.txt</span>

<span class="w">    </span><span class="nt">surf_atlas_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/opt/dcan-tools/pipeline/global/templates/standard_mesh_atlases</span>

<span class="w">    </span><span class="nt">gray_ordinates_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/opt/dcan-tools/pipeline/global/templates/Greyordinates</span>

<span class="w">    </span><span class="nt">gray_ordinates_res</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="w">    </span><span class="nt">high_res_mesh</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">164</span>

<span class="w">    </span><span class="nt">low_res_mesh</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">32</span>

<span class="w">    </span><span class="nt">fmri_res</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="w">    </span><span class="nt">smooth_fwhm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="w">  </span><span class="nt">surface_connectivity</span><span class="p">:</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>
<span class="w">    </span><span class="nt">surface_parcellation_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/cpac_templates/Schaefer2018_200Parcels_17Networks_order.dlabel.nii</span>

<span class="nt">longitudinal_template_generation</span><span class="p">:</span>

<span class="w">  </span><span class="c1"># If you have multiple T1w&#39;s, you can generate your own run-specific custom</span>
<span class="w">  </span><span class="c1"># T1w template to serve as an intermediate to the standard template for</span>
<span class="w">  </span><span class="c1"># anatomical registration.</span>

<span class="w">  </span><span class="c1"># This runs before the main pipeline as it requires multiple T1w sessions</span>
<span class="w">  </span><span class="c1"># at once.</span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">  </span><span class="c1"># Freesurfer longitudinal template algorithm using FSL FLIRT</span>
<span class="w">  </span><span class="c1"># Method to average the dataset at each iteration of the template creation</span>
<span class="w">  </span><span class="c1"># Options: median, mean or std</span>
<span class="w">  </span><span class="nt">average_method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">median</span>

<span class="w">  </span><span class="c1"># Degree of freedom for FLIRT in the template creation</span>
<span class="w">  </span><span class="c1"># Options: 12 (affine), 9 (traditional), 7 (global rescale) or 6 (rigid body)</span>
<span class="w">  </span><span class="nt">dof</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span>

<span class="w">  </span><span class="c1"># Interpolation parameter for FLIRT in the template creation</span>
<span class="w">  </span><span class="c1"># Options: trilinear, nearestneighbour, sinc or spline</span>
<span class="w">  </span><span class="nt">interp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">trilinear</span>

<span class="w">  </span><span class="c1"># Cost function for FLIRT in the template creation</span>
<span class="w">  </span><span class="c1"># Options: corratio, mutualinfo, normmi, normcorr, leastsq, labeldiff or bbr</span>
<span class="w">  </span><span class="nt">cost</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">corratio</span>

<span class="w">  </span><span class="c1"># Number of threads used for one run of the template generation algorithm</span>
<span class="w">  </span><span class="nt">thread_pool</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="w">  </span><span class="c1"># Threshold of transformation distance to consider that the loop converged</span>
<span class="w">  </span><span class="c1"># (-1 means numpy.finfo(np.float64).eps and is the default)</span>
<span class="w">  </span><span class="nt">convergence_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-1</span>


<span class="nt">anatomical_preproc</span><span class="p">:</span>

<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="nt">run_t2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">  </span><span class="c1"># Non-local means filtering via ANTs DenoiseImage</span>
<span class="w">  </span><span class="nt">non_local_means_filtering</span><span class="p">:</span><span class="w"> </span>

<span class="w">    </span><span class="c1"># this is a fork option</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Off</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># options: &#39;Gaussian&#39; or &#39;Rician&#39;</span>
<span class="w">    </span><span class="nt">noise_model</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Gaussian&#39;</span>

<span class="w">  </span><span class="c1"># N4 bias field correction via ANTs</span>
<span class="w">  </span><span class="nt">n4_bias_field_correction</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># this is a fork option</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Off</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># An integer to resample the input image to save computation time. Shrink factors &lt;= 4 are commonly used.</span>
<span class="w">    </span><span class="nt">shrink_factor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="w">  </span><span class="c1"># Bias field correction based on square root of T1w * T2w</span>
<span class="w">  </span><span class="nt">t1t2_bias_field_correction</span><span class="p">:</span><span class="w"> </span>

<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span><span class="w"> </span>
<span class="w">    </span>
<span class="w">    </span><span class="nt">BiasFieldSmoothingSigma</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">    </span>
<span class="w">  </span><span class="nt">acpc_alignment</span><span class="p">:</span>

<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">    </span><span class="c1"># Run ACPC alignment before non-local means filtering or N4 bias</span>
<span class="w">    </span><span class="c1"># correction</span>
<span class="w">    </span><span class="nt">run_before_preproc</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="c1"># ACPC size of brain in z-dimension in mm.</span>
<span class="w">    </span><span class="c1"># Default: 150mm for human data.</span>
<span class="w">    </span><span class="nt">brain_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150</span>

<span class="w">    </span><span class="c1"># Choose a tool to crop the FOV in ACPC alignment. </span>
<span class="w">    </span><span class="c1"># Using FSL&#39;s robustfov or flirt command. </span>
<span class="w">    </span><span class="c1"># Default: robustfov for human data, flirt for monkey data. </span>
<span class="w">    </span><span class="nt">FOV_crop</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">robustfov</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1"># ACPC Target</span>
<span class="w">    </span><span class="c1"># options: &#39;brain&#39; or &#39;whole-head&#39;</span>
<span class="w">    </span><span class="c1">#   note: &#39;brain&#39; requires T1w_brain_ACPC_template below to be populated</span>
<span class="w">    </span><span class="nt">acpc_target</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;whole-head&#39;</span>

<span class="w">    </span><span class="c1"># Run ACPC alignment on brain mask </span>
<span class="w">    </span><span class="c1"># If the brain mask is in native space, turn it on</span>
<span class="w">    </span><span class="c1"># If the brain mask is ACPC aligned, turn it off</span>
<span class="w">    </span><span class="nt">align_brain_mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">    </span><span class="c1"># ACPC aligned template</span>
<span class="w">    </span><span class="nt">T1w_ACPC_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm.nii.gz</span>
<span class="w">    </span><span class="nt">T1w_brain_ACPC_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_brain.nii.gz</span>
<span class="w">    </span><span class="nt">T2w_ACPC_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="w">    </span><span class="nt">T2w_brain_ACPC_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="w">  </span><span class="nt">brain_extraction</span><span class="p">:</span>
<span class="w">  </span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">    </span><span class="c1"># using: [&#39;3dSkullStrip&#39;, &#39;BET&#39;, &#39;UNet&#39;, &#39;niworkflows-ants&#39;, &#39;FreeSurfer-ABCD&#39;, &#39;FreeSurfer-BET-Tight&#39;, &#39;FreeSurfer-BET-Loose&#39;, &#39;FreeSurfer-Brainmask&#39;]</span>
<span class="w">    </span><span class="c1"># this is a fork option</span>
<span class="w">    </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;BET&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># option parameters</span>
<span class="w">    </span><span class="nt">AFNI-3dSkullStrip</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Output a mask volume instead of a skull-stripped volume. The mask volume containes 0 to 6, which represents voxel&#39;s postion. If set to True, C-PAC will use this output to generate anatomical brain mask for further analysis.</span>
<span class="w">      </span><span class="nt">mask_vol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">      </span><span class="c1"># Set the threshold value controlling the brain vs non-brain voxels. Default is 0.6.</span>
<span class="w">      </span><span class="nt">shrink_factor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.6</span>

<span class="w">      </span><span class="c1"># Vary the shrink factor at every iteration of the algorithm. This prevents the likelihood of surface getting stuck in large pools of CSF before reaching the outer surface of the brain. Default is On.</span>
<span class="w">      </span><span class="nt">var_shrink_fac</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">      </span><span class="c1"># The shrink factor bottom limit sets the lower threshold when varying the shrink factor. Default is 0.4, for when edge detection is used (which is On by default), otherwise the default value is 0.65.</span>
<span class="w">      </span><span class="nt">shrink_factor_bot_lim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.4</span>

<span class="w">      </span><span class="c1"># Avoids ventricles while skullstripping.</span>
<span class="w">      </span><span class="nt">avoid_vent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">      </span><span class="c1"># Set the number of iterations. Default is 250.The number of iterations should depend upon the density of your mesh.</span>
<span class="w">      </span><span class="nt">n_iterations</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250</span>

<span class="w">      </span><span class="c1"># While expanding, consider the voxels above and not only the voxels below</span>
<span class="w">      </span><span class="nt">pushout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">      </span><span class="c1"># Perform touchup operations at the end to include areas not covered by surface expansion.</span>
<span class="w">      </span><span class="nt">touchup</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">      </span><span class="c1"># Give the maximum number of pixels on either side of the hole that can be filled. The default is 10 only if &#39;Touchup&#39; is On - otherwise, the default is 0.</span>
<span class="w">      </span><span class="nt">fill_hole</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>

<span class="w">      </span><span class="c1"># Perform nearest neighbor coordinate interpolation every few iterations. Default is 72.</span>
<span class="w">      </span><span class="nt">NN_smooth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">72</span>

<span class="w">      </span><span class="c1"># Perform final surface smoothing after all iterations. Default is 20.</span>
<span class="w">      </span><span class="nt">smooth_final</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>

<span class="w">      </span><span class="c1"># Avoid eyes while skull stripping. Default is On.</span>
<span class="w">      </span><span class="nt">avoid_eyes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">      </span><span class="c1"># Use edge detection to reduce leakage into meninges and eyes. Default is On.</span>
<span class="w">      </span><span class="nt">use_edge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">      </span><span class="c1"># Speed of expansion.</span>
<span class="w">      </span><span class="nt">exp_frac</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>

<span class="w">      </span><span class="c1"># Perform aggressive push to edge. This might cause leakage. Default is Off.</span>
<span class="w">      </span><span class="nt">push_to_edge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">      </span><span class="c1"># Use outer skull to limit expansion of surface into the skull in case of very strong shading artifacts. Use this only if you have leakage into the skull.</span>
<span class="w">      </span><span class="nt">use_skull</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Percentage of segments allowed to intersect surface. It is typically a number between 0 and 0.1, but can include negative values (which implies no testing for intersection).</span>
<span class="w">      </span><span class="nt">perc_int</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">      </span><span class="c1"># Number of iterations to remove intersection problems. With each iteration, the program automatically increases the amount of smoothing to get rid of intersections. Default is 4.</span>
<span class="w">      </span><span class="nt">max_inter_iter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>

<span class="w">      </span><span class="c1"># Multiply input dataset by FAC if range of values is too small.</span>
<span class="w">      </span><span class="nt">fac</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">      </span><span class="c1"># Blur dataset after spatial normalization. Recommended when you have lots of CSF in brain and when you have protruding gyri (finger like). If so, recommended value range is 2-4. Otherwise, leave at 0.</span>
<span class="w">      </span><span class="nt">blur_fwhm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">      </span><span class="c1"># Set it as True if processing monkey data with AFNI</span>
<span class="w">      </span><span class="nt">monkey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">    </span><span class="nt">FSL-BET</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Switch &quot;On&quot; to crop out neck regions before generating the mask (default: Off).    </span>
<span class="w">      </span><span class="nt">Robustfov </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># Set the threshold value controling the brain vs non-brain voxels, default is 0.5</span>
<span class="w">      </span><span class="nt">frac</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span>

<span class="w">      </span><span class="c1"># Mesh created along with skull stripping</span>
<span class="w">      </span><span class="nt">mesh_boolean</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Create a surface outline image</span>
<span class="w">      </span><span class="nt">outline</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Add padding to the end of the image, improving BET.Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
<span class="w">      </span><span class="nt">padding</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Integer value of head radius</span>
<span class="w">      </span><span class="nt">radius</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">      </span><span class="c1"># Reduce bias and cleanup neck. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
<span class="w">      </span><span class="nt">reduce_bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Eyes and optic nerve cleanup. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
<span class="w">      </span><span class="nt">remove_eyes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Robust brain center estimation. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
<span class="w">      </span><span class="nt">robust</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">      </span><span class="c1"># Create a skull image</span>
<span class="w">      </span><span class="nt">skull</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Gets additional skull and scalp surfaces by running bet2 and betsurf. This is mutually exclusive with reduce_bias, robust, padding, remove_eyes</span>
<span class="w">      </span><span class="nt">surfaces</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Apply thresholding to segmented brain image and mask</span>
<span class="w">      </span><span class="nt">threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Vertical gradient in fractional intensity threshold (-1,1)</span>
<span class="w">      </span><span class="nt">vertical_gradient </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span>

<span class="w">    </span><span class="nt">UNet</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># UNet model</span>
<span class="w">      </span><span class="nt">unet_model </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3://fcp-indi/resources/cpac/resources/Site-All-T-epoch_36.model</span>

<span class="w">    </span><span class="nt">niworkflows-ants</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Template to be used during niworkflows-ants.</span>
<span class="w">      </span><span class="c1"># It is not necessary to change this path unless you intend to use a non-standard template.</span>

<span class="w">      </span><span class="c1"># niworkflows-ants Brain extraction template</span>
<span class="w">      </span><span class="nt">template_path </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/ants_template/oasis/T_template0.nii.gz</span>

<span class="w">      </span><span class="c1"># niworkflows-ants probability mask</span>
<span class="w">      </span><span class="nt">mask_path </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/ants_template/oasis/T_template0_BrainCerebellumProbabilityMask.nii.gz</span>

<span class="w">      </span><span class="c1"># niworkflows-ants registration mask (can be optional)</span>
<span class="w">      </span><span class="nt">regmask_path </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/ants_template/oasis/T_template0_BrainCerebellumRegistrationMask.nii.gz</span>

<span class="w">    </span><span class="nt">FreeSurfer-BET</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Template to be used for FreeSurfer-BET brain extraction in CCS-options pipeline</span>
<span class="w">      </span><span class="nt">T1w_brain_template_mask_ccs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/ccs_template/MNI152_T1_1mm_first_brain_mask.nii.gz</span>


<span class="nt">segmentation</span><span class="p">:</span>

<span class="w">  </span><span class="c1"># Automatically segment anatomical images into white matter, gray matter,</span>
<span class="w">  </span><span class="c1"># and CSF based on prior probability maps.</span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="nt">tissue_segmentation</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># using: [&#39;FSL-FAST&#39;, &#39;Template_Based&#39;, &#39;ANTs_Prior_Based&#39;, &#39;FreeSurfer&#39;]</span>
<span class="w">    </span><span class="c1"># this is a fork point</span>
<span class="w">    </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;FSL-FAST&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># option parameters</span>
<span class="w">    </span><span class="nt">FSL-FAST</span><span class="p">:</span>

<span class="w">      </span><span class="nt">thresholding</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># thresholding of the tissue segmentation probability maps</span>
<span class="w">        </span><span class="c1"># options: &#39;Auto&#39;, &#39;Custom&#39;</span>
<span class="w">        </span><span class="nt">use</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Auto&#39;</span>

<span class="w">        </span><span class="nt">Custom</span><span class="p">:</span>
<span class="w">          </span><span class="c1"># Set the threshold value for the segmentation probability masks (CSF, White Matter, and Gray Matter)</span>
<span class="w">          </span><span class="c1"># The values remaining will become the binary tissue masks.</span>
<span class="w">          </span><span class="c1"># A good starting point is 0.95.</span>

<span class="w">          </span><span class="c1"># CSF (cerebrospinal fluid) threshold.</span>
<span class="w">          </span><span class="nt">CSF_threshold_value </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.95</span>

<span class="w">          </span><span class="c1"># White matter threshold.</span>
<span class="w">          </span><span class="nt">WM_threshold_value </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.95</span>

<span class="w">          </span><span class="c1"># Gray matter threshold.</span>
<span class="w">          </span><span class="nt">GM_threshold_value </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.95</span>

<span class="w">      </span><span class="nt">use_priors</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Use template-space tissue priors to refine the binary tissue masks generated by segmentation.</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">        </span><span class="c1"># Full path to a directory containing binarized prior probability maps.</span>
<span class="w">        </span><span class="c1"># These maps are included as part of the &#39;Image Resource Files&#39; package available on the Install page of the User Guide.</span>
<span class="w">        </span><span class="c1"># It is not necessary to change this path unless you intend to use non-standard priors.</span>
<span class="w">        </span><span class="nt">priors_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/tissuepriors/2mm</span>

<span class="w">        </span><span class="c1"># Full path to a binarized White Matter prior probability map.</span>
<span class="w">        </span><span class="c1"># It is not necessary to change this path unless you intend to use non-standard priors.</span>
<span class="w">        </span><span class="nt">WM_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$priors_path/avg152T1_white_bin.nii.gz</span>

<span class="w">        </span><span class="c1"># Full path to a binarized Gray Matter prior probability map.</span>
<span class="w">        </span><span class="c1"># It is not necessary to change this path unless you intend to use non-standard priors.</span>
<span class="w">        </span><span class="nt">GM_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$priors_path/avg152T1_gray_bin.nii.gz</span>

<span class="w">        </span><span class="c1"># Full path to a binarized CSF prior probability map.</span>
<span class="w">        </span><span class="c1"># It is not necessary to change this path unless you intend to use non-standard priors.</span>
<span class="w">        </span><span class="nt">CSF_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$priors_path/avg152T1_csf_bin.nii.gz</span>

<span class="w">    </span><span class="nt">Template_Based</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># These masks should be in the same space of your registration template, e.g. if</span>
<span class="w">      </span><span class="c1"># you choose &#39;EPI Template&#39; , below tissue masks should also be EPI template tissue masks.</span>
<span class="w">      </span><span class="c1">#</span>
<span class="w">      </span><span class="c1"># Options: [&#39;T1_Template&#39;, &#39;EPI_Template&#39;]</span>
<span class="w">      </span><span class="nt">template_for_segmentation</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;T1_Template&#39;</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="c1"># These masks are included as part of the &#39;Image Resource Files&#39; package available</span>
<span class="w">      </span><span class="c1"># on the Install page of the User Guide.</span>

<span class="w">      </span><span class="c1"># Full path to a binarized White Matter mask.</span>
<span class="w">      </span><span class="nt">WHITE</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/tissuepriors/2mm/avg152T1_white_bin.nii.gz</span>

<span class="w">      </span><span class="c1"># Full path to a binarized Gray Matter mask.</span>
<span class="w">      </span><span class="nt">GRAY</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/tissuepriors/2mm/avg152T1_gray_bin.nii.gz</span>

<span class="w">      </span><span class="c1"># Full path to a binarized CSF mask.</span>
<span class="w">      </span><span class="nt">CSF</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/tissuepriors/2mm/avg152T1_csf_bin.nii.gz</span>

<span class="w">    </span><span class="nt">ANTs_Prior_Based</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Generate white matter, gray matter, CSF masks based on antsJointLabelFusion</span>
<span class="w">      </span><span class="c1"># ANTs Prior-based Segmentation workflow that has shown optimal results for non-human primate data.</span>

<span class="w">      </span><span class="c1"># The atlas image assumed to be used in ANTs Prior-based Segmentation.</span>
<span class="w">      </span><span class="nt">template_brain_list </span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/cpac_templates/MacaqueYerkes19_T1w_0.5mm_desc-JLC_T1w_brain.nii.gz</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/cpac_templates/J_Macaque_11mo_atlas_nACQ_194x252x160space_0.5mm_desc-JLC_T1w_brain.nii.gz</span>

<span class="w">      </span><span class="c1"># The atlas segmentation images.</span>
<span class="w">      </span><span class="c1"># For performing ANTs Prior-based segmentation method</span>
<span class="w">      </span><span class="c1"># the number of specified segmentations should be identical to the number of atlas brain image sets.</span>
<span class="w">      </span><span class="c1"># eg.</span>
<span class="w">      </span><span class="c1"># ANTs_prior_seg_template_brain_list :</span>
<span class="w">      </span><span class="c1">#   - atlas1.nii.gz</span>
<span class="w">      </span><span class="c1">#   - atlas2.nii.gz</span>
<span class="w">      </span><span class="c1"># ANTs_prior_seg_template_segmentation_list:</span>
<span class="w">      </span><span class="c1">#   - segmentation1.nii.gz</span>
<span class="w">      </span><span class="c1">#   - segmentation1.nii.gz</span>
<span class="w">      </span><span class="nt">template_segmentation_list</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/cpac_templates/MacaqueYerkes19_T1w_0.5mm_desc-JLC_Segmentation.nii.gz</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/cpac_templates/J_Macaque_11mo_atlas_nACQ_194x252x160space_0.5mm_desc-JLC_Segmentation.nii.gz</span>

<span class="w">      </span><span class="c1"># Label values corresponding to CSF/GM/WM in atlas file</span>
<span class="w">      </span><span class="c1"># It is not necessary to change this values unless your CSF/GM/WM label values are different from Freesurfer Color Lookup Table.</span>
<span class="w">      </span><span class="c1"># https://surfer.nmr.mgh.harvard.edu/fswiki/FsTutorial/AnatomicalROI/FreeSurferColorLUT</span>

<span class="w">      </span><span class="c1"># Label values corresponding to CSF in multiatlas file</span>
<span class="w">      </span><span class="nt">CSF_label </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">24</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="c1"># Label values corresponding to Gray Matter in multiatlas file</span>
<span class="w">      </span><span class="nt">GM_label </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">42</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="c1"># Label values corresponding to White Matter in multiatlas file</span>
<span class="w">      </span><span class="nt">WM_label </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">41</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="nt">FreeSurfer</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Use mri_binarize --erode option to erode segmentation masks</span>
<span class="w">      </span><span class="nt">erode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">      </span><span class="c1"># Label values corresponding to CSF in FreeSurfer aseg segmentation file</span>
<span class="w">      </span><span class="nt">CSF_label </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">24</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="c1"># Label values corresponding to Gray Matter in FreeSurfer aseg segmentation file</span>
<span class="w">      </span><span class="nt">GM_label </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">42</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="c1"># Label values corresponding to White Matter in FreeSurfer aseg segmentation file</span>
<span class="w">      </span><span class="nt">WM_label </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">41</span><span class="p p-Indicator">]</span>


<span class="nt">registration_workflows</span><span class="p">:</span>

<span class="w">  </span><span class="nt">anatomical_registration</span><span class="p">:</span>

<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">    </span><span class="c1"># The resolution to which anatomical images should be transformed during registration.</span>
<span class="w">    </span><span class="c1"># This is the resolution at which processed anatomical files will be output.</span>
<span class="w">    </span><span class="nt">resolution_for_anat</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2mm</span>

<span class="w">    </span><span class="c1"># Template to be used during registration.</span>
<span class="w">    </span><span class="c1"># It is not necessary to change this path unless you intend to use a non-standard template.</span>
<span class="w">    </span><span class="nt">T1w_brain_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_brain.nii.gz</span>

<span class="w">    </span><span class="c1"># Template to be used during registration.</span>
<span class="w">    </span><span class="c1"># It is not necessary to change this path unless you intend to use a non-standard template.</span>
<span class="w">    </span><span class="nt">T1w_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}.nii.gz</span>

<span class="w">    </span><span class="c1"># Template to be used during registration.</span>
<span class="w">    </span><span class="c1"># It is not necessary to change this path unless you intend to use a non-standard template.</span>
<span class="w">    </span><span class="nt">T1w_brain_template_mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_brain_mask.nii.gz</span>

<span class="w">    </span><span class="c1"># Register skull-on anatomical image to a template.</span>
<span class="w">    </span><span class="nt">reg_with_skull</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="nt">registration</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># using: [&#39;ANTS&#39;, &#39;FSL&#39;, &#39;FSL-linear&#39;]</span>
<span class="w">      </span><span class="c1"># this is a fork point</span>
<span class="w">      </span><span class="c1">#   selecting both [&#39;ANTS&#39;, &#39;FSL&#39;] will run both and fork the pipeline</span>
<span class="w">      </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;ANTS&#39;</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="c1"># option parameters</span>
<span class="w">      </span><span class="nt">ANTs</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># If a lesion mask is available for a T1w image, use it to improve the ANTs&#39; registration</span>
<span class="w">        </span><span class="c1"># ANTS registration only.</span>
<span class="w">        </span><span class="nt">use_lesion_mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">        </span><span class="c1"># ANTs parameters for T1-template-based registration</span>
<span class="w">        </span><span class="nt">T1_registration</span><span class="p">:</span>

<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">collapse-output-transforms</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">dimensionality</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">initial-moving-transform </span><span class="p">:</span>
<span class="w">             </span><span class="nt">initializationFeature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transforms</span><span class="p">:</span>
<span class="w">             </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Rigid</span><span class="p">:</span>
<span class="w">                 </span><span class="nt">gradientStep </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">                 </span><span class="nt">metric </span><span class="p">:</span>
<span class="w">                   </span><span class="nt">type </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MI</span>
<span class="w">                   </span><span class="nt">metricWeight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">                   </span><span class="nt">numberOfBins </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">32</span>
<span class="w">                   </span><span class="nt">samplingStrategy </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Regular</span>
<span class="w">                   </span><span class="nt">samplingPercentage </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span>
<span class="w">                 </span><span class="nt">convergence</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">iteration </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000x500x250x100</span>
<span class="w">                   </span><span class="nt">convergenceThreshold </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1e-08</span>
<span class="w">                   </span><span class="nt">convergenceWindowSize </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">                 </span><span class="nt">smoothing-sigmas </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
<span class="w">                 </span><span class="nt">shrink-factors </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8x4x2x1</span>
<span class="w">                 </span><span class="nt">use-histogram-matching </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">             </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Affine</span><span class="p">:</span>
<span class="w">                 </span><span class="nt">gradientStep </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">                 </span><span class="nt">metric </span><span class="p">:</span>
<span class="w">                   </span><span class="nt">type </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MI</span>
<span class="w">                   </span><span class="nt">metricWeight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">                   </span><span class="nt">numberOfBins </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">32</span>
<span class="w">                   </span><span class="nt">samplingStrategy </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Regular</span>
<span class="w">                   </span><span class="nt">samplingPercentage </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span>
<span class="w">                 </span><span class="nt">convergence</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">iteration </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000x500x250x100</span>
<span class="w">                   </span><span class="nt">convergenceThreshold </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1e-08</span>
<span class="w">                   </span><span class="nt">convergenceWindowSize </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">                 </span><span class="nt">smoothing-sigmas </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
<span class="w">                 </span><span class="nt">shrink-factors </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8x4x2x1</span>
<span class="w">                 </span><span class="nt">use-histogram-matching </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">             </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">SyN</span><span class="p">:</span>
<span class="w">                 </span><span class="nt">gradientStep </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">                 </span><span class="nt">updateFieldVarianceInVoxelSpace </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0</span>
<span class="w">                 </span><span class="nt">totalFieldVarianceInVoxelSpace </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span>
<span class="w">                 </span><span class="nt">metric</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">type </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CC</span>
<span class="w">                   </span><span class="nt">metricWeight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">                   </span><span class="nt">radius </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">                 </span><span class="nt">convergence</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">iteration </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100x100x70x20</span>
<span class="w">                   </span><span class="nt">convergenceThreshold </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1e-09</span>
<span class="w">                   </span><span class="nt">convergenceWindowSize </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span>
<span class="w">                 </span><span class="nt">smoothing-sigmas </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
<span class="w">                 </span><span class="nt">shrink-factors </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6x4x2x1</span>
<span class="w">                 </span><span class="nt">use-histogram-matching </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">                 </span><span class="nt">winsorize-image-intensities </span><span class="p">:</span>
<span class="w">                   </span><span class="nt">lowerQuantile </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span>
<span class="w">                   </span><span class="nt">upperQuantile </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.99</span>

<span class="w">        </span><span class="c1"># Interpolation method for writing out transformed anatomical images.</span>
<span class="w">        </span><span class="c1"># Possible values: Linear, BSpline, LanczosWindowedSinc</span>
<span class="w">        </span><span class="nt">interpolation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LanczosWindowedSinc</span>

<span class="w">      </span><span class="nt">FSL-FNIRT</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Configuration file to be used by FSL to set FNIRT parameters.</span>
<span class="w">        </span><span class="c1"># It is not necessary to change this path unless you intend to use custom FNIRT parameters or a non-standard template.</span>
<span class="w">        </span><span class="nt">fnirt_config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">T1_2_MNI152_2mm</span>

<span class="w">        </span><span class="c1"># The resolution to which anatomical images should be transformed during registration.</span>
<span class="w">        </span><span class="c1"># This is the resolution at which processed anatomical files will be output. </span>
<span class="w">        </span><span class="c1"># specifically for monkey pipeline</span>
<span class="w">        </span><span class="nt">ref_resolution</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2mm</span>

<span class="w">        </span><span class="c1"># Reference mask for FSL registration.</span>
<span class="w">        </span><span class="nt">ref_mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_brain_mask_dil.nii.gz</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1"># Template to be used during registration.</span>
<span class="w">        </span><span class="c1"># It is for monkey pipeline specifically. </span>
<span class="w">        </span><span class="nt">FNIRT_T1w_brain_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="w">        </span><span class="c1"># Template to be used during registration.</span>
<span class="w">        </span><span class="c1"># It is for monkey pipeline specifically. </span>
<span class="w">        </span><span class="nt">FNIRT_T1w_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1"># Interpolation method for writing out transformed anatomical images.</span>
<span class="w">        </span><span class="c1"># Possible values: trilinear, sinc, spline</span>
<span class="w">        </span><span class="nt">interpolation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sinc</span>

<span class="w">        </span><span class="c1"># Identity matrix used during FSL-based resampling of anatomical-space data throughout the pipeline.</span>
<span class="w">        </span><span class="c1"># It is not necessary to change this path unless you intend to use a different template.</span>
<span class="w">        </span><span class="nt">identity_matrix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/etc/flirtsch/ident.mat</span>

<span class="w">        </span><span class="c1"># Reference mask with 2mm resolution to be used during FNIRT-based brain extraction in ABCD-options pipeline.</span>
<span class="w">        </span><span class="nt">ref_mask_res-2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_2mm_brain_mask_dil.nii.gz</span>

<span class="w">        </span><span class="c1"># Template with 2mm resolution to be used during FNIRT-based brain extraction in ABCD-options pipeline.</span>
<span class="w">        </span><span class="nt">T1w_template_res-2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_2mm.nii.gz</span>

<span class="w">    </span><span class="nt">overwrite_transform</span><span class="p">:</span>

<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Choose the tool to overwrite transform, currently only support &#39;FSL&#39; to overwrite &#39;ANTs&#39; transforms in ABCD-options pipeline.</span>
<span class="w">      </span><span class="c1"># using: &#39;FSL&#39;</span>
<span class="w">      </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FSL</span>

<span class="w">  </span><span class="nt">functional_registration</span><span class="p">:</span>

<span class="w">    </span><span class="nt">coregistration</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># functional (BOLD/EPI) registration to anatomical (structural/T1)</span>

<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">      </span><span class="c1"># reference: &#39;brain&#39; or &#39;restore-brain&#39;</span>
<span class="w">      </span><span class="c1"># In ABCD-options pipeline, &#39;restore-brain&#39; is used as coregistration reference</span>
<span class="w">      </span><span class="nt">reference</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brain</span>

<span class="w">      </span><span class="c1"># Choose FSL or ABCD as coregistration method</span>
<span class="w">      </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FSL</span>

<span class="w">      </span><span class="c1"># Choose brain or whole-head as coregistration input</span>
<span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">brain</span>

<span class="w">      </span><span class="c1"># Choose coregistration interpolation</span>
<span class="w">      </span><span class="nt">interpolation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">trilinear</span>

<span class="w">      </span><span class="c1"># Choose coregistration cost function</span>
<span class="w">      </span><span class="nt">cost</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">corratio</span>

<span class="w">      </span><span class="c1"># Choose coregistration degree of freedom</span>
<span class="w">      </span><span class="nt">dof</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>

<span class="w">      </span><span class="c1"># Extra arguments for FSL flirt</span>
<span class="w">      </span><span class="nt">arguments</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="w">      </span><span class="nt">func_input_prep</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Choose whether to use functional brain or skull as the input to functional-to-anatomical registration</span>
<span class="w">        </span><span class="nt">reg_with_skull</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">        </span><span class="c1"># Choose whether to use the mean of the functional/EPI as the input to functional-to-anatomical registration or one of the volumes from the functional 4D timeseries that you choose.</span>
<span class="w">        </span><span class="c1"># input: [&#39;Mean_Functional&#39;, &#39;Selected_Functional_Volume&#39;, &#39;fmriprep_reference&#39;]</span>
<span class="w">        </span><span class="nt">input</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;Mean_Functional&#39;</span><span class="p p-Indicator">]</span>

<span class="w">        </span><span class="nt">Mean Functional</span><span class="p">:</span>

<span class="w">          </span><span class="c1"># Run ANTs N4 Bias Field Correction on the input BOLD (EPI)</span>
<span class="w">          </span><span class="c1"># this can increase tissue contrast which may improve registration quality in some data</span>
<span class="w">          </span><span class="nt">n4_correct_func</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">        </span><span class="nt">Selected Functional Volume</span><span class="p">:</span>

<span class="w">          </span><span class="c1"># Only for when &#39;Use as Functional-to-Anatomical Registration Input&#39; is set to &#39;Selected Functional Volume&#39;.</span>
<span class="w">          </span><span class="c1">#Input the index of which volume from the functional 4D timeseries input file you wish to use as the input for functional-to-anatomical registration.</span>
<span class="w">          </span><span class="nt">func_reg_input_volume</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">      </span><span class="nt">boundary_based_registration</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># this is a fork point</span>
<span class="w">        </span><span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">On</span><span class="p p-Indicator">]</span>

<span class="w">        </span><span class="c1"># Standard FSL 5.0 Scheduler used for Boundary Based Registration.</span>
<span class="w">        </span><span class="c1"># It is not necessary to change this path unless you intend to use non-standard MNI registration.</span>
<span class="w">        </span><span class="nt">bbr_schedule</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/etc/flirtsch/bbr.sch</span>

<span class="w">        </span><span class="c1"># reference for boundary based registration</span>
<span class="w">        </span><span class="c1"># options: &#39;whole-head&#39; or &#39;brain&#39;</span>
<span class="w">        </span><span class="nt">reference</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">whole-head</span>

<span class="w">        </span><span class="c1"># choose which FAST map to generate BBR WM mask</span>
<span class="w">        </span><span class="c1"># options: &#39;probability_map&#39;, &#39;partial_volume_map&#39;</span>
<span class="w">        </span><span class="nt">bbr_wm_map</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;probability_map&#39;</span>

<span class="w">        </span><span class="c1"># optional FAST arguments to generate BBR WM mask</span>
<span class="w">        </span><span class="nt">bbr_wm_mask_args</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;-thr</span><span class="nv"> </span><span class="s">0.5</span><span class="nv"> </span><span class="s">-bin&#39;</span>

<span class="w">    </span><span class="nt">EPI_registration</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># directly register the mean functional to an EPI template</span>
<span class="w">      </span><span class="c1">#   instead of applying the anatomical T1-to-template transform to the functional data that has been</span>
<span class="w">      </span><span class="c1">#   coregistered to anatomical/T1 space</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># using: [&#39;ANTS&#39;, &#39;FSL&#39;, &#39;FSL-linear&#39;]</span>
<span class="w">      </span><span class="c1"># this is a fork point</span>
<span class="w">      </span><span class="c1"># ex. selecting both [&#39;ANTS&#39;, &#39;FSL&#39;] will run both and fork the pipeline</span>
<span class="w">      </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;ANTS&#39;</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="c1"># EPI template for direct functional-to-template registration</span>
<span class="w">      </span><span class="c1"># (bypassing coregistration and the anatomical-to-template transforms)</span>
<span class="w">      </span><span class="nt">EPI_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3://fcp-indi/resources/cpac/resources/epi_hbn.nii.gz</span>

<span class="w">      </span><span class="c1"># EPI template mask.</span>
<span class="w">      </span><span class="nt">EPI_template_mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="w">      </span><span class="nt">ANTs</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># EPI registration configuration - synonymous with T1_registration</span>
<span class="w">        </span><span class="c1"># parameters under anatomical registration above</span>
<span class="w">        </span><span class="nt">parameters</span><span class="p">:</span>

<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">collapse-output-transforms</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">dimensionality</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">initial-moving-transform </span><span class="p">:</span>
<span class="w">             </span><span class="nt">initializationFeature</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">transforms</span><span class="p">:</span>
<span class="w">             </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Rigid</span><span class="p">:</span>
<span class="w">                 </span><span class="nt">gradientStep </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">                 </span><span class="nt">metric </span><span class="p">:</span>
<span class="w">                   </span><span class="nt">type </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MI</span>
<span class="w">                   </span><span class="nt">metricWeight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">                   </span><span class="nt">numberOfBins </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">32</span>
<span class="w">                   </span><span class="nt">samplingStrategy </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Regular</span>
<span class="w">                   </span><span class="nt">samplingPercentage </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span>
<span class="w">                 </span><span class="nt">convergence</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">iteration </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000x500x250x100</span>
<span class="w">                   </span><span class="nt">convergenceThreshold </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1e-08</span>
<span class="w">                   </span><span class="nt">convergenceWindowSize </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">                 </span><span class="nt">smoothing-sigmas </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
<span class="w">                 </span><span class="nt">shrink-factors </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8x4x2x1</span>
<span class="w">                 </span><span class="nt">use-histogram-matching </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">             </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Affine</span><span class="p">:</span>
<span class="w">                 </span><span class="nt">gradientStep </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">                 </span><span class="nt">metric </span><span class="p">:</span>
<span class="w">                   </span><span class="nt">type </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MI</span>
<span class="w">                   </span><span class="nt">metricWeight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">                   </span><span class="nt">numberOfBins </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">32</span>
<span class="w">                   </span><span class="nt">samplingStrategy </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Regular</span>
<span class="w">                   </span><span class="nt">samplingPercentage </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.25</span>
<span class="w">                 </span><span class="nt">convergence</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">iteration </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000x500x250x100</span>
<span class="w">                   </span><span class="nt">convergenceThreshold </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1e-08</span>
<span class="w">                   </span><span class="nt">convergenceWindowSize </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">                 </span><span class="nt">smoothing-sigmas </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
<span class="w">                 </span><span class="nt">shrink-factors </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8x4x2x1</span>
<span class="w">                 </span><span class="nt">use-histogram-matching </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">             </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">SyN</span><span class="p">:</span>
<span class="w">                 </span><span class="nt">gradientStep </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">                 </span><span class="nt">updateFieldVarianceInVoxelSpace </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0</span>
<span class="w">                 </span><span class="nt">totalFieldVarianceInVoxelSpace </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span>
<span class="w">                 </span><span class="nt">metric</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">type </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CC</span>
<span class="w">                   </span><span class="nt">metricWeight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">                   </span><span class="nt">radius </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<span class="w">                 </span><span class="nt">convergence</span><span class="p">:</span>
<span class="w">                   </span><span class="nt">iteration </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100x100x70x20</span>
<span class="w">                   </span><span class="nt">convergenceThreshold </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1e-09</span>
<span class="w">                   </span><span class="nt">convergenceWindowSize </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15</span>
<span class="w">                 </span><span class="nt">smoothing-sigmas </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
<span class="w">                 </span><span class="nt">shrink-factors </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6x4x2x1</span>
<span class="w">                 </span><span class="nt">use-histogram-matching </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">                 </span><span class="nt">winsorize-image-intensities </span><span class="p">:</span>
<span class="w">                   </span><span class="nt">lowerQuantile </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span>
<span class="w">                   </span><span class="nt">upperQuantile </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.99</span>

<span class="w">        </span><span class="c1"># Interpolation method for writing out transformed EPI images.</span>
<span class="w">        </span><span class="c1"># Possible values: Linear, BSpline, LanczosWindowedSinc</span>
<span class="w">        </span><span class="nt">interpolation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LanczosWindowedSinc</span>

<span class="w">      </span><span class="nt">FSL-FNIRT</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Configuration file to be used by FSL to set FNIRT parameters.</span>
<span class="w">        </span><span class="c1"># It is not necessary to change this path unless you intend to use custom FNIRT parameters or a non-standard template.</span>
<span class="w">        </span><span class="nt">fnirt_config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">T1_2_MNI152_2mm</span>

<span class="w">        </span><span class="c1"># Interpolation method for writing out transformed EPI images.</span>
<span class="w">        </span><span class="c1"># Possible values: trilinear, sinc, spline</span>
<span class="w">        </span><span class="nt">interpolation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sinc</span>

<span class="w">        </span><span class="c1"># Identity matrix used during FSL-based resampling of BOLD-space data throughout the pipeline.</span>
<span class="w">        </span><span class="c1"># It is not necessary to change this path unless you intend to use a different template.</span>
<span class="w">        </span><span class="nt">identity_matrix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/etc/flirtsch/ident.mat</span>

<span class="w">    </span><span class="nt">func_registration_to_template</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># these options modify the application (to the functional data), not the calculation, of the</span>
<span class="w">      </span><span class="c1"># T1-to-template and EPI-to-template transforms calculated earlier during registration</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># apply the functional-to-template (T1 template) registration transform to the functional data</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># apply the functional-to-template (EPI template) registration transform to the functional data</span>
<span class="w">      </span><span class="nt">run_EPI</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="nt">output_resolution</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># The resolution (in mm) to which the preprocessed, registered functional timeseries outputs are written into.</span>
<span class="w">        </span><span class="c1"># NOTE:</span>
<span class="w">        </span><span class="c1">#   selecting a 1 mm or 2 mm resolution might substantially increase your RAM needs- these resolutions should be selected with caution.</span>
<span class="w">        </span><span class="c1">#   for most cases, 3 mm or 4 mm resolutions are suggested.</span>
<span class="w">        </span><span class="c1"># NOTE:</span>
<span class="w">        </span><span class="c1">#   this also includes the single-volume 3D preprocessed functional data,</span>
<span class="w">        </span><span class="c1">#   such as the mean functional (mean EPI) in template space</span>
<span class="w">        </span><span class="nt">func_preproc_outputs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3mm</span>

<span class="w">        </span><span class="c1"># The resolution (in mm) to which the registered derivative outputs are written into.</span>
<span class="w">        </span><span class="c1"># NOTE:</span>
<span class="w">        </span><span class="c1">#   this is for the single-volume functional-space outputs (i.e. derivatives)</span>
<span class="w">        </span><span class="c1">#   thus, a higher resolution may not result in a large increase in RAM needs as above</span>
<span class="w">        </span><span class="nt">func_derivative_outputs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3mm</span>

<span class="w">      </span><span class="nt">target_template</span><span class="p">:</span><span class="w">      </span>
<span class="w">        </span><span class="c1"># choose which template space to transform derivatives towards</span>
<span class="w">        </span><span class="c1"># using: [&#39;T1_template&#39;, &#39;EPI_template&#39;]</span>
<span class="w">        </span><span class="c1"># this is a fork point</span>
<span class="w">        </span><span class="c1"># NOTE:</span>
<span class="w">        </span><span class="c1">#   this will determine which registration transform to use to warp the functional</span>
<span class="w">        </span><span class="c1">#   outputs and derivatives to template space</span>
<span class="w">        </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;T1_template&#39;</span><span class="p p-Indicator">]</span>

<span class="w">        </span><span class="nt">T1_template</span><span class="p">:</span>

<span class="w">          </span><span class="c1"># Standard Skull Stripped Template. Used as a reference image for functional registration.</span>
<span class="w">          </span><span class="c1"># This can be different than the template used as the reference/fixed for T1-to-template registration.</span>
<span class="w">          </span><span class="nt">T1w_brain_template_funcreg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${func_resolution}_brain.nii.gz</span>

<span class="w">          </span><span class="c1"># Standard Anatomical Brain Image with Skull.</span>
<span class="w">          </span><span class="c1"># This can be different than the template used as the reference/fixed for T1-to-template registration.</span>
<span class="w">          </span><span class="nt">T1w_template_funcreg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${func_resolution}.nii.gz</span>

<span class="w">          </span><span class="c1"># Template to be used during registration.</span>
<span class="w">          </span><span class="c1"># It is not necessary to change this path unless you intend to use a non-standard template.</span>
<span class="w">          </span><span class="nt">T1w_brain_template_mask_funcreg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${func_resolution}_brain_mask.nii.gz</span>

<span class="w">          </span><span class="c1"># a standard template for resampling if using float resolution</span>
<span class="w">          </span><span class="nt">T1w_template_for_resample</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_brain.nii.gz</span>

<span class="w">        </span><span class="nt">EPI_template</span><span class="p">:</span>

<span class="w">          </span><span class="c1"># EPI template for direct functional-to-template registration</span>
<span class="w">          </span><span class="c1"># (bypassing coregistration and the anatomical-to-template transforms)</span>
<span class="w">          </span><span class="nt">EPI_template_funcreg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3://fcp-indi/resources/cpac/resources/epi_hbn.nii.gz</span>

<span class="w">          </span><span class="c1"># EPI template mask.</span>
<span class="w">          </span><span class="nt">EPI_template_mask_funcreg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="w">          </span><span class="c1"># a standard template for resampling if using float resolution</span>
<span class="w">          </span><span class="nt">EPI_template_for_resample</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_brain.nii.gz</span>

<span class="w">      </span><span class="nt">ANTs_pipelines</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Interpolation method for writing out transformed functional images.</span>
<span class="w">        </span><span class="c1"># Possible values: Linear, BSpline, LanczosWindowedSinc</span>
<span class="w">        </span><span class="nt">interpolation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LanczosWindowedSinc</span>

<span class="w">      </span><span class="nt">FNIRT_pipelines</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Interpolation method for writing out transformed functional images.</span>
<span class="w">        </span><span class="c1"># Possible values: trilinear, sinc, spline</span>
<span class="w">        </span><span class="nt">interpolation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sinc</span>

<span class="w">        </span><span class="c1"># Identity matrix used during FSL-based resampling of functional-space data throughout the pipeline.</span>
<span class="w">        </span><span class="c1"># It is not necessary to change this path unless you intend to use a different template.</span>
<span class="w">        </span><span class="nt">identity_matrix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/etc/flirtsch/ident.mat</span>

<span class="w">      </span><span class="nt">apply_transform</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># options: &#39;default&#39;, &#39;abcd&#39;, &#39;single_step_resampling_from_stc&#39;, &#39;dcan_nhp&#39;</span>
<span class="w">        </span><span class="c1"># &#39;default&#39;: apply func-to-anat and anat-to-template transforms on motion corrected functional image.</span>
<span class="w">        </span><span class="c1"># &#39;abcd&#39;: apply motion correction, func-to-anat and anat-to-template transforms on each of raw functional volume using FSL applywarp based on ABCD-HCP pipeline.</span>
<span class="w">        </span><span class="c1"># &#39;single_step_resampling_from_stc&#39;: apply motion correction, func-to-anat and anat-to-template transforms on each of slice-time-corrected functional volume using ANTs antsApplyTransform based on fMRIPrep pipeline.</span>
<span class="w">        </span><span class="c1">#   - if &#39;single_step_resampling_from_stc&#39;, &#39;template&#39; is the only valid option for ``nuisance_corrections: 2-nuisance_regression: space``</span>
<span class="w">        </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;default&#39;</span>


<span class="nt">functional_preproc</span><span class="p">:</span>

<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="nt">update_header</span><span class="p">:</span><span class="w"> </span>

<span class="w">    </span><span class="c1"># Convert raw data from LPI to RPI</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>
<span class="w">  </span>
<span class="w">  </span><span class="nt">truncation</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># First timepoint to include in analysis.</span>
<span class="w">    </span><span class="c1"># Default is 0 (beginning of timeseries).</span>
<span class="w">    </span><span class="c1"># First timepoint selection in the scan parameters in the data configuration file, if present, will over-ride this selection.</span>
<span class="w">    </span><span class="c1"># Note: the selection here applies to all scans of all participants.</span>
<span class="w">    </span><span class="nt">start_tr</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">    </span><span class="c1"># Last timepoint to include in analysis.</span>
<span class="w">    </span><span class="c1"># Default is None or End (end of timeseries).</span>
<span class="w">    </span><span class="c1"># Last timepoint selection in the scan parameters in the data configuration file, if present, will over-ride this selection.</span>
<span class="w">    </span><span class="c1"># Note: the selection here applies to all scans of all participants.</span>
<span class="w">    </span><span class="nt">stop_tr</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="w">  </span><span class="nt">scaling</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Scale functional raw data, usually used in rodent pipeline</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">    </span><span class="c1"># Scale the size of the dataset voxels by the factor.</span>
<span class="w">    </span><span class="nt">scaling_factor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>

<span class="w">  </span><span class="nt">despiking</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Run AFNI 3dDespike</span>
<span class="w">    </span><span class="c1"># this is a fork point</span>
<span class="w">    </span><span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Off</span><span class="p p-Indicator">]</span>

<span class="w">  </span><span class="nt">slice_timing_correction</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Interpolate voxel time courses so they are sampled at the same time points.</span>
<span class="w">    </span><span class="c1"># this is a fork point</span>
<span class="w">    </span><span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">On</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># use specified slice time pattern rather than one in header</span>
<span class="w">    </span><span class="nt">tpattern</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="w">    </span><span class="c1"># align each slice to given time offset</span>
<span class="w">    </span><span class="c1"># The default alignment time is the average of the &#39;tpattern&#39; values (either from the dataset header or from the tpattern option).</span>
<span class="w">    </span><span class="nt">tzero</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="w">  </span><span class="nt">motion_estimates_and_correction</span><span class="p">:</span>
<span class="w">  </span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">    </span><span class="nt">motion_estimates</span><span class="p">:</span><span class="w"> </span>

<span class="w">      </span><span class="c1"># calculate motion statistics BEFORE slice-timing correction</span>
<span class="w">      </span><span class="nt">calculate_motion_first</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># calculate motion statistics AFTER motion correction</span>
<span class="w">      </span><span class="nt">calculate_motion_after</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">    </span><span class="nt">motion_correction</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># using: [&#39;3dvolreg&#39;, &#39;mcflirt&#39;]</span>
<span class="w">      </span><span class="c1"># Forking is currently broken for this option.</span>
<span class="w">      </span><span class="c1"># Please use separate configs if you want to use each of 3dvolreg and mcflirt.</span>
<span class="w">      </span><span class="c1"># Follow https://github.com/FCP-INDI/C-PAC/issues/1935 to see when this issue is resolved.</span>
<span class="w">      </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;3dvolreg&#39;</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="c1"># option parameters</span>
<span class="w">      </span><span class="nt">AFNI-3dvolreg</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># This option is useful when aligning high-resolution datasets that may need more alignment than a few voxels.</span>
<span class="w">        </span><span class="nt">functional_volreg_twopass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">      </span><span class="c1"># Choose motion correction reference. Options: mean, median, selected_volume, fmriprep_reference</span>
<span class="w">      </span><span class="nt">motion_correction_reference</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;mean&#39;</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="c1"># Choose motion correction reference volume</span>
<span class="w">      </span><span class="nt">motion_correction_reference_volume</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">    </span><span class="nt">motion_estimate_filter</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Filter physiological (respiration) artifacts from the head motion estimates.</span>
<span class="w">      </span><span class="c1"># Adapted from DCAN Labs filter.</span>
<span class="w">      </span><span class="c1">#     https://www.ohsu.edu/school-of-medicine/developmental-cognition-and-neuroimaging-lab</span>
<span class="w">      </span><span class="c1">#     https://www.biorxiv.org/content/10.1101/337360v1.full.pdf</span>
<span class="w">      </span><span class="c1"># this is a fork point</span>
<span class="w">      </span><span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
<span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Off</span><span class="p p-Indicator">]</span>

<span class="w">      </span><span class="nt">filters</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># options: &quot;notch&quot;, &quot;lowpass&quot;</span>
<span class="w">          </span><span class="nt">filter_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;notch&quot;</span>

<span class="w">          </span><span class="c1"># Number of filter coefficients.</span>
<span class="w">          </span><span class="nt">filter_order</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>

<span class="w">          </span><span class="c1"># Dataset-wide respiratory rate data from breathing belt.</span>
<span class="w">          </span><span class="c1"># Notch filter requires either:</span>
<span class="w">          </span><span class="c1">#     &quot;breathing_rate_min&quot; and &quot;breathing_rate_max&quot;</span>
<span class="w">          </span><span class="c1"># or</span>
<span class="w">          </span><span class="c1">#     &quot;center_frequency&quot; and &quot;filter_bandwitdh&quot;.</span>
<span class="w">          </span><span class="c1"># Lowpass filter requires either:</span>
<span class="w">          </span><span class="c1">#     &quot;breathing_rate_min&quot;</span>
<span class="w">          </span><span class="c1"># or</span>
<span class="w">          </span><span class="c1">#     &quot;lowpass_cutoff&quot;.</span>
<span class="w">          </span><span class="c1"># If &quot;breathing_rate_min&quot; (for lowpass and notch filter)</span>
<span class="w">          </span><span class="c1"># and &quot;breathing_rate_max&quot; (for notch filter) are set,</span>
<span class="w">          </span><span class="c1"># the values set in &quot;lowpass_cutoff&quot; (for lowpass filter),</span>
<span class="w">          </span><span class="c1"># &quot;center_frequency&quot; and &quot;filter_bandwidth&quot; (for notch filter)</span>
<span class="w">          </span><span class="c1"># options are ignored.</span>

<span class="w">          </span><span class="c1"># Lowest Breaths-Per-Minute in dataset.</span>
<span class="w">          </span><span class="c1"># For both notch and lowpass filters.</span>
<span class="w">          </span><span class="nt">breathing_rate_min</span><span class="p">:</span>

<span class="w">          </span><span class="c1"># Highest Breaths-Per-Minute in dataset.</span>
<span class="w">          </span><span class="c1"># For notch filter.</span>
<span class="w">          </span><span class="nt">breathing_rate_max</span><span class="p">:</span>

<span class="w">          </span><span class="c1"># notch filter direct customization parameters</span>

<span class="w">          </span><span class="c1"># mutually exclusive with breathing_rate options above.</span>
<span class="w">          </span><span class="c1"># If breathing_rate_min and breathing_rate_max are provided,</span>
<span class="w">          </span><span class="c1"># the following parameters will be ignored.</span>

<span class="w">          </span><span class="c1"># the center frequency of the notch filter</span>
<span class="w">          </span><span class="nt">center_frequency</span><span class="p">:</span>

<span class="w">          </span><span class="c1"># the width of the notch filter</span>
<span class="w">          </span><span class="nt">filter_bandwidth</span><span class="p">:</span>

<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># options: &quot;notch&quot;, &quot;lowpass&quot;</span>
<span class="w">          </span><span class="nt">filter_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;lowpass&quot;</span>

<span class="w">          </span><span class="c1"># Number of filter coefficients.</span>
<span class="w">          </span><span class="nt">filter_order</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>

<span class="w">          </span><span class="c1"># Dataset-wide respiratory rate data from breathing belt.</span>
<span class="w">          </span><span class="c1"># Notch filter requires either:</span>
<span class="w">          </span><span class="c1">#     &quot;breathing_rate_min&quot; and &quot;breathing_rate_max&quot;</span>
<span class="w">          </span><span class="c1"># or</span>
<span class="w">          </span><span class="c1">#     &quot;center_frequency&quot; and &quot;filter_bandwitdh&quot;.</span>
<span class="w">          </span><span class="c1"># Lowpass filter requires either:</span>
<span class="w">          </span><span class="c1">#     &quot;breathing_rate_min&quot;</span>
<span class="w">          </span><span class="c1"># or</span>
<span class="w">          </span><span class="c1">#     &quot;lowpass_cutoff&quot;.</span>
<span class="w">          </span><span class="c1"># If &quot;breathing_rate_min&quot; (for lowpass and notch filter)</span>
<span class="w">          </span><span class="c1"># and &quot;breathing_rate_max&quot; (for notch filter) are set,</span>
<span class="w">          </span><span class="c1"># the values set in &quot;lowpass_cutoff&quot; (for lowpass filter),</span>
<span class="w">          </span><span class="c1"># &quot;center_frequency&quot; and &quot;filter_bandwidth&quot; (for notch filter)</span>
<span class="w">          </span><span class="c1"># options are ignored.</span>

<span class="w">          </span><span class="c1"># Lowest Breaths-Per-Minute in dataset.</span>
<span class="w">          </span><span class="c1"># For both notch and lowpass filters.</span>
<span class="w">          </span><span class="nt">breathing_rate_min</span><span class="p">:</span>

<span class="w">          </span><span class="c1"># lowpass filter direct customization parameter</span>

<span class="w">          </span><span class="c1"># mutually exclusive with breathing_rate options above.</span>
<span class="w">          </span><span class="c1"># If breathing_rate_min is provided, the following</span>
<span class="w">          </span><span class="c1"># parameter will be ignored.</span>

<span class="w">          </span><span class="c1"># the frequency cutoff of the filter</span>
<span class="w">          </span><span class="nt">lowpass_cutoff</span><span class="p">:</span>

<span class="w">  </span><span class="nt">distortion_correction</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># this is a fork point</span>
<span class="w">    </span><span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">On</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># using: [&#39;PhaseDiff&#39;, &#39;Blip&#39;, &#39;Blip-FSL-TOPUP&#39;]</span>
<span class="w">    </span><span class="c1">#   PhaseDiff - Perform field map correction using a single phase difference image, a subtraction of the two phase images from each echo. Default scanner for this method is SIEMENS.</span>
<span class="w">    </span><span class="c1">#   Blip - Uses AFNI 3dQWarp to calculate the distortion unwarp for EPI field maps of opposite/same phase encoding direction.</span>
<span class="w">    </span><span class="c1">#   Blip-FSL-TOPUP - Uses FSL TOPUP to calculate the distortion unwarp for EPI field maps of opposite/same phase encoding direction.</span>
<span class="w">    </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;PhaseDiff&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;Blip&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># option parameters</span>
<span class="w">    </span><span class="nt">PhaseDiff</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Since the quality of the distortion heavily relies on the skull-stripping step, we provide a choice of method (&#39;AFNI&#39; for AFNI 3dSkullStrip or &#39;BET&#39; for FSL BET).</span>
<span class="w">      </span><span class="c1"># Options: &#39;BET&#39; or &#39;AFNI&#39;</span>
<span class="w">      </span><span class="nt">fmap_skullstrip_option</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;BET&#39;</span>

<span class="w">      </span><span class="c1"># Set the fraction value for the skull-stripping of the magnitude file. Depending on the data, a tighter extraction may be necessary in order to prevent noisy voxels from interfering with preparing the field map.</span>
<span class="w">      </span><span class="c1"># The default value is 0.5.</span>
<span class="w">      </span><span class="nt">fmap_skullstrip_BET_frac</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span>

<span class="w">      </span><span class="c1"># Set the threshold value for the skull-stripping of the magnitude file. Depending on the data, a tighter extraction may be necessary in order to prevent noisy voxels from interfering with preparing the field map.</span>
<span class="w">      </span><span class="c1"># The default value is 0.6.</span>
<span class="w">      </span><span class="nt">fmap_skullstrip_AFNI_threshold</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">0.6</span>
<span class="w">      </span>
<span class="w">    </span><span class="nt">Blip-FSL-TOPUP</span><span class="p">:</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># (approximate) resolution (in mm) of warp basis for the different sub-sampling levels, default 10</span>
<span class="w">      </span><span class="nt">warpres</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># sub-sampling scheme, default 1</span>
<span class="w">      </span><span class="nt">subsamp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># FWHM (in mm) of gaussian smoothing kernel, default 8</span>
<span class="w">      </span><span class="nt">fwhm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># Max # of non-linear iterations, default 5</span>
<span class="w">      </span><span class="nt">miter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># Weight of regularisation, default depending on --ssqlambda and --regmod switches. See user documentation.</span>
<span class="w">      </span><span class="nt">lambda</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># If set (=1), lambda is weighted by current ssq, default 1</span>
<span class="w">      </span><span class="nt">ssqlambda</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># Model for regularisation of warp-field [membrane_energy bending_energy], default bending_energy</span>
<span class="w">      </span><span class="nt">regmod</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bending_energy</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># Estimate movements if set, default 1 (true)</span>
<span class="w">      </span><span class="nt">estmov</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># Minimisation method 0=Levenberg-Marquardt, 1=Scaled Conjugate Gradient, default 0 (LM)</span>
<span class="w">      </span><span class="nt">minmet</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># Order of spline, 2-&gt;Qadratic spline, 3-&gt;Cubic spline. Default=3</span>
<span class="w">      </span><span class="nt">splineorder</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># Precision for representing Hessian, double or float. Default double</span>
<span class="w">      </span><span class="nt">numprec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">double</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># Image interpolation model, linear or spline. Default spline</span>
<span class="w">      </span><span class="nt">interp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">spline</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># If set (=1), the images are individually scaled to a common mean, default 0 (false)</span>
<span class="w">      </span><span class="nt">scale</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span>
<span class="w">      </span><span class="c1"># If set (=1), the calculations are done in a different grid, default 1 (true)</span>
<span class="w">      </span><span class="nt">regrid</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">  </span><span class="nt">func_masking</span><span class="p">:</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>
<span class="w">    </span><span class="c1"># using: [&#39;AFNI&#39;, &#39;FSL&#39;, &#39;FSL_AFNI&#39;, &#39;Anatomical_Refined&#39;, &#39;Anatomical_Based&#39;, &#39;Anatomical_Resampled&#39;, &#39;CCS_Anatomical_Refined&#39;]</span>

<span class="w">    </span><span class="c1"># FSL_AFNI: fMRIPrep-style BOLD mask. Ref: https://github.com/nipreps/niworkflows/blob/a221f612/niworkflows/func/util.py#L246-L514</span>
<span class="w">    </span><span class="c1"># Anatomical_Refined: 1. binarize anat mask, in case it is not a binary mask. 2. fill holes of anat mask 3. init_bold_mask : input raw func  dilate init func brain mask 4. refined_bold_mask : input motion corrected func  dilate anatomical mask 5. get final func mask</span>
<span class="w">    </span><span class="c1"># Anatomical_Based: Generate the BOLD mask by basing it off of the anatomical brain mask. Adapted from DCAN Lab&#39;s BOLD mask method from the ABCD pipeline.</span>
<span class="w">    </span><span class="c1"># Anatomical_Resampled: Resample anatomical brain mask in standard space to get BOLD brain mask in standard space. Adapted from DCAN Lab&#39;s BOLD mask method from the ABCD pipeline. (&quot;Create fMRI resolution standard space files for T1w image, wmparc, and brain mask [] don&#39;t use FLIRT to do spline interpolation with -applyisoxfm for the 2mm and 1mm cases because it doesn&#39;t know the peculiarities of the MNI template FOVs&quot;)</span>
<span class="w">    </span><span class="c1"># CCS_Anatomical_Refined: Generate the BOLD mask by basing it off of the anatomical brain. Adapted from the BOLD mask method from the CCS pipeline.</span>

<span class="w">    </span><span class="c1"># this is a fork point</span>
<span class="w">    </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;AFNI&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="nt">FSL-BET</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Apply to 4D FMRI data, if bold_bet_functional_mean_boolean : Off.</span>
<span class="w">      </span><span class="c1"># Mutually exclusive with functional, reduce_bias, robust, padding, remove_eyes, surfaces</span>
<span class="w">      </span><span class="c1"># It must be &#39;on&#39; if select &#39;reduce_bias&#39;, &#39;robust&#39;, &#39;padding&#39;, &#39;remove_eyes&#39;, or &#39;bet_surfaces&#39; on</span>
<span class="w">      </span><span class="nt">functional_mean_boolean</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Set an intensity threshold to improve skull stripping performances of FSL BET on rodent scans.</span>
<span class="w">      </span><span class="nt">functional_mean_thr</span><span class="p">:</span><span class="w"> </span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>
<span class="w">        </span><span class="nt">threshold_value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">98</span>

<span class="w">      </span><span class="c1"># Bias correct the functional mean image to improve skull stripping performances of FSL BET on rodent scans</span>
<span class="w">      </span><span class="nt">functional_mean_bias_correction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Set the threshold value controling the brain vs non-brain voxels.</span>
<span class="w">      </span><span class="nt">frac</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.3</span>

<span class="w">      </span><span class="c1"># Mesh created along with skull stripping</span>
<span class="w">      </span><span class="nt">mesh_boolean</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Create a surface outline image</span>
<span class="w">      </span><span class="nt">outline</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Add padding to the end of the image, improving BET.Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
<span class="w">      </span><span class="nt">padding</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Integer value of head radius</span>
<span class="w">      </span><span class="nt">radius</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">      </span><span class="c1"># Reduce bias and cleanup neck. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
<span class="w">      </span><span class="nt">reduce_bias</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Eyes and optic nerve cleanup. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
<span class="w">      </span><span class="nt">remove_eyes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Robust brain center estimation. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
<span class="w">      </span><span class="nt">robust</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Create a skull image</span>
<span class="w">      </span><span class="nt">skull</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Gets additional skull and scalp surfaces by running bet2 and betsurf. This is mutually exclusive with reduce_bias, robust, padding, remove_eyes</span>
<span class="w">      </span><span class="nt">surfaces</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Apply thresholding to segmented brain image and mask</span>
<span class="w">      </span><span class="nt">threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">      </span><span class="c1"># Vertical gradient in fractional intensity threshold (-1,1)</span>
<span class="w">      </span><span class="nt">vertical_gradient</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span>

<span class="w">    </span><span class="nt">FSL_AFNI</span><span class="p">:</span>

<span class="w">      </span><span class="nt">bold_ref</span><span class="p">:</span>

<span class="w">      </span><span class="nt">brain_mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_brain_mask.nii.gz</span>

<span class="w">      </span><span class="nt">brain_probseg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_brain_mask.nii.gz</span>

<span class="w">    </span><span class="nt">Anatomical_Refined</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Choose whether or not to dilate the anatomical mask if you choose &#39;Anatomical_Refined&#39; as the functional masking option. It will dilate one voxel if enabled.</span>
<span class="w">      </span><span class="nt">anatomical_mask_dilation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">    </span><span class="c1"># Apply functional mask in native space</span>
<span class="w">    </span><span class="nt">apply_func_mask_in_native_space</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="nt">generate_func_mean</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Generate mean functional image</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="nt">normalize_func</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Normalize functional image</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>
<span class="w">  </span>
<span class="w">  </span><span class="nt">coreg_prep</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Generate sbref</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="nt">nuisance_corrections</span><span class="p">:</span>

<span class="w">  </span><span class="nt">1-ICA-AROMA</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># this is a fork point</span>
<span class="w">    </span><span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Off</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># Types of denoising strategy:</span>
<span class="w">    </span><span class="c1">#   nonaggr: nonaggressive-partial component regression</span>
<span class="w">    </span><span class="c1">#   aggr:    aggressive denoising</span>
<span class="w">    </span><span class="nt">denoising_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nonaggr</span>

<span class="w">  </span><span class="nt">2-nuisance_regression</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># this is a fork point</span>
<span class="w">    </span><span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">On</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># this is not a fork point</span>
<span class="w">    </span><span class="c1"># Run nuisance regression in native or template space</span>
<span class="w">    </span><span class="c1">#   - If set to template, will use the brain mask configured in</span>
<span class="w">    </span><span class="c1">#     ``functional_preproc: func_masking: FSL_AFNI: brain_mask``</span>
<span class="w">    </span><span class="c1">#   - If ``registration_workflows: functional_registration: func_registration_to_template: apply_trasnform: using: single_step_resampling_from_stc``, this must be set to template</span>
<span class="w">    </span><span class="nt">space</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">native</span>

<span class="w">    </span><span class="c1"># switch to Off if nuisance regression is off and you don&#39;t want to write out the regressors</span>
<span class="w">    </span><span class="nt">create_regressors</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">    </span><span class="c1"># Select which nuisance signal corrections to apply</span>
<span class="w">    </span><span class="nt">Regressors</span><span class="p">:</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w">  </span><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;default&#39;</span>

<span class="w">         </span><span class="nt">Motion</span><span class="p">:</span>
<span class="w">           </span><span class="nt">include_delayed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">include_squared</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">include_delayed_squared</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">         </span><span class="nt">aCompCor</span><span class="p">:</span>
<span class="w">           </span><span class="nt">summary</span><span class="p">:</span>
<span class="w">             </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DetrendPC</span>
<span class="w">             </span><span class="nt">components</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">           </span><span class="nt">tissues</span><span class="p">:</span>
<span class="w">             </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WhiteMatter</span>
<span class="w">             </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CerebrospinalFluid</span>
<span class="w">           </span><span class="nt">extraction_resolution</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="w">         </span><span class="nt">CerebrospinalFluid</span><span class="p">:</span>
<span class="w">           </span><span class="nt">summary</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Mean</span>
<span class="w">           </span><span class="nt">extraction_resolution</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">           </span><span class="nt">erode_mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">         </span><span class="nt">GlobalSignal</span><span class="p">:</span>
<span class="w">           </span><span class="nt">summary</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Mean</span>

<span class="w">         </span><span class="nt">PolyOrt</span><span class="p">:</span>
<span class="w">          </span><span class="nt">degree</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="w">         </span><span class="nt">Bandpass</span><span class="p">:</span>
<span class="w">           </span><span class="nt">bottom_frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span>
<span class="w">           </span><span class="nt">top_frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">           </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w">  </span><span class="nt">Name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;defaultNoGSR&#39;</span>

<span class="w">         </span><span class="nt">Motion</span><span class="p">:</span>
<span class="w">           </span><span class="nt">include_delayed</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">include_squared</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">           </span><span class="nt">include_delayed_squared</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">         </span><span class="nt">aCompCor</span><span class="p">:</span>
<span class="w">           </span><span class="nt">summary</span><span class="p">:</span>
<span class="w">             </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DetrendPC</span>
<span class="w">             </span><span class="nt">components</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">           </span><span class="nt">tissues</span><span class="p">:</span>
<span class="w">             </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WhiteMatter</span>
<span class="w">             </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CerebrospinalFluid</span>
<span class="w">           </span><span class="nt">extraction_resolution</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="w">         </span><span class="nt">CerebrospinalFluid</span><span class="p">:</span>
<span class="w">           </span><span class="nt">summary</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Mean</span>
<span class="w">           </span><span class="nt">extraction_resolution</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">           </span><span class="nt">erode_mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">         </span><span class="nt">PolyOrt</span><span class="p">:</span>
<span class="w">          </span><span class="nt">degree</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>

<span class="w">         </span><span class="nt">Bandpass</span><span class="p">:</span>
<span class="w">           </span><span class="nt">bottom_frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.01</span>
<span class="w">           </span><span class="nt">top_frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
<span class="w">           </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>

<span class="w">    </span><span class="c1"># Standard Lateral Ventricles Binary Mask</span>
<span class="w">    </span><span class="c1"># used in CSF mask refinement for CSF signal-related regressions</span>
<span class="w">    </span><span class="nt">lateral_ventricles_mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/atlases/HarvardOxford/HarvardOxford-lateral-ventricles-thr25-2mm.nii.gz</span>

<span class="w">    </span><span class="c1"># Whether to run frequency filtering before or after nuisance regression.</span>
<span class="w">    </span><span class="c1"># Options: &#39;After&#39; or &#39;Before&#39;</span>
<span class="w">    </span><span class="nt">bandpass_filtering_order</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;After&#39;</span>

<span class="w">    </span><span class="c1"># Process and refine masks used to produce regressors and time series for</span>
<span class="w">    </span><span class="c1"># regression.</span>
<span class="w">    </span><span class="nt">regressor_masks</span><span class="p">:</span>

<span class="w">      </span><span class="nt">erode_anatomical_brain_mask</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Erode binarized anatomical brain mask. If choosing True, please also set regressor_masks[&#39;erode_csf&#39;][&#39;run&#39;]: True; anatomical_preproc[&#39;brain_extraction&#39;][&#39;using&#39;]: niworkflows-ants.</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">        </span><span class="c1"># Target volume ratio, if using erosion.</span>
<span class="w">        </span><span class="c1"># Default proportion is None for anatomical brain mask.</span>
<span class="w">        </span><span class="c1"># If using erosion, using both proportion and millimeters is not recommended.</span>
<span class="w">        </span><span class="nt">brain_mask_erosion_prop</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Erode brain mask in millimeters, default for brain mask is 30 mm</span>
<span class="w">        </span><span class="c1"># Brain erosion default is using millimeters.</span>
<span class="w">        </span><span class="nt">brain_mask_erosion_mm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>

<span class="w">        </span><span class="c1"># Erode binarized brain mask in millimeter</span>
<span class="w">        </span><span class="nt">brain_erosion_mm</span><span class="p">:</span>

<span class="w">      </span><span class="nt">erode_csf</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Erode binarized csf tissue mask.</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">        </span><span class="c1"># Target volume ratio, if using erosion.</span>
<span class="w">        </span><span class="c1"># Default proportion is None for cerebrospinal fluid mask.</span>
<span class="w">        </span><span class="c1"># If using erosion, using both proportion and millimeters is not recommended.</span>
<span class="w">        </span><span class="nt">csf_erosion_prop</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Erode cerebrospinal fluid mask in millimeters, default for cerebrospinal fluid is 30mm</span>
<span class="w">        </span><span class="c1"># Cerebrospinal fluid erosion default is using millimeters.</span>
<span class="w">        </span><span class="nt">csf_mask_erosion_mm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>

<span class="w">        </span><span class="c1"># Erode binarized cerebrospinal fluid mask in millimeter</span>
<span class="w">        </span><span class="nt">csf_erosion_mm</span><span class="p">:</span>

<span class="w">      </span><span class="nt">erode_wm</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Erode WM binarized tissue mask.</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">        </span><span class="c1"># Target volume ratio, if using erosion.</span>
<span class="w">        </span><span class="c1"># Default proportion is 0.6 for white matter mask.</span>
<span class="w">        </span><span class="c1"># If using erosion, using both proportion and millimeters is not recommended.</span>
<span class="w">        </span><span class="c1"># White matter erosion default is using proportion erosion method when use erosion for white matter.</span>
<span class="w">        </span><span class="nt">wm_erosion_prop</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.6</span>

<span class="w">        </span><span class="c1"># Erode white matter mask in millimeters, default for white matter is None</span>
<span class="w">        </span><span class="nt">wm_mask_erosion_mm</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Erode binarized white matter mask in millimeters</span>
<span class="w">        </span><span class="nt">wm_erosion_mm</span><span class="p">:</span>

<span class="w">      </span><span class="nt">erode_gm</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Erode gray matter binarized tissue mask.</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">        </span><span class="c1"># Target volume ratio, if using erosion.</span>
<span class="w">        </span><span class="c1"># If using erosion, using both proportion and millimeters is not recommended.</span>
<span class="w">        </span><span class="nt">gm_erosion_prop</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.6</span>

<span class="w">        </span><span class="c1"># Erode gray matter mask in millimeters</span>
<span class="w">        </span><span class="nt">gm_mask_erosion_mm</span><span class="p">:</span>

<span class="w">        </span><span class="c1"># Erode binarized gray matter mask in millimeters</span>
<span class="w">        </span><span class="nt">gm_erosion_mm</span><span class="p">:</span>


<span class="c1"># OUTPUTS AND DERIVATIVES</span>
<span class="c1"># -----------------------</span>
<span class="nt">post_processing</span><span class="p">:</span>

<span class="w">  </span><span class="nt">spatial_smoothing</span><span class="p">:</span>

<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">    </span><span class="c1"># Smooth the derivative outputs.</span>
<span class="w">    </span><span class="c1"># Set as [&#39;nonsmoothed&#39;] to disable smoothing. Set as [&#39;smoothed&#39;, &#39;nonsmoothed&#39;] to get both.</span>
<span class="w">    </span><span class="c1">#</span>
<span class="w">    </span><span class="c1"># Options:</span>
<span class="w">    </span><span class="c1">#     [&#39;smoothed&#39;, &#39;nonsmoothed&#39;]</span>
<span class="w">    </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;smoothed&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># Tool to use for smoothing.</span>
<span class="w">    </span><span class="c1"># &#39;FSL&#39; for FSL MultiImageMaths for FWHM provided</span>
<span class="w">    </span><span class="c1"># &#39;AFNI&#39; for AFNI 3dBlurToFWHM for FWHM provided</span>
<span class="w">    </span><span class="nt">smoothing_method</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;FSL&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># Full Width at Half Maximum of the Gaussian kernel used during spatial smoothing.</span>
<span class="w">    </span><span class="c1"># this is a fork point</span>
<span class="w">    </span><span class="c1">#   i.e. multiple kernels - fwhm: [4,6,8]</span>
<span class="w">    </span><span class="nt">fwhm</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">4</span><span class="p p-Indicator">]</span>

<span class="w">  </span><span class="nt">z-scoring</span><span class="p">:</span>

<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">    </span><span class="c1"># z-score standardize the derivatives. This may be needed for group-level analysis.</span>
<span class="w">    </span><span class="c1"># Set as [&#39;raw&#39;] to disable z-scoring. Set as [&#39;z-scored&#39;, &#39;raw&#39;] to get both.</span>
<span class="w">    </span><span class="c1">#</span>
<span class="w">    </span><span class="c1"># Options:</span>
<span class="w">    </span><span class="c1">#     [&#39;z-scored&#39;, &#39;raw&#39;]</span>
<span class="w">    </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;z-scored&#39;</span><span class="p p-Indicator">]</span>


<span class="nt">timeseries_extraction</span><span class="p">:</span>

<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="c1"># Enter paths to region-of-interest (ROI) NIFTI files (.nii or .nii.gz) to be used for time-series extraction, and then select which types of analyses to run.</span>
<span class="w">  </span><span class="c1"># Denote which analyses to run for each ROI path by listing the names below. For example, if you wish to run Avg and SpatialReg, you would enter: &#39;/path/to/ROI.nii.gz&#39;: Avg, SpatialReg</span>
<span class="w">  </span><span class="c1"># available analyses:</span>
<span class="w">  </span><span class="c1">#   /path/to/atlas.nii.gz: Avg, Voxel, SpatialReg</span>
<span class="w">  </span><span class="nt">tse_roi_paths</span><span class="p">:</span>
<span class="w">    </span><span class="nt">/cpac_templates/CC400.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/cpac_templates/aal_mask_pad.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/cpac_templates/CC200.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/cpac_templates/tt_mask_pad.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/cpac_templates/PNAS_Smith09_rsn10.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SpatialReg</span>
<span class="w">    </span><span class="nt">/cpac_templates/ho_mask_pad.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/cpac_templates/rois_3mm.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/AAL_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/CAPRSC_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/DKT_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/DesikanKlein_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/HarvardOxfordcort-maxprob-thr25_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/HarvardOxfordsub-maxprob-thr25_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/Juelich_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/MICCAI_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/cpac_templates/Schaefer2018_space-FSLMNI152_res-2mm_desc-1000Parcels17NetworksOrder.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/cpac_templates/Schaefer2018_space-FSLMNI152_res-2mm_desc-200Parcels17NetworksOrder.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/cpac_templates/Schaefer2018_space-FSLMNI152_res-2mm_desc-300Parcels17NetworksOrder.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/cpac_templates/Schaefer2018_space-FSLMNI152_res-2mm_desc-400Parcels17NetworksOrder.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/Talairach_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/Brodmann_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/Desikan_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/Glasser_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/Slab907_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/Yeo-17-liberal_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/Yeo-17_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/Yeo-7-liberal_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>
<span class="w">    </span><span class="nt">/ndmg_atlases/label/Human/Yeo-7_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg</span>

<span class="w">  </span><span class="c1"># Functional time-series and ROI realignment method: [&#39;ROI_to_func&#39;] or [&#39;func_to_ROI&#39;]</span>
<span class="w">  </span><span class="c1"># &#39;ROI_to_func&#39; will realign the atlas/ROI to functional space (fast)</span>
<span class="w">  </span><span class="c1"># &#39;func_to_ROI&#39; will realign the functional time series to the atlas/ROI space</span>
<span class="w">  </span><span class="c1">#</span>
<span class="w">  </span><span class="c1">#     NOTE: in rare cases, realigning the ROI to the functional space may</span>
<span class="w">  </span><span class="c1">#           result in small misalignments for very small ROIs - please double</span>
<span class="w">  </span><span class="c1">#           check your data if you see issues</span>
<span class="w">  </span><span class="nt">realignment</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;ROI_to_func&#39;</span>

<span class="w">  </span><span class="nt">connectivity_matrix</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Create a connectivity matrix from timeseries data</span>

<span class="w">    </span><span class="c1"># Options:</span>
<span class="w">    </span><span class="c1">#  [&#39;AFNI&#39;, &#39;Nilearn&#39;, &#39;ndmg&#39;]</span>
<span class="w">    </span><span class="nt">using</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Nilearn</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ndmg</span>
<span class="w">    </span><span class="c1"># Options:</span>
<span class="w">    </span><span class="c1">#  [&#39;Pearson&#39;, &#39;Partial&#39;]</span>
<span class="w">    </span><span class="c1"># Note: These options are not configurable for ndmg, which will ignore these options</span>
<span class="w">    </span><span class="nt">measure</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Pearson</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Partial</span>

<span class="nt">seed_based_correlation_analysis</span><span class="p">:</span>

<span class="w">  </span><span class="c1"># SCA - Seed-Based Correlation Analysis</span>
<span class="w">  </span><span class="c1"># For each extracted ROI Average time series, CPAC will generate a whole-brain correlation map.</span>
<span class="w">  </span><span class="c1"># It should be noted that for a given seed/ROI, SCA maps for ROI Average time series will be the same.</span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">  </span><span class="c1"># Enter paths to region-of-interest (ROI) NIFTI files (.nii or .nii.gz) to be used for seed-based correlation analysis, and then select which types of analyses to run.</span>
<span class="w">  </span><span class="c1"># Denote which analyses to run for each ROI path by listing the names below. For example, if you wish to run Avg and MultReg, you would enter: &#39;/path/to/ROI.nii.gz&#39;: Avg, MultReg</span>
<span class="w">  </span><span class="c1"># available analyses:</span>
<span class="w">  </span><span class="c1">#   /path/to/atlas.nii.gz: Avg, DualReg, MultReg</span>
<span class="w">  </span><span class="nt">sca_roi_paths</span><span class="p">:</span>
<span class="w">    </span><span class="nt">/cpac_templates/PNAS_Smith09_rsn10.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DualReg</span>
<span class="w">    </span><span class="nt">/cpac_templates/CC400.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
<span class="w">    </span><span class="nt">/cpac_templates/ez_mask_pad.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
<span class="w">    </span><span class="nt">/cpac_templates/aal_mask_pad.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
<span class="w">    </span><span class="nt">/cpac_templates/CC200.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
<span class="w">    </span><span class="nt">/cpac_templates/tt_mask_pad.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
<span class="w">    </span><span class="nt">/cpac_templates/ho_mask_pad.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
<span class="w">    </span><span class="nt">/cpac_templates/rois_3mm.nii.gz</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>

<span class="w">  </span><span class="c1"># Normalize each time series before running Dual Regression SCA.</span>
<span class="w">  </span><span class="nt">norm_timeseries_for_DR</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="nt">amplitude_low_frequency_fluctuation</span><span class="p">:</span>

<span class="w">  </span><span class="c1"># ALFF &amp; f/ALFF</span>
<span class="w">  </span><span class="c1"># Calculate Amplitude of Low Frequency Fluctuations (ALFF) and fractional ALFF (f/ALFF) for all voxels.</span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="c1"># space: Template or Native</span>
<span class="w">  </span><span class="nt">target_space</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;Native&#39;</span><span class="p p-Indicator">]</span>

<span class="w">  </span><span class="c1"># Frequency cutoff (in Hz) for the high-pass filter used when calculating f/ALFF.</span>
<span class="w">  </span><span class="nt">highpass_cutoff</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0.01</span><span class="p p-Indicator">]</span>

<span class="w">  </span><span class="c1"># Frequency cutoff (in Hz) for the low-pass filter used when calculating f/ALFF</span>
<span class="w">  </span><span class="nt">lowpass_cutoff</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0.1</span><span class="p p-Indicator">]</span>


<span class="nt">regional_homogeneity</span><span class="p">:</span>

<span class="w">  </span><span class="c1"># ReHo</span>
<span class="w">  </span><span class="c1"># Calculate Regional Homogeneity (ReHo) for all voxels.</span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="c1"># space: Template or Native</span>
<span class="w">  </span><span class="nt">target_space</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;Native&#39;</span><span class="p p-Indicator">]</span>

<span class="w">  </span><span class="c1"># Number of neighboring voxels used when calculating ReHo</span>
<span class="w">  </span><span class="c1"># 7 (Faces)</span>
<span class="w">  </span><span class="c1"># 19 (Faces + Edges)</span>
<span class="w">  </span><span class="c1"># 27 (Faces + Edges + Corners)</span>
<span class="w">  </span><span class="nt">cluster_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">27</span>


<span class="nt">voxel_mirrored_homotopic_connectivity</span><span class="p">:</span>

<span class="w">  </span><span class="c1"># VMHC</span>
<span class="w">  </span><span class="c1"># Calculate Voxel-mirrored Homotopic Connectivity (VMHC) for all voxels.</span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="nt">symmetric_registration</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Included as part of the &#39;Image Resource Files&#39; package available on the Install page of the User Guide.</span>
<span class="w">    </span><span class="c1"># It is not necessary to change this path unless you intend to use a non-standard symmetric template.</span>
<span class="w">    </span><span class="nt">T1w_brain_template_symmetric</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_brain_symmetric.nii.gz</span>

<span class="w">    </span><span class="c1"># Included as part of the &#39;Image Resource Files&#39; package available on the Install page of the User Guide.</span>
<span class="w">    </span><span class="c1"># It is not necessary to change this path unless you intend to use a non-standard symmetric template.</span>
<span class="w">    </span><span class="nt">T1w_brain_template_symmetric_funcreg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${func_resolution}_brain_symmetric.nii.gz</span>

<span class="w">    </span><span class="c1"># A reference symmetric brain template for resampling</span>
<span class="w">    </span><span class="nt">T1w_brain_template_symmetric_for_resample</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_brain_symmetric.nii.gz</span>

<span class="w">    </span><span class="c1"># Included as part of the &#39;Image Resource Files&#39; package available on the Install page of the User Guide.</span>
<span class="w">    </span><span class="c1"># It is not necessary to change this path unless you intend to use a non-standard symmetric template.</span>
<span class="w">    </span><span class="nt">T1w_template_symmetric</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_symmetric.nii.gz</span>

<span class="w">    </span><span class="c1"># Included as part of the &#39;Image Resource Files&#39; package available on the Install page of the User Guide.</span>
<span class="w">    </span><span class="c1"># It is not necessary to change this path unless you intend to use a non-standard symmetric template.</span>
<span class="w">    </span><span class="nt">T1w_template_symmetric_funcreg</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${func_resolution}_symmetric.nii.gz</span>

<span class="w">    </span><span class="c1"># A reference symmetric skull template for resampling</span>
<span class="w">    </span><span class="nt">T1w_template_symmetric_for_resample</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_symmetric.nii.gz</span>

<span class="w">    </span><span class="c1"># Included as part of the &#39;Image Resource Files&#39; package available on the Install page of the User Guide.</span>
<span class="w">    </span><span class="c1"># It is not necessary to change this path unless you intend to use a non-standard symmetric template.</span>
<span class="w">    </span><span class="nt">dilated_symmetric_brain_mask</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_brain_mask_symmetric_dil.nii.gz</span>

<span class="w">    </span><span class="c1"># A reference symmetric brain mask template for resampling</span>
<span class="w">    </span><span class="nt">dilated_symmetric_brain_mask_for_resample</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_brain_mask_symmetric_dil.nii.gz</span>


<span class="nt">network_centrality</span><span class="p">:</span>

<span class="w">  </span><span class="c1"># Calculate Degree, Eigenvector Centrality, or Functional Connectivity Density.</span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">On</span>

<span class="w">  </span><span class="c1"># Maximum amount of RAM (in GB) to be used when calculating Degree Centrality.</span>
<span class="w">  </span><span class="c1"># Calculating Eigenvector Centrality will require additional memory based on the size of the mask or number of ROI nodes.</span>
<span class="w">  </span><span class="nt">memory_allocation</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>

<span class="w">  </span><span class="c1"># Full path to a NIFTI file describing the mask. Centrality will be calculated for all voxels within the mask.</span>
<span class="w">  </span><span class="nt">template_specification_file</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">/cpac_templates/Mask_ABIDE_85Percent_GM.nii.gz</span>

<span class="w">  </span><span class="nt">degree_centrality</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Enable/Disable degree centrality by selecting the connectivity weights</span>
<span class="w">    </span><span class="c1">#   weight_options: [&#39;Binarized&#39;, &#39;Weighted&#39;]</span>
<span class="w">    </span><span class="c1"># disable this type of centrality with:</span>
<span class="w">    </span><span class="c1">#   weight_options: []</span>
<span class="w">    </span><span class="nt">weight_options</span><span class="p">:</span><span class="w">  </span><span class="p p-Indicator">[</span><span class="s">&#39;Binarized&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;Weighted&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># Select the type of threshold used when creating the degree centrality adjacency matrix.</span>
<span class="w">    </span><span class="c1"># options:</span>
<span class="w">    </span><span class="c1">#   &#39;Significance threshold&#39;, &#39;Sparsity threshold&#39;, &#39;Correlation threshold&#39;</span>
<span class="w">    </span><span class="nt">correlation_threshold_option</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Sparsity</span><span class="nv"> </span><span class="s">threshold&#39;</span>

<span class="w">    </span><span class="c1"># Based on the Threshold Type selected above, enter a Threshold Value.</span>
<span class="w">    </span><span class="c1"># P-value for Significance Threshold</span>
<span class="w">    </span><span class="c1"># Sparsity value for Sparsity Threshold</span>
<span class="w">    </span><span class="c1"># Pearson&#39;s r value for Correlation Threshold</span>
<span class="w">    </span><span class="nt">correlation_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.001</span>

<span class="w">  </span><span class="nt">eigenvector_centrality</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Enable/Disable eigenvector centrality by selecting the connectivity weights</span>
<span class="w">    </span><span class="c1">#   weight_options: [&#39;Binarized&#39;, &#39;Weighted&#39;]</span>
<span class="w">    </span><span class="c1"># disable this type of centrality with:</span>
<span class="w">    </span><span class="c1">#   weight_options: []</span>
<span class="w">    </span><span class="nt">weight_options</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;Weighted&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># Select the type of threshold used when creating the eigenvector centrality adjacency matrix.</span>
<span class="w">    </span><span class="c1"># options:</span>
<span class="w">    </span><span class="c1">#   &#39;Significance threshold&#39;, &#39;Sparsity threshold&#39;, &#39;Correlation threshold&#39;</span>
<span class="w">    </span><span class="nt">correlation_threshold_option</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Sparsity</span><span class="nv"> </span><span class="s">threshold&#39;</span>

<span class="w">    </span><span class="c1"># Based on the Threshold Type selected above, enter a Threshold Value.</span>
<span class="w">    </span><span class="c1"># P-value for Significance Threshold</span>
<span class="w">    </span><span class="c1"># Sparsity value for Sparsity Threshold</span>
<span class="w">    </span><span class="c1"># Pearson&#39;s r value for Correlation Threshold</span>
<span class="w">    </span><span class="nt">correlation_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.001</span>

<span class="w">  </span><span class="nt">local_functional_connectivity_density</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># Enable/Disable lFCD by selecting the connectivity weights</span>
<span class="w">    </span><span class="c1">#   weight_options: [&#39;Binarized&#39;, &#39;Weighted&#39;]</span>
<span class="w">    </span><span class="c1"># disable this type of centrality with:</span>
<span class="w">    </span><span class="c1">#   weight_options: []</span>
<span class="w">    </span><span class="nt">weight_options</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;Binarized&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;Weighted&#39;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># Select the type of threshold used when creating the lFCD adjacency matrix.</span>
<span class="w">    </span><span class="c1"># options:</span>
<span class="w">    </span><span class="c1">#   &#39;Significance threshold&#39;, &#39;Correlation threshold&#39;</span>
<span class="w">    </span><span class="nt">correlation_threshold_option</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Correlation</span><span class="nv"> </span><span class="s">threshold&#39;</span>

<span class="w">    </span><span class="c1"># Based on the Threshold Type selected above, enter a Threshold Value.</span>
<span class="w">    </span><span class="c1"># P-value for Significance Threshold</span>
<span class="w">    </span><span class="c1"># Sparsity value for Sparsity Threshold</span>
<span class="w">    </span><span class="c1"># Pearson&#39;s r value for Correlation Threshold</span>
<span class="w">    </span><span class="nt">correlation_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.6</span>


<span class="c1"># PACKAGE INTEGRATIONS</span>
<span class="c1"># --------------------</span>
<span class="nt">PyPEER</span><span class="p">:</span>

<span class="w">  </span><span class="c1"># Training of eye-estimation models. Commonly used for movies data/naturalistic viewing.</span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Off</span>

<span class="w">  </span><span class="c1"># PEER scan names to use for training</span>
<span class="w">  </span><span class="c1"># Example: [&#39;peer_run-1&#39;, &#39;peer_run-2&#39;]</span>
<span class="w">  </span><span class="nt">eye_scan_names</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>

<span class="w">  </span><span class="c1"># Naturalistic viewing data scan names to use for eye estimation</span>
<span class="w">  </span><span class="c1"># Example: [&#39;movieDM&#39;]</span>
<span class="w">  </span><span class="nt">data_scan_names</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>

<span class="w">  </span><span class="c1"># Template-space eye mask</span>
<span class="w">  </span><span class="nt">eye_mask_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${func_resolution}_eye_mask.nii.gz</span>

<span class="w">  </span><span class="c1"># PyPEER Stimulus File Path</span>
<span class="w">  </span><span class="c1"># This is a file describing the stimulus locations from the calibration sequence.</span>
<span class="w">  </span><span class="nt">stimulus_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>

<span class="w">  </span><span class="nt">minimal_nuisance_correction</span><span class="p">:</span>

<span class="w">    </span><span class="c1"># PyPEER Minimal nuisance regression</span>
<span class="w">    </span><span class="c1"># Note: PyPEER employs minimal preprocessing - these choices do not reflect what runs in the main pipeline.</span>
<span class="w">    </span><span class="c1">#       PyPEER uses non-nuisance-regressed data from the main pipeline.</span>

<span class="w">    </span><span class="c1"># Global signal regression (PyPEER only)</span>
<span class="w">    </span><span class="nt">peer_gsr</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="c1"># Motion scrubbing (PyPEER only)</span>
<span class="w">    </span><span class="nt">peer_scrub</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="w">    </span><span class="c1"># Motion scrubbing threshold (PyPEER only)</span>
<span class="w">    </span><span class="nt">scrub_thresh</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.2</span>
</pre></div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 20122024, C-PAC Developers. C-PAC is licensed under LGPL-3.0-or-later
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=23d38711"></script>
    <script src="../../_static/doctools.js?v=d248f5b3"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/scripts/furo.js?v=4e2eecee"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/underscore.js?v=f1230927"></script>
    <script src="../../_static/doctools.js?v=d248f5b3"></script>
    <script src="../../_static/hideEmptyHighlights.js?v=af317073"></script>
    <script defer="defer" src="../../_static/versionList.js?v=f2bc52a7"></script>
    </body>
</html>