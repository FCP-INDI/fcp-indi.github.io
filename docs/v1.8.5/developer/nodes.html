<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex" /><link rel="search" title="Search" href="../search" /><link rel="next" title="Random State" href="random_state" /><link rel="prev" title="Templates and Atlases" href="templates" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><meta name="generator" content="sphinx-4.0.0, furo 2022.09.29"/>
        <title>Nodes - C-PAC 1.8.5 Beta documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index"><div class="brand">C-PAC 1.8.5 Beta documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/cpac_logo_vertical.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">C-PAC 1.8.5 Beta documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../user/index">User Guide</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../user/release_notes/v1.8.5">Latest Release: Version 1.8.5 Beta (May 24, 2023)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/quick">1. C-PAC Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/subject_list_config">2. Specify Your Data</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user/pipelines/pipeline_config">3. Select Your Pipeline</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/pipelines/preconfig">Pre-configured Pipelines</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../user/pipelines/configurable-settings">Configurable Settings</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../user/alff">ALFF and f/ALFF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/reho">ReHo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/centrality">Network Centrality</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/sca">SCA/Dual Regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/vmhc">VMHC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/pypeer">PyPEER Integration</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../user/pipelines/data-environment">Data Management and Environment Settings</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../user/compute_config">Computer Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/output_config">Output Settings</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../user/pipelines/pre-and-post">Pre- and post-processing</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../user/anat">Anatomical Preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/func">Functional Preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/nuisance">Nuisance Corrections</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/tse">Timeseries Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/tse#configuring-roi-time-series-extraction">Configuring ROI Time Series Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/after_warp">After Warp Settings</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../user/pipelines/derivatives">Derivatives</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../user/sca">Seed-based Correlation Analysis (SCA) and Dual Regression - Analyze the connectivity between brain regions.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/vmhc">Voxel-mirrored Homotopic Connectivity (VMHC) - Investigate connectivity between hemispheres.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/alff">Amplitude of Low Frequency Fluctuations (ALFF) and fractional ALFF (fALFF) - Measure the power of slow fluctuations in brain activity.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/reho">Regional Homogeneity (ReHo) - Measure the similarity of activity patterns across neighboring voxels.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/centrality">Network Centrality - Analyze the structure of functional networks.</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../user/pipelines/quality">Quality Control</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../user/qc_interface">QC Pages - Visual Data Quality Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user/xcpqc">XCP QC files - eXtensible Connectivity Pipeline-style quality control files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user/preprocessing">4. Pre-Process Your Data</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/anat">Anatomical Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/func">Functional Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/longitudinal">Longitudinal Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/nuisance">Nuisance Corrections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/aroma_ica">ICA Denoising</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/tse">Timeseries Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/tse#configuring-roi-time-series-extraction">Configuring ROI Time Series Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/after_warp">After Warp Settings</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user/derivatives">5. Compute Derivatives</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/alff">ALFF and f/ALFF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/reho">ReHo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/centrality">Network Centrality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/sca">SCA/Dual Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/vmhc">VMHC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/pypeer">PyPEER Integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user/running">6. All Run Options</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user/group_analysis">7. Run Group Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/group_fsl_feat">FSL FEAT &amp; Randomise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/group_pybasc">Bootstrapped Analysis of Stable Clusters (PyBASC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/group_mdmr">Multivariate Distance Matrix Regression (MDMR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/group_isc">Inter-subject Correlation (ISC) &amp; Inter-subject Functional Correlation (ISFC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/group_qpp">Quasi-Periodic Patterns (QPP)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user/output_dir">8. Check Your Outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/help">10. Troubleshoot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/rnotes">11. Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/appendix">Appendix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/appendix#benchmark-package">Benchmark Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/versions">C-PAC versions</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index">Developer Documentation</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation">Installing CPAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipeline">Pipeline Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates">Templates and Atlases</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="random_state">Random State</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow_documentation">Workflow Documentation</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="workflows/index">Workflows</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="workflows/cpac_pipeline">C-PAC Pipeline Construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/anat_preproc">Anatomical Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/func_preproc">Functional Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/seg_preproc">Segmentation Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/sca">Seed Based Correlation Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/basc">Bootstrap Analysis of Stable Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/nuisance">Nuisance Signal Removal</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/alff">Amplitude of Low Frequency Fluctuations(ALFF) and fractional ALFF</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/vmhc">Voxel Mirrored Homotopic Connectivity Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/reho">Regional Homogeneity Approach to fMRI data analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/generate_motion_statistics">Generate Motion and Power Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/scrubbing">Scrubbing</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/group_analysis">Group Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/easy_thresh">Easy thresh</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/mdmr">Multivariate Distance Matrix Regression (MDMR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/median_angle">Median Angle Correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/registration">Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/timeseries">Timeseries Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="workflows/network_centrality">Network Centrality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workflows/index#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="xcpqc">eXtensible Connectivity Pipeline-style quality control files</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing">Testing CPAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="continuous_integration">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="deprecating">Deprecating a version of C-PAC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../license">License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="nodes">
<h1>Nodes<a class="headerlink" href="#nodes" title="Permalink to this headline">#</a></h1>
<p id="n-cpus"><span id="n-procs"></span><span id="mem-gb"></span>A Nipype <code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> has an initialization parameter <code class="docutils literal notranslate"><span class="pre">mem_gb</span></code> that differs from the <a class="reference internal" href="../user/run/help"><span class="doc">commandline option</span></a> <code class="docutils literal notranslate"><span class="pre">--mem_gb</span></code>. While the commandline option is <strong>a limit</strong>, the Node initialization parameter is <strong>an estimate</strong> of the most memory that Node will consume when run. The Node parameter is not a limit; rather, this value is used to allocate system resources at runtime.</p>
<p>Conversely, the commandline option <code class="docutils literal notranslate"><span class="pre">--n_cpus</span></code> is <strong>a limit</strong> and the Node initialization parameter <code class="docutils literal notranslate"><span class="pre">n_procs</span></code> is <strong>also a limit</strong> of the maximum number of threads a Node will be permmitted to consume.</p>
<p>C-PAC automatically creates a JSON-like file called <code class="docutils literal notranslate"><span class="pre">callback.log</span></code> (via the function <a class="reference internal" href="#CPAC.utils.monitoring.log_nodes_cb" title="CPAC.utils.monitoring.log_nodes_cb"><code class="xref py py-func docutils literal notranslate"><span class="pre">log_nodes_cb</span></code></a>) when running. This file includes for each Node:</p>
<blockquote>
<div><ul class="simple">
<li><p>estimated memory,</p></li>
<li><p>memory usage observed at runtime,</p></li>
<li><p>specified maximum number of threads per Node, and</p></li>
<li><p>threads used at runtime.</p></li>
</ul>
</div></blockquote>
<p>A <code class="docutils literal notranslate"><span class="pre">callback.log</span></code> can be provided to the pipeline configuration file (see <a class="reference internal" href="../user/compute_config"><span class="doc">Computer Settings</span></a>) or with the commandline flag <code class="docutils literal notranslate"><span class="pre">--runtime_usage</span></code>. If a callback log is provided in the pipeline configuration, nodes with names that match nodes recorded in that pipeline log will have their memory estimates overridden by the values in the callback log plus a buffer percent (provided with the <code class="docutils literal notranslate"><span class="pre">--runtime_buffer</span></code> flag or in the pipeline configuration file).</p>
<p>When a developer creates or modifies a Node in C-PAC, a <code class="docutils literal notranslate"><span class="pre">mem_gb</span></code> and <code class="docutils literal notranslate"><span class="pre">n_procs</span></code> argument should be provided unless the respective defaults of 0.2 and None (number of available system cores) are expected to be sufficient. When testing, the <code class="docutils literal notranslate"><span class="pre">mem_gb</span></code> and <code class="docutils literal notranslate"><span class="pre">n_procs</span></code> arguments should be adjusted if the observed memory and/or thread usage of a Node exceeds the estimate.</p>
<p>For nodes that will use a varying amount of memory depending on the node’s input data, the optional parameter <code class="docutils literal notranslate"><span class="pre">mem_x</span></code> takes a tuple of <code class="docutils literal notranslate"><span class="pre">(memory</span> <span class="pre">multiplier,</span> <span class="pre">input</span> <span class="pre">file,</span> <span class="pre">multiplier</span> <span class="pre">mode)</span></code> where <code class="docutils literal notranslate"><span class="pre">memory</span> <span class="pre">multiplier</span></code> is a number and <code class="docutils literal notranslate"><span class="pre">input</span> <span class="pre">file</span></code> is the string name of the Node input to multiply such that the memory estimate returned by the <code class="docutils literal notranslate"><span class="pre">mem_gb</span></code> attribute is the <code class="docutils literal notranslate"><span class="pre">mem_gb</span></code> argument plus <code class="docutils literal notranslate"><span class="pre">memory</span> <span class="pre">multiplier</span></code> times the dimensions of the <code class="docutils literal notranslate"><span class="pre">input</span> <span class="pre">file</span></code> as specified in the <code class="docutils literal notranslate"><span class="pre">multiplier</span> <span class="pre">mode</span></code> (<code class="docutils literal notranslate"><span class="pre">xyzt</span></code> (spatial × temporal; default), <code class="docutils literal notranslate"><span class="pre">xyz</span></code> (spatial), or just <code class="docutils literal notranslate"><span class="pre">t</span></code> (temporal)).</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">mem_x</span></code> is a new parameter in C-PAC v1.8.1 and subject to change in future releases as we continue to <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1509">develop methods for setting data- and operation-dependent memory estimates</a>.</p>
</div>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">CPAC.pipeline.nipype_pipeline_engine.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">itersource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synchronize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">needed_outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_without_submitting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_procs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_gb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_x</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/pipeline/nipype_pipeline_engine/engine#Node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node" title="Permalink to this definition">#</a></dt>
<dd><p>Wraps interface objects for use in pipeline</p>
<p>A Node creates a sandbox-like directory for executing the underlying
interface. It will copy or link inputs into this directory to ensure that
input data are not overwritten. A hash of the input state is used to
determine if the Node inputs have changed and whether the node needs to be
re-executed.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="kn">import</span> <span class="n">spm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">realign</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">spm</span><span class="o">.</span><span class="n">Realign</span><span class="p">(),</span> <span class="s1">&#39;realign&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">realign</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">in_files</span> <span class="o">=</span> <span class="s1">&#39;functional.nii&#39;</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">realign</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">register_to_mean</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">realign</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> 
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">itersource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synchronize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">needed_outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_without_submitting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_procs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_gb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_x</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/pipeline/nipype_pipeline_engine/engine#Node.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.__init__" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interface</strong> (<em>interface object</em>) – node specific interface (fsl.Bet(), spm.Coregister())</p></li>
<li><p><strong>name</strong> (<em>alphanumeric string</em>) – node specific name</p></li>
<li><p><strong>iterables</strong> (<em>generator</em>) – <p>Input field and list to iterate using the pipeline engine
for example to iterate over different frac values in fsl.Bet()
for a single field the input can be a tuple, otherwise a list
of tuples : :</p>
<blockquote>
<div><p>node.iterables = (‘frac’,[0.5,0.6,0.7])
node.iterables = [(‘fwhm’,[2,4]),(‘fieldx’,[0.5,0.6,0.7])]</p>
</div></blockquote>
<p>If this node has an itersource, then the iterables values
is a dictionary which maps an iterable source field value
to the target iterables field values, e.g. : : :</p>
<blockquote>
<div><p>inputspec.iterables = (‘images’,[‘img1.nii’, ‘img2.nii’]])
node.itersource = (‘inputspec’, [‘frac’])
node.iterables = (‘frac’, {‘img1.nii’ : [0.5, 0.6],</p>
<blockquote>
<div><p>’img2.nii’ : [0.6, 0.7]})</p>
</div></blockquote>
</div></blockquote>
<p>If this node’s synchronize flag is set, then an alternate
form of the iterables is a [fields, values] list, where
fields is the list of iterated fields and values is the
list of value tuples for the given fields, e.g. : : :</p>
<blockquote>
<div><p>node.synchronize = True
node.iterables = [(‘frac’, ‘threshold’),</p>
<blockquote>
<div><dl class="simple">
<dt>[(0.5, True),</dt><dd><p>(0.6, False)]]</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
</p></li>
<li><p><strong>itersource</strong> (<em>tuple</em>) – The (name, fields) iterables source which specifies the name
of the predecessor iterable node and the input fields to use
from that source node. The output field values comprise the
key to the iterables parameter value mapping dictionary.</p></li>
<li><p><strong>synchronize</strong> (<em>boolean</em>) – Flag indicating whether iterables are synchronized.
If the iterables are synchronized, then this iterable
node is expanded once per iteration over all of the
iterables values.
Otherwise, this iterable node is expanded once per
each permutation of the iterables values.</p></li>
<li><p><strong>overwrite</strong> (<em>Boolean</em>) – Whether to overwrite contents of output directory if it already
exists. If directory exists and hash matches it
assumes that process has been executed</p></li>
<li><p><strong>needed_outputs</strong> (<em>list of output_names</em>) – Force the node to keep only specific outputs. By default all
outputs are kept. Setting this attribute will delete any output
files and directories from the node’s working directory that are
not part of the <cite>needed_outputs</cite>.</p></li>
<li><p><strong>run_without_submitting</strong> (<em>boolean</em>) – Run the node without submitting to a job engine or to a
multiprocessing pool</p></li>
<li><p><strong>mem_gb</strong> (<em>int</em><em> or </em><em>float</em>) – Estimate (in GB) of constant memory to allocate for this
node.</p></li>
<li><p><strong>mem_x</strong> (<em>2-tuple</em><em> or </em><em>3-tuple</em>) – <p>(<code class="docutils literal notranslate"><span class="pre">multiplier</span></code>, <code class="docutils literal notranslate"><span class="pre">input_file</span></code>)
(int or float, str)</p>
<p>(<code class="docutils literal notranslate"><span class="pre">multiplier</span></code>, <code class="docutils literal notranslate"><span class="pre">input_file</span></code>, <code class="docutils literal notranslate"><span class="pre">mode</span></code>)
(int or float, str, str)</p>
<p><strong>Note</strong>
This parameter (<code class="docutils literal notranslate"><span class="pre">mem_x</span></code>) is likely to change in a future
release as we incorporate more factors into memory
estimates.</p>
<dl>
<dt>See also<span class="classifier"><a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1509">⚡️ Setting data- and operation-dependent memory-estimates</a></span></dt><dd><p>GitHub epic of issues related to improving Node
memory estimates based on the data and operations
involved.</p>
</dd>
</dl>
<p>Multiplier for memory allocation such that <code class="docutils literal notranslate"><span class="pre">multiplier</span></code>
times <code class="docutils literal notranslate"><span class="pre">mode</span></code> of 4-D file at <code class="docutils literal notranslate"><span class="pre">input_file</span></code> plus
<code class="docutils literal notranslate"><span class="pre">self._mem_gb</span></code> equals the total memory allocation for
the node. <code class="docutils literal notranslate"><span class="pre">input_file</span></code> can be a Node input string or
an actual path.</p>
<p><code class="docutils literal notranslate"><span class="pre">mode</span></code> can be any one of
* ‘xyzt’ (spatial * temporal) (default if not specified)
* ‘xyz’ (spatial)
* ‘t’ (temporal)</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.base_dir">
<span class="sig-name descname"><span class="pre">base_dir</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.base_dir" title="Permalink to this definition">#</a></dt>
<dd><p>Define the work directory for this instance of workflow element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.clone" title="Permalink to this definition">#</a></dt>
<dd><p>Clone an EngineBase object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>string</em><em> (</em><em>mandatory</em><em>)</em>) – A clone of node or workflow must have a new name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.fullname">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">fullname</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.fullname" title="Permalink to this definition">#</a></dt>
<dd><p>Build the full name down the hierarchy.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.get_output">
<span class="sig-name descname"><span class="pre">get_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/nodes#Node.get_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.get_output" title="Permalink to this definition">#</a></dt>
<dd><p>Retrieve a particular output of the node</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.hash_exists">
<span class="sig-name descname"><span class="pre">hash_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">updatehash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/nodes#Node.hash_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.hash_exists" title="Permalink to this definition">#</a></dt>
<dd><p>Decorate the new <cite>is_cached</cite> method with hash updating
to maintain backwards compatibility.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.help">
<span class="sig-name descname"><span class="pre">help</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/nodes#Node.help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.help" title="Permalink to this definition">#</a></dt>
<dd><p>Print interface help</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.inputs">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">inputs</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.inputs" title="Permalink to this definition">#</a></dt>
<dd><p>Return the inputs of the underlying interface</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.interface">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">interface</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.interface" title="Permalink to this definition">#</a></dt>
<dd><p>Return the underlying interface object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.is_cached">
<span class="sig-name descname"><span class="pre">is_cached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rm_outdated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/nodes#Node.is_cached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.is_cached" title="Permalink to this definition">#</a></dt>
<dd><p>Check if the interface has been run previously, and whether
cached results are up-to-date.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.itername">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">itername</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.itername" title="Permalink to this definition">#</a></dt>
<dd><p>Get the name of the expanded iterable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.load">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.load" title="Permalink to this definition">#</a></dt>
<dd><p>Load this workflow element from a file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.mem_gb">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">mem_gb</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.mem_gb" title="Permalink to this definition">#</a></dt>
<dd><p>Get estimated memory (GB)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.mem_x">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">mem_x</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.mem_x" title="Permalink to this definition">#</a></dt>
<dd><p>Get dict of ‘multiplier’ (memory multiplier), ‘file’ (input file)
and multiplier mode (spatial * temporal, spatial only or
temporal only). Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if already consumed or not set.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.n_procs">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">n_procs</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.n_procs" title="Permalink to this definition">#</a></dt>
<dd><p>Get the estimated number of processes/threads</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.name">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.name" title="Permalink to this definition">#</a></dt>
<dd><p>Set the unique name of this workflow element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.output_dir">
<span class="sig-name descname"><span class="pre">output_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/nodes#Node.output_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.output_dir" title="Permalink to this definition">#</a></dt>
<dd><p>Return the location of the output directory for the node</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.outputs">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">outputs</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.outputs" title="Permalink to this definition">#</a></dt>
<dd><p>Return the output fields of the underlying interface</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.override_mem_gb">
<span class="sig-name descname"><span class="pre">override_mem_gb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_mem_gb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/pipeline/nipype_pipeline_engine/engine#Node.override_mem_gb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.override_mem_gb" title="Permalink to this definition">#</a></dt>
<dd><p>Override the Node’s memory estimate with a new value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_mem_gb</strong> (<em>int</em><em> or </em><em>float</em>) – new memory estimate in GB</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.result">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">result</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.result" title="Permalink to this definition">#</a></dt>
<dd><p>Get result from result file (do not hold it in memory)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">updatehash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/pipeline/nipype_pipeline_engine/engine#Node.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.run" title="Permalink to this definition">#</a></dt>
<dd><p>Execute the node in its directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>updatehash</strong> (<em>boolean</em>) – When the hash stored in the output directory as a result of a previous run
does not match that calculated for this execution, updatehash=True only
updates the hash without re-running.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.save" title="Permalink to this definition">#</a></dt>
<dd><p>Store this workflow element to a file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.set_input">
<span class="sig-name descname"><span class="pre">set_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/nodes#Node.set_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.set_input" title="Permalink to this definition">#</a></dt>
<dd><p>Set interface input value</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Node.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">opts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/nodes#Node.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Node.update" title="Permalink to this definition">#</a></dt>
<dd><p>Update inputs</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">CPAC.pipeline.nipype_pipeline_engine.</span></span><span class="sig-name descname"><span class="pre">MapNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">itersource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synchronize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">needed_outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_without_submitting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_procs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_gb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/pipeline/nipype_pipeline_engine/engine#MapNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode" title="Permalink to this definition">#</a></dt>
<dd><p>Wraps interface objects that need to be iterated on a list of inputs.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype</span> <span class="kn">import</span> <span class="n">MapNode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nipype.interfaces</span> <span class="kn">import</span> <span class="n">fsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">realign</span> <span class="o">=</span> <span class="n">MapNode</span><span class="p">(</span><span class="n">fsl</span><span class="o">.</span><span class="n">MCFLIRT</span><span class="p">(),</span> <span class="s1">&#39;in_file&#39;</span><span class="p">,</span> <span class="s1">&#39;realign&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">realign</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">in_file</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;functional.nii&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="s1">&#39;functional2.nii&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="s1">&#39;functional3.nii&#39;</span><span class="p">]</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">realign</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> 
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">itersource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synchronize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">needed_outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_without_submitting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_procs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_gb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/pipeline/nipype_pipeline_engine/engine#MapNode.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.__init__" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interface</strong> (<em>interface object</em>) – node specific interface (fsl.Bet(), spm.Coregister())</p></li>
<li><p><strong>name</strong> (<em>alphanumeric string</em>) – node specific name</p></li>
<li><p><strong>iterables</strong> (<em>generator</em>) – <p>Input field and list to iterate using the pipeline engine
for example to iterate over different frac values in fsl.Bet()
for a single field the input can be a tuple, otherwise a list
of tuples : :</p>
<blockquote>
<div><p>node.iterables = (‘frac’,[0.5,0.6,0.7])
node.iterables = [(‘fwhm’,[2,4]),(‘fieldx’,[0.5,0.6,0.7])]</p>
</div></blockquote>
<p>If this node has an itersource, then the iterables values
is a dictionary which maps an iterable source field value
to the target iterables field values, e.g. : : :</p>
<blockquote>
<div><p>inputspec.iterables = (‘images’,[‘img1.nii’, ‘img2.nii’]])
node.itersource = (‘inputspec’, [‘frac’])
node.iterables = (‘frac’, {‘img1.nii’ : [0.5, 0.6],</p>
<blockquote>
<div><p>’img2.nii’ : [0.6, 0.7]})</p>
</div></blockquote>
</div></blockquote>
<p>If this node’s synchronize flag is set, then an alternate
form of the iterables is a [fields, values] list, where
fields is the list of iterated fields and values is the
list of value tuples for the given fields, e.g. : : :</p>
<blockquote>
<div><p>node.synchronize = True
node.iterables = [(‘frac’, ‘threshold’),</p>
<blockquote>
<div><dl class="simple">
<dt>[(0.5, True),</dt><dd><p>(0.6, False)]]</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
</p></li>
<li><p><strong>itersource</strong> (<em>tuple</em>) – The (name, fields) iterables source which specifies the name
of the predecessor iterable node and the input fields to use
from that source node. The output field values comprise the
key to the iterables parameter value mapping dictionary.</p></li>
<li><p><strong>synchronize</strong> (<em>boolean</em>) – Flag indicating whether iterables are synchronized.
If the iterables are synchronized, then this iterable
node is expanded once per iteration over all of the
iterables values.
Otherwise, this iterable node is expanded once per
each permutation of the iterables values.</p></li>
<li><p><strong>overwrite</strong> (<em>Boolean</em>) – Whether to overwrite contents of output directory if it already
exists. If directory exists and hash matches it
assumes that process has been executed</p></li>
<li><p><strong>needed_outputs</strong> (<em>list of output_names</em>) – Force the node to keep only specific outputs. By default all
outputs are kept. Setting this attribute will delete any output
files and directories from the node’s working directory that are
not part of the <cite>needed_outputs</cite>.</p></li>
<li><p><strong>run_without_submitting</strong> (<em>boolean</em>) – Run the node without submitting to a job engine or to a
multiprocessing pool</p></li>
<li><p><strong>mem_gb</strong> (<em>int</em><em> or </em><em>float</em>) – Estimate (in GB) of constant memory to allocate for this
node.</p></li>
<li><p><strong>mem_x</strong> (<em>2-tuple</em><em> or </em><em>3-tuple</em>) – <p>(<code class="docutils literal notranslate"><span class="pre">multiplier</span></code>, <code class="docutils literal notranslate"><span class="pre">input_file</span></code>)
(int or float, str)</p>
<p>(<code class="docutils literal notranslate"><span class="pre">multiplier</span></code>, <code class="docutils literal notranslate"><span class="pre">input_file</span></code>, <code class="docutils literal notranslate"><span class="pre">mode</span></code>)
(int or float, str, str)</p>
<p><strong>Note</strong>
This parameter (<code class="docutils literal notranslate"><span class="pre">mem_x</span></code>) is likely to change in a future
release as we incorporate more factors into memory
estimates.</p>
<dl>
<dt>See also<span class="classifier"><a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues/1509">⚡️ Setting data- and operation-dependent memory-estimates</a></span></dt><dd><p>GitHub epic of issues related to improving Node
memory estimates based on the data and operations
involved.</p>
</dd>
</dl>
<p>Multiplier for memory allocation such that <code class="docutils literal notranslate"><span class="pre">multiplier</span></code>
times <code class="docutils literal notranslate"><span class="pre">mode</span></code> of 4-D file at <code class="docutils literal notranslate"><span class="pre">input_file</span></code> plus
<code class="docutils literal notranslate"><span class="pre">self._mem_gb</span></code> equals the total memory allocation for
the node. <code class="docutils literal notranslate"><span class="pre">input_file</span></code> can be a Node input string or
an actual path.</p>
<p><code class="docutils literal notranslate"><span class="pre">mode</span></code> can be any one of
* ‘xyzt’ (spatial * temporal) (default if not specified)
* ‘xyz’ (spatial)
* ‘t’ (temporal)</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.base_dir">
<span class="sig-name descname"><span class="pre">base_dir</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.base_dir" title="Permalink to this definition">#</a></dt>
<dd><p>Define the work directory for this instance of workflow element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.clone" title="Permalink to this definition">#</a></dt>
<dd><p>Clone an EngineBase object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>string</em><em> (</em><em>mandatory</em><em>)</em>) – A clone of node or workflow must have a new name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.fullname">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">fullname</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.fullname" title="Permalink to this definition">#</a></dt>
<dd><p>Build the full name down the hierarchy.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.get_output">
<span class="sig-name descname"><span class="pre">get_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.get_output" title="Permalink to this definition">#</a></dt>
<dd><p>Retrieve a particular output of the node</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.get_subnodes">
<span class="sig-name descname"><span class="pre">get_subnodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/nodes#MapNode.get_subnodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.get_subnodes" title="Permalink to this definition">#</a></dt>
<dd><p>Generate subnodes of a mapnode and write pre-execution report</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.hash_exists">
<span class="sig-name descname"><span class="pre">hash_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">updatehash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.hash_exists" title="Permalink to this definition">#</a></dt>
<dd><p>Decorate the new <cite>is_cached</cite> method with hash updating
to maintain backwards compatibility.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.help">
<span class="sig-name descname"><span class="pre">help</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.help" title="Permalink to this definition">#</a></dt>
<dd><p>Print interface help</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.inputs">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">inputs</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.inputs" title="Permalink to this definition">#</a></dt>
<dd><p>Return the inputs of the underlying interface</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.interface">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">interface</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.interface" title="Permalink to this definition">#</a></dt>
<dd><p>Return the underlying interface object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.is_cached">
<span class="sig-name descname"><span class="pre">is_cached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rm_outdated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.is_cached" title="Permalink to this definition">#</a></dt>
<dd><p>Check if the interface has been run previously, and whether
cached results are up-to-date.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.itername">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">itername</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.itername" title="Permalink to this definition">#</a></dt>
<dd><p>Get the name of the expanded iterable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.load">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.load" title="Permalink to this definition">#</a></dt>
<dd><p>Load this workflow element from a file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.mem_gb">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">mem_gb</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.mem_gb" title="Permalink to this definition">#</a></dt>
<dd><p>Get estimated memory (GB)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.mem_x">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">mem_x</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.mem_x" title="Permalink to this definition">#</a></dt>
<dd><p>Get dict of ‘multiplier’ (memory multiplier), ‘file’ (input file)
and multiplier mode (spatial * temporal, spatial only or
temporal only). Returns <code class="docutils literal notranslate"><span class="pre">None</span></code> if already consumed or not set.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.n_procs">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">n_procs</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.n_procs" title="Permalink to this definition">#</a></dt>
<dd><p>Get the estimated number of processes/threads</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.name">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.name" title="Permalink to this definition">#</a></dt>
<dd><p>Set the unique name of this workflow element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.num_subnodes">
<span class="sig-name descname"><span class="pre">num_subnodes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/nodes#MapNode.num_subnodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.num_subnodes" title="Permalink to this definition">#</a></dt>
<dd><p>Get the number of subnodes to iterate in this MapNode</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.output_dir">
<span class="sig-name descname"><span class="pre">output_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.output_dir" title="Permalink to this definition">#</a></dt>
<dd><p>Return the location of the output directory for the node</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.outputs">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">outputs</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.outputs" title="Permalink to this definition">#</a></dt>
<dd><p>Return the output fields of the underlying interface</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.override_mem_gb">
<span class="sig-name descname"><span class="pre">override_mem_gb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_mem_gb</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.override_mem_gb" title="Permalink to this definition">#</a></dt>
<dd><p>Override the Node’s memory estimate with a new value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_mem_gb</strong> (<em>int</em><em> or </em><em>float</em>) – new memory estimate in GB</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.result">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">result</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.result" title="Permalink to this definition">#</a></dt>
<dd><p>Get result from result file (do not hold it in memory)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">updatehash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.run" title="Permalink to this definition">#</a></dt>
<dd><p>Execute the node in its directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>updatehash</strong> (<em>boolean</em>) – When the hash stored in the output directory as a result of a previous run
does not match that calculated for this execution, updatehash=True only
updates the hash without re-running.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.save" title="Permalink to this definition">#</a></dt>
<dd><p>Store this workflow element to a file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.set_input">
<span class="sig-name descname"><span class="pre">set_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/nodes#MapNode.set_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.set_input" title="Permalink to this definition">#</a></dt>
<dd><p>Set interface input value or nodewrapper attribute
Priority goes to interface.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.MapNode.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">opts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.MapNode.update" title="Permalink to this definition">#</a></dt>
<dd><p>Update inputs</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="nipype.interfaces.base.core.Interface">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">nipype.interfaces.base.core.</span></span><span class="sig-name descname"><span class="pre">Interface</span></span><a class="reference internal" href="../_modules/nipype/interfaces/base/core#Interface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nipype.interfaces.base.core.Interface" title="Permalink to this definition">#</a></dt>
<dd><p>This is an abstract definition for Interface objects.</p>
<p>It provides no functionality.  It defines the necessary attributes
and methods all Interface objects should have.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://nipype.readthedocs.io/en/1.5.1/devel/interface_specs.html">Nipype: Interface Specifications</a></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="nipype.interfaces.base.core.Interface.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/interfaces/base/core#Interface.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nipype.interfaces.base.core.Interface.__init__" title="Permalink to this definition">#</a></dt>
<dd><p>Subclasses must implement __init__</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nipype.interfaces.base.core.Interface.aggregate_outputs">
<span class="sig-name descname"><span class="pre">aggregate_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">needed_outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/interfaces/base/core#Interface.aggregate_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nipype.interfaces.base.core.Interface.aggregate_outputs" title="Permalink to this definition">#</a></dt>
<dd><p>Called to populate outputs</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="nipype.interfaces.base.core.Interface.always_run">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">always_run</span></span><a class="headerlink" href="#nipype.interfaces.base.core.Interface.always_run" title="Permalink to this definition">#</a></dt>
<dd><p>Should the interface be always run even if the inputs were not changed?
Only applies to interfaces being run within a workflow context.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="nipype.interfaces.base.core.Interface.can_resume">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">can_resume</span></span><a class="headerlink" href="#nipype.interfaces.base.core.Interface.can_resume" title="Permalink to this definition">#</a></dt>
<dd><p>Defines if the interface can reuse partial results after interruption.
Only applies to interfaces being run within a workflow context.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nipype.interfaces.base.core.Interface.help">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returnhelp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/interfaces/base/core#Interface.help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nipype.interfaces.base.core.Interface.help" title="Permalink to this definition">#</a></dt>
<dd><p>Prints class help</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nipype.interfaces.base.core.Interface.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/interfaces/base/core#Interface.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nipype.interfaces.base.core.Interface.run" title="Permalink to this definition">#</a></dt>
<dd><p>Execute the command.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="nipype.interfaces.base.core.Interface.version">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#nipype.interfaces.base.core.Interface.version" title="Permalink to this definition">#</a></dt>
<dd><p>interfaces should implement a version property</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">CPAC.utils.interfaces.function.</span></span><span class="sig-name descname"><span class="pre">Function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'out'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imports</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/utils/interfaces/function/function#Function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.utils.interfaces.function.Function" title="Permalink to this definition">#</a></dt>
<dd><p>Runs arbitrary function as an interface</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="s1">&#39;def func(arg1, arg2=5): return arg1 + arg2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fi</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="n">input_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;arg1&#39;</span><span class="p">,</span> <span class="s1">&#39;arg2&#39;</span><span class="p">],</span> <span class="n">output_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;out&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fi</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">function_str</span> <span class="o">=</span> <span class="n">func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">fi</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">arg1</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">out</span>
<span class="go">6</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'out'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imports</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/utils/interfaces/function/function#Function.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.__init__" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_names</strong> (<em>single str</em><em> or </em><em>list</em><em> or </em><em>None</em>) – names corresponding to function inputs
if <code class="docutils literal notranslate"><span class="pre">None</span></code>, derive input names from function argument names</p></li>
<li><p><strong>output_names</strong> (<em>single str</em><em> or </em><em>list</em>) – names corresponding to function outputs (default: ‘out’).
if list of length &gt; 1, has to match the number of outputs</p></li>
<li><p><strong>function</strong> (<em>callable</em>) – callable python object. must be able to execute in an
isolated namespace (possibly in concert with the <code class="docutils literal notranslate"><span class="pre">imports</span></code>
parameter)</p></li>
<li><p><strong>imports</strong> (<em>list of strings</em>) – list of import statements that allow the function to execute
in an otherwise empty namespace</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.aggregate_outputs">
<span class="sig-name descname"><span class="pre">aggregate_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">runtime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">needed_outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.aggregate_outputs" title="Permalink to this definition">#</a></dt>
<dd><p>Collate expected outputs and apply output traits validation.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.always_run">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">always_run</span></span><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.always_run" title="Permalink to this definition">#</a></dt>
<dd><p>Should the interface be always run even if the inputs were not changed?
Only applies to interfaces being run within a workflow context.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.can_resume">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">can_resume</span></span><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.can_resume" title="Permalink to this definition">#</a></dt>
<dd><p>Defines if the interface can reuse partial results after interruption.
Only applies to interfaces being run within a workflow context.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.help">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returnhelp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.help" title="Permalink to this definition">#</a></dt>
<dd><p>Prints class help</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.input_spec">
<span class="sig-name descname"><span class="pre">input_spec</span></span><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.input_spec" title="Permalink to this definition">#</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">CPAC.utils.interfaces.function.function.FunctionInputSpec</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.load_inputs_from_json">
<span class="sig-name descname"><span class="pre">load_inputs_from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.load_inputs_from_json" title="Permalink to this definition">#</a></dt>
<dd><p>A convenient way to load pre-set inputs from a JSON file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.output_spec">
<span class="sig-name descname"><span class="pre">output_spec</span></span><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.output_spec" title="Permalink to this definition">#</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">nipype.interfaces.base.specs.DynamicTraitedSpec</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_exception</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.run" title="Permalink to this definition">#</a></dt>
<dd><p>Execute this interface.</p>
<p>This interface will not raise an exception if runtime.returncode is
non-zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cwd</strong> (<em>specify a folder where the interface should be run</em>) – </p></li>
<li><p><strong>inputs</strong> (<em>allows the interface settings to be updated</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>results</strong> – A copy of the instance that was executed, provenance information and,
if successful, results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">nipype.interfaces.base.support.InterfaceResult</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.save_inputs_to_json">
<span class="sig-name descname"><span class="pre">save_inputs_to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.save_inputs_to_json" title="Permalink to this definition">#</a></dt>
<dd><p>A convenient way to save current inputs to a JSON file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.utils.interfaces.function.Function.version">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#CPAC.utils.interfaces.function.Function.version" title="Permalink to this definition">#</a></dt>
<dd><p>interfaces should implement a version property</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">CPAC.pipeline.nipype_pipeline_engine.</span></span><span class="sig-name descname"><span class="pre">Workflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/pipeline/nipype_pipeline_engine/engine#Workflow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow" title="Permalink to this definition">#</a></dt>
<dd><p>Controls the setup and execution of a pipeline of processes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/pipeline/nipype_pipeline_engine/engine#Workflow.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.__init__" title="Permalink to this definition">#</a></dt>
<dd><p>Create a workflow object.
:param name: unique identifier for the workflow
:type name: alphanumeric string
:param base_dir: path to workflow storage
:type base_dir: string, optional
:param debug: enable verbose debug-level logging
:type debug: boolean, optional</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.add_nodes">
<span class="sig-name descname"><span class="pre">add_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/workflows#Workflow.add_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.add_nodes" title="Permalink to this definition">#</a></dt>
<dd><p>Add nodes to a workflow</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – A list of EngineBase-based objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.base_dir">
<span class="sig-name descname"><span class="pre">base_dir</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.base_dir" title="Permalink to this definition">#</a></dt>
<dd><p>Define the work directory for this instance of workflow element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.clone">
<span class="sig-name descname"><span class="pre">clone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/workflows#Workflow.clone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.clone" title="Permalink to this definition">#</a></dt>
<dd><p>Clone a workflow</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Will reset attributes used for executing workflow. See
_init_runtime_fields.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>alphanumeric name</em>) – unique name for the workflow</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/workflows#Workflow.connect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.connect" title="Permalink to this definition">#</a></dt>
<dd><p>Connect nodes in the pipeline.</p>
<p>This routine also checks if inputs and outputs are actually provided by
the nodes that are being connected.</p>
<p>Creates edges in the directed graph using the nodes and edges specified
in the <cite>connection_list</cite>.  Uses the NetworkX method
DiGraph.add_edges_from.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> (<em>list</em><em> or </em><em>a set of four positional arguments</em>) – <p>Four positional arguments of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connect</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">sourceoutput</span><span class="p">,</span> <span class="n">dest</span><span class="p">,</span> <span class="n">destinput</span><span class="p">)</span>
</pre></div>
</div>
<p>source : nodewrapper node
sourceoutput : string (must be in source.outputs)
dest : nodewrapper node
destinput : string (must be in dest.inputs)</p>
<p>A list of 3-tuples of the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span>
    <span class="p">[(</span><span class="s1">&#39;sourceoutput/attribute&#39;</span><span class="p">,</span> <span class="s1">&#39;targetinput&#39;</span><span class="p">),</span>
    <span class="o">...</span><span class="p">]),</span>
<span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="p">[((</span><span class="s1">&#39;sourceoutput1&#39;</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">arg2</span><span class="p">,</span> <span class="o">...</span><span class="p">),</span>
                            <span class="s1">&#39;targetinput&#39;</span><span class="p">),</span> <span class="o">...</span><span class="p">]),</span>
<span class="o">...</span><span class="p">]</span>
<span class="n">sourceoutput1</span> <span class="n">will</span> <span class="n">always</span> <span class="n">be</span> <span class="n">the</span> <span class="n">first</span> <span class="n">argument</span> <span class="n">to</span> <span class="n">func</span>
<span class="ow">and</span> <span class="n">func</span> <span class="n">will</span> <span class="n">be</span> <span class="n">evaluated</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">results</span> <span class="n">sent</span> <span class="n">ot</span> <span class="n">targetinput</span>

<span class="n">currently</span> <span class="n">func</span> <span class="n">needs</span> <span class="n">to</span> <span class="n">define</span> <span class="nb">all</span> <span class="n">its</span> <span class="n">needed</span> <span class="n">imports</span> <span class="n">within</span> <span class="n">the</span>
<span class="n">function</span> <span class="k">as</span> <span class="n">we</span> <span class="n">use</span> <span class="n">the</span> <span class="n">inspect</span> <span class="n">module</span> <span class="n">to</span> <span class="n">get</span> <span class="n">at</span> <span class="n">the</span> <span class="n">source</span> <span class="n">code</span>
<span class="ow">and</span> <span class="n">execute</span> <span class="n">it</span> <span class="n">remotely</span>
</pre></div>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.disconnect">
<span class="sig-name descname"><span class="pre">disconnect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/workflows#Workflow.disconnect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.disconnect" title="Permalink to this definition">#</a></dt>
<dd><p>Disconnect nodes
See the docstring for connect for format.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'output'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'python'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/workflows#Workflow.export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.export" title="Permalink to this definition">#</a></dt>
<dd><p>Export object into a different format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>string</em>) – file to save the code to; overrides prefix</p></li>
<li><p><strong>prefix</strong> (<em>string</em>) – prefix to use for output file</p></li>
<li><p><strong>format</strong> (<em>string</em>) – one of “python”</p></li>
<li><p><strong>include_config</strong> (<em>boolean</em>) – whether to include node and workflow config values</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.fullname">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">fullname</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.fullname" title="Permalink to this definition">#</a></dt>
<dd><p>Build the full name down the hierarchy.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.get_node">
<span class="sig-name descname"><span class="pre">get_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/workflows#Workflow.get_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.get_node" title="Permalink to this definition">#</a></dt>
<dd><p>Return an internal node by name</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.itername">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">itername</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.itername" title="Permalink to this definition">#</a></dt>
<dd><p>Get the name of the expanded iterable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.list_node_names">
<span class="sig-name descname"><span class="pre">list_node_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/workflows#Workflow.list_node_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.list_node_names" title="Permalink to this definition">#</a></dt>
<dd><p>List names of all nodes in a workflow</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.load">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.load" title="Permalink to this definition">#</a></dt>
<dd><p>Load this workflow element from a file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.name">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.name" title="Permalink to this definition">#</a></dt>
<dd><p>Set the unique name of this workflow element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.remove_nodes">
<span class="sig-name descname"><span class="pre">remove_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/workflows#Workflow.remove_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.remove_nodes" title="Permalink to this definition">#</a></dt>
<dd><p>Remove nodes from a workflow</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nodes</strong> (<em>list</em>) – A list of EngineBase-based objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plugin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plugin_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">updatehash</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nipype/pipeline/engine/workflows#Workflow.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.run" title="Permalink to this definition">#</a></dt>
<dd><p>Execute the workflow</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plugin</strong> (<em>plugin name</em><em> or </em><em>object</em>) – Plugin to use for execution. You can create your own plugins for
execution.</p></li>
<li><p><strong>plugin_args</strong> (<em>dictionary containing arguments to be sent to plugin</em>) – constructor. see individual plugin doc strings for details.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.save" title="Permalink to this definition">#</a></dt>
<dd><p>Store this workflow element to a file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CPAC.pipeline.nipype_pipeline_engine.Workflow.write_graph">
<span class="sig-name descname"><span class="pre">write_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dotfilename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'graph.dot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graph2use</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hierarchical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'png'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simple_form</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/pipeline/nipype_pipeline_engine/engine#Workflow.write_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.pipeline.nipype_pipeline_engine.Workflow.write_graph" title="Permalink to this definition">#</a></dt>
<dd><p>Generates a graphviz dot file and a png file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph2use</strong> (<em>'orig'</em><em>, </em><em>'hierarchical'</em><em> (</em><em>default</em><em>)</em><em>, </em><em>'flat'</em><em>, </em><em>'exec'</em><em>, </em><em>'colored'</em>) – orig - creates a top level graph without expanding internal
workflow nodes;
flat - expands workflow nodes recursively;
hierarchical - expands workflow nodes recursively with a
notion on hierarchy;
colored - expands workflow nodes recursively with a
notion on hierarchy in color;
exec - expands workflows to depict iterables</p></li>
<li><p><strong>format</strong> (<em>'png'</em><em>, </em><em>'svg'</em>) – </p></li>
<li><p><strong>simple_form</strong> (<em>boolean</em><em> (</em><em>default: True</em><em>)</em>) – Determines if the node name used in the graph should be of the form
‘nodename (package)’ when True or ‘nodename.Class.package’ when
False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p>The Nipype utility function <code class="xref py py-func docutils literal notranslate"><span class="pre">log_to_dict</span></code> reads a log file generated by <code class="docutils literal notranslate"><span class="pre">log_nodes_cb</span></code> to a Python dictionary.</p>
<dl class="py function">
<dt class="sig sig-object py" id="CPAC.utils.monitoring.log_nodes_cb">
<span class="sig-prename descclassname"><span class="pre">CPAC.utils.monitoring.</span></span><span class="sig-name descname"><span class="pre">log_nodes_cb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/utils/monitoring/monitoring#log_nodes_cb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.utils.monitoring.log_nodes_cb" title="Permalink to this definition">#</a></dt>
<dd><p>Function to record node run statistics to a log file as json
dictionaries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<em>nipype.pipeline.engine.Node</em>) – the node being logged</p></li>
<li><p><strong>status</strong> (<em>string</em>) – acceptable values are ‘start’, ‘end’; otherwise it is
considered and error</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>this function does not return any values, it logs the node
status info to the callback logger</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-CPAC.utils.monitoring.draw_gantt_chart"></span><p>Module to draw an html gantt chart from logfile produced by
<code class="docutils literal notranslate"><span class="pre">CPAC.utils.monitoring.log_nodes_cb()</span></code>.</p>
<p>See <a class="reference external" href="https://nipype.readthedocs.io/en/latest/api/generated/nipype.utils.draw_gantt_chart.html">https://nipype.readthedocs.io/en/latest/api/generated/nipype.utils.draw_gantt_chart.html</a></p>
<dl class="py function">
<dt class="sig sig-object py" id="CPAC.utils.monitoring.draw_gantt_chart.calculate_resource_timeseries">
<span class="sig-prename descclassname"><span class="pre">CPAC.utils.monitoring.draw_gantt_chart.</span></span><span class="sig-name descname"><span class="pre">calculate_resource_timeseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/utils/monitoring/draw_gantt_chart#calculate_resource_timeseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.utils.monitoring.draw_gantt_chart.calculate_resource_timeseries" title="Permalink to this definition">#</a></dt>
<dd><p>Given as event dictionary, calculate the resources used
as a timeseries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events</strong> (<em>dictionary</em>) – a dictionary of event-based node dictionaries of the workflow
execution statistics</p></li>
<li><p><strong>resource</strong> (<em>string</em>) – the resource of interest to return the time-series of;
e.g. ‘runtime_memory_gb’, ‘estimated_threads’, etc</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>time_series</strong> – a pandas Series object that contains timestamps as the indices
and the resource amount as values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CPAC.utils.monitoring.draw_gantt_chart.create_event_dict">
<span class="sig-prename descclassname"><span class="pre">CPAC.utils.monitoring.draw_gantt_chart.</span></span><span class="sig-name descname"><span class="pre">create_event_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/utils/monitoring/draw_gantt_chart#create_event_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.utils.monitoring.draw_gantt_chart.create_event_dict" title="Permalink to this definition">#</a></dt>
<dd><p>Function to generate a dictionary of event (start/finish) nodes
from the nodes list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_time</strong> (<em>datetime.datetime</em>) – a datetime object of the pipeline start time</p></li>
<li><p><strong>nodes_list</strong> (<em>list</em>) – a list of the node dictionaries that were run in the pipeline</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>events</strong> – a dictionary where the key is the timedelta from the start of
the pipeline execution to the value node it accompanies</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CPAC.utils.monitoring.draw_gantt_chart.draw_nodes">
<span class="sig-prename descclassname"><span class="pre">CPAC.utils.monitoring.draw_gantt_chart.</span></span><span class="sig-name descname"><span class="pre">draw_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minute_scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space_between_minutes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/utils/monitoring/draw_gantt_chart#draw_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.utils.monitoring.draw_gantt_chart.draw_nodes" title="Permalink to this definition">#</a></dt>
<dd><p>Function to return the html-string of the node drawings for the
gantt chart</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>datetime.datetime obj</em>) – start time for first node</p></li>
<li><p><strong>nodes_list</strong> (<em>list</em>) – a list of the node dictionaries</p></li>
<li><p><strong>cores</strong> (<em>integer</em>) – the number of cores given to the workflow via the ‘n_procs’
plugin arg</p></li>
<li><p><strong>total_duration</strong> (<em>float</em>) – total duration of the workflow execution (in seconds)</p></li>
<li><p><strong>minute_scale</strong> (<em>integer</em>) – the scale, in minutes, at which to plot line markers for the
gantt chart; for example, minute_scale=10 means there are lines
drawn at every 10 minute interval from start to finish</p></li>
<li><p><strong>space_between_minutes</strong> (<em>integer</em>) – scale factor in pixel spacing between minute line markers</p></li>
<li><p><strong>colors</strong> (<em>list</em>) – a list of colors to choose from when coloring the nodes in the
gantt chart</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – the html-formatted string for producing the minutes-based
time line markers</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CPAC.utils.monitoring.draw_gantt_chart.generate_gantt_chart">
<span class="sig-prename descclassname"><span class="pre">CPAC.utils.monitoring.draw_gantt_chart.</span></span><span class="sig-name descname"><span class="pre">generate_gantt_chart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minute_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space_between_minutes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#7070FF',</span> <span class="pre">'#4E4EB2',</span> <span class="pre">'#2D2D66',</span> <span class="pre">'#9B9BFF']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/utils/monitoring/draw_gantt_chart#generate_gantt_chart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.utils.monitoring.draw_gantt_chart.generate_gantt_chart" title="Permalink to this definition">#</a></dt>
<dd><p>Generates a gantt chart in html showing the workflow execution based on a callback log file.
This script was intended to be used with the MultiprocPlugin.
The following code shows how to set up the workflow in order to generate the log file:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logfile</strong> (<em>string</em>) – filepath to the callback log file to plot the gantt chart of</p></li>
<li><p><strong>cores</strong> (<em>integer</em>) – the number of cores given to the workflow via the ‘n_procs’
plugin arg</p></li>
<li><p><strong>minute_scale</strong> (<em>integer</em><em> (</em><em>optional</em><em>)</em><em>; default=10</em>) – the scale, in minutes, at which to plot line markers for the
gantt chart; for example, minute_scale=10 means there are lines
drawn at every 10 minute interval from start to finish</p></li>
<li><p><strong>space_between_minutes</strong> (<em>integer</em><em> (</em><em>optional</em><em>)</em><em>; default=50</em>) – scale factor in pixel spacing between minute line markers</p></li>
<li><p><strong>colors</strong> (<em>list</em><em> (</em><em>optional</em><em>)</em>) – a list of colors to choose from when coloring the nodes in the
gantt chart</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>None</em> – the function does not return any value but writes out an html
file in the same directory as the callback log path passed in</p></li>
<li><p><em>Usage</em></p></li>
<li><p><em>—–</em></p></li>
<li><p><em># import logging</em></p></li>
<li><p><em># import logging.handlers</em></p></li>
<li><p><em># from nipype.utils.profiler import log_nodes_cb</em></p></li>
<li><p><em># log_filename = ‘callback.log’</em></p></li>
<li><p><em># logger = logging.getLogger(‘callback’)</em></p></li>
<li><p><em># logger.setLevel(logging.DEBUG)</em></p></li>
<li><p><em># handler = logging.FileHandler(log_filename)</em></p></li>
<li><p><em># logger.addHandler(handler)</em></p></li>
<li><p><em># #create workflow</em></p></li>
<li><p><em># workflow = …</em></p></li>
<li><p><em># workflow.run(plugin=’MultiProc’,</em></p></li>
<li><p><strong>#     plugin_args={‘n_procs’</strong> (<em>8, ‘memory’:12, ‘status_callback’: log_nodes_cb})</em>)</p></li>
<li><p><em># generate_gantt_chart(‘callback.log’, 8)</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CPAC.utils.monitoring.draw_gantt_chart.resource_overusage_report">
<span class="sig-prename descclassname"><span class="pre">CPAC.utils.monitoring.draw_gantt_chart.</span></span><span class="sig-name descname"><span class="pre">resource_overusage_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cblog</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/utils/monitoring/draw_gantt_chart#resource_overusage_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.utils.monitoring.draw_gantt_chart.resource_overusage_report" title="Permalink to this definition">#</a></dt>
<dd><p>Function to parse through a callback log for memory and/or
thread usage above estimates / limits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cblog</strong> (<em>str</em>) – path to callback.log</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>text_report</strong> (<em>str</em>)</p></li>
<li><p><strong>excessive</strong> (<em>dict</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CPAC.utils.monitoring.draw_gantt_chart.resource_report">
<span class="sig-prename descclassname"><span class="pre">CPAC.utils.monitoring.draw_gantt_chart.</span></span><span class="sig-name descname"><span class="pre">resource_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback_log</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_cores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/CPAC/utils/monitoring/draw_gantt_chart#resource_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CPAC.utils.monitoring.draw_gantt_chart.resource_report" title="Permalink to this definition">#</a></dt>
<dd><p>Function to attempt to warn any excessive resource usage and
generate an interactive HTML chart.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callback_log</strong> (<em>str</em>) – path to callback.log</p></li>
<li><p><strong>num_cores</strong> (<em>int</em>) – </p></li>
<li><p><strong>logger</strong> (<em>Logger</em>) – <a class="reference external" href="https://docs.python.org/3/library/logging.html#logger-objects">https://docs.python.org/3/library/logging.html#logger-objects</a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="random_state">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Random State</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="templates">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Templates and Atlases</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2012‒2023, C-PAC Developers. C-PAC is licensed under LGPL-3.0-or-later
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script defer="defer" src="../_static/versionList.js"></script>
    </body>
</html>