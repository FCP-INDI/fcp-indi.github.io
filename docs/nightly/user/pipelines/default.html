
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Default pipeline configuration YAML file &#8212; C-PAC 1.8.1 Beta documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../genindex" />
    <link rel="search" title="Search" href="../../search" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index">C-PAC 1.8.1 Beta documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Default pipeline configuration YAML file</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">%YAML</span> <span class="m">1.1</span>
<span class="nn">---</span>
<span class="c1"># CPAC Pipeline Configuration YAML file</span>
<span class="c1"># Version 1.8.1</span>
<span class="c1">#</span>
<span class="c1"># http://fcp-indi.github.io for more info.</span>
<span class="c1">#</span>
<span class="c1"># Tip: This file can be edited manually with a text editor for quick modifications.</span>

<span class="nt">pipeline_setup</span><span class="p">:</span>

  <span class="c1"># Name for this pipeline configuration - useful for identification.</span>
  <span class="nt">pipeline_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cpac-default-pipeline</span>

  <span class="nt">output_directory</span><span class="p">:</span>

    <span class="c1"># Directory where C-PAC should write out processed data, logs, and crash reports.</span>
    <span class="c1"># - If running in a container (Singularity/Docker), you can simply set this to an arbitrary</span>
    <span class="c1">#   name like &#39;/output&#39;, and then map (-B/-v) your desired output directory to that label.</span>
    <span class="c1"># - If running outside a container, this should be a full path to a directory.</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/output</span>

    <span class="c1"># (Optional) Path to a BIDS-Derivatives directory that already has outputs.</span>
    <span class="c1">#   - This option is intended to ingress already-existing resources from an output</span>
    <span class="c1">#     directory without writing new outputs back into the same directory.</span>
    <span class="c1">#   - If provided, C-PAC will ingress the already-computed outputs from this directory and</span>
    <span class="c1">#     continue the pipeline from where they leave off.</span>
    <span class="c1">#   - If left as &#39;None&#39;, C-PAC will ingress any already-computed outputs from the</span>
    <span class="c1">#     output directory you provide above in &#39;path&#39; instead, the default behavior.</span>
    <span class="nt">source_outputs_dir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>

    <span class="c1"># Set to True to make C-PAC ingress the outputs from the primary output directory if they</span>
    <span class="c1"># exist, even if a source_outputs_dir is provided</span>
    <span class="c1">#   - Setting to False will pull from source_outputs_dir every time, over-writing any</span>
    <span class="c1">#     calculated outputs in the main output directory</span>
    <span class="c1">#   - C-PAC will still pull from source_outputs_dir if the main output directory is</span>
    <span class="c1">#     empty, however</span>
    <span class="nt">pull_source_once</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

    <span class="c1"># Include extra versions and intermediate steps of functional preprocessing in the output directory.</span>
    <span class="nt">write_func_outputs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>

    <span class="c1"># Include extra outputs in the output directory that may be of interest when more information is needed.</span>
    <span class="nt">write_debugging_outputs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>

    <span class="c1"># Output directory format and structure.</span>
    <span class="c1"># Options: default, ndmg</span>
    <span class="nt">output_tree</span><span class="p">:</span> <span class="s">&quot;default&quot;</span>

    <span class="c1"># Generate quality control pages containing preprocessing and derivative outputs.</span>
    <span class="nt">generate_quality_control_images</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

  <span class="nt">working_directory</span><span class="p">:</span>

    <span class="c1"># Directory where C-PAC should store temporary and intermediate files.</span>
    <span class="c1"># - This directory must be saved if you wish to re-run your pipeline from where you left off (if not completed).</span>
    <span class="c1"># - NOTE: As it stores all intermediate files, this directory can grow to become very</span>
    <span class="c1">#   large, especially for data with a large amount of TRs.</span>
    <span class="c1"># - If running in a container (Singularity/Docker), you can simply set this to an arbitrary</span>
    <span class="c1">#   name like &#39;/work&#39;, and then map (-B/-v) your desired output directory to that label.</span>
    <span class="c1"># - If running outside a container, this should be a full path to a directory.</span>
    <span class="c1"># - This can be written to &#39;/tmp&#39; if you do not intend to save your working directory.</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/tmp</span>

    <span class="c1"># Deletes the contents of the Working Directory after running.</span>
    <span class="c1"># This saves disk space, but any additional preprocessing or analysis will have to be completely re-run.</span>
    <span class="nt">remove_working_dir</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

  <span class="nt">log_directory</span><span class="p">:</span>

    <span class="c1"># Whether to write log details of the pipeline run to the logging files.</span>
    <span class="nt">run_logging</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/logs</span>

  <span class="nt">crash_log_directory</span><span class="p">:</span>

    <span class="c1"># Directory where CPAC should write crash logs.</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/crash</span>

  <span class="nt">system_config</span><span class="p">:</span>

    <span class="c1"># Select Off if you intend to run CPAC on a single machine.</span>
    <span class="c1"># If set to On, CPAC will attempt to submit jobs through the job scheduler / resource manager selected below.</span>
    <span class="nt">on_grid</span><span class="p">:</span>

      <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Sun Grid Engine (SGE), Portable Batch System (PBS), or Simple Linux Utility for Resource Management (SLURM).</span>
      <span class="c1"># Only applies if you are running on a grid or compute cluster.</span>
      <span class="nt">resource_manager</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SGE</span>

      <span class="nt">SGE</span><span class="p">:</span>
        <span class="c1"># SGE Parallel Environment to use when running CPAC.</span>
        <span class="c1"># Only applies when you are running on a grid or compute cluster using SGE.</span>
        <span class="nt">parallel_environment</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">mpi_smp</span>

        <span class="c1"># SGE Queue to use when running CPAC.</span>
        <span class="c1"># Only applies when you are running on a grid or compute cluster using SGE.</span>
        <span class="nt">queue</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">all.q</span>

    <span class="c1"># The maximum amount of memory each participant&#39;s workflow can allocate.</span>
    <span class="c1"># Use this to place an upper bound of memory usage.</span>
    <span class="c1"># - Warning: &#39;Memory Per Participant&#39; multiplied by &#39;Number of Participants to Run Simultaneously&#39;</span>
    <span class="c1">#   must not be more than the total amount of RAM.</span>
    <span class="c1"># - Conversely, using too little RAM can impede the speed of a pipeline run.</span>
    <span class="c1"># - It is recommended that you set this to a value that when multiplied by</span>
    <span class="c1">#   &#39;Number of Participants to Run Simultaneously&#39; is as much RAM you can safely allocate.</span>
    <span class="nt">maximum_memory_per_participant</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>

    <span class="c1"># The maximum amount of cores (on a single machine) or slots on a node (on a cluster/grid)</span>
    <span class="c1"># to allocate per participant.</span>
    <span class="c1"># - Setting this above 1 will parallelize each participant&#39;s workflow where possible.</span>
    <span class="c1">#   If you wish to dedicate multiple cores to ANTS-based anatomical registration (below),</span>
    <span class="c1">#   this value must be equal or higher than the amount of cores provided to ANTS.</span>
    <span class="c1"># - The maximum number of cores your run can possibly employ will be this setting multiplied</span>
    <span class="c1">#   by the number of participants set to run in parallel (the &#39;Number of Participants to Run</span>
    <span class="c1">#   Simultaneously&#39; setting).</span>
    <span class="nt">max_cores_per_participant</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>

    <span class="c1"># The number of cores to allocate to ANTS-based anatomical registration per participant.</span>
    <span class="c1"># - Multiple cores can greatly speed up this preprocessing step.</span>
    <span class="c1"># - This number cannot be greater than the number of cores per participant.</span>
    <span class="nt">num_ants_threads</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>

    <span class="c1"># The number of cores to allocate to processes that use OpenMP.</span>
    <span class="nt">num_OMP_threads</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>

    <span class="c1"># The number of participant workflows to run at the same time.</span>
    <span class="c1"># - The maximum number of cores your run can possibly employ will be this setting</span>
    <span class="c1">#   multiplied by the number of cores dedicated to each participant (the &#39;Maximum Number of Cores Per Participant&#39; setting).</span>
    <span class="nt">num_participants_at_once</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>

    <span class="c1"># Full path to the FSL version to be used by CPAC.</span>
    <span class="c1"># If you have specified an FSL path in your .bashrc file, this path will be set automatically.</span>
    <span class="nt">FSLDIR</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0</span>

  <span class="nt">Amazon-AWS</span><span class="p">:</span>

    <span class="c1"># If setting the &#39;Output Directory&#39; to an S3 bucket, insert the path to your AWS credentials file here.</span>
    <span class="nt">aws_output_bucket_credentials</span><span class="p">:</span>

    <span class="c1"># Enable server-side 256-AES encryption on data to the S3 bucket</span>
    <span class="nt">s3_encryption</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>

  <span class="nt">Debugging</span><span class="p">:</span>

    <span class="c1"># Verbose developer messages.</span>
    <span class="nt">verbose</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>


<span class="c1"># PREPROCESSING</span>
<span class="c1"># -------------</span>
<span class="nt">surface_analysis</span><span class="p">:</span>

  <span class="c1"># Will run Freesurfer for surface-based analysis. Will output traditional Freesurfer derivatives.</span>
  <span class="c1"># If you wish to employ Freesurfer outputs for brain masking or tissue segmentation in the voxel-based pipeline,</span>
  <span class="c1"># select those &#39;Freesurfer-&#39; labeled options further below in anatomical_preproc.</span>
  <span class="nt">run_freesurfer</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

  <span class="c1"># Add extra arguments to recon-all command</span>
  <span class="nt">reconall_args</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>


<span class="nt">longitudinal_template_generation</span><span class="p">:</span>

  <span class="c1"># If you have multiple T1w&#39;s, you can generate your own run-specific custom</span>
  <span class="c1"># T1w template to serve as an intermediate to the standard template for</span>
  <span class="c1"># anatomical registration.</span>

  <span class="c1"># This runs before the main pipeline as it requires multiple T1w sessions</span>
  <span class="c1"># at once.</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

  <span class="c1"># Freesurfer longitudinal template algorithm using FSL FLIRT</span>
  <span class="c1"># Method to average the dataset at each iteration of the template creation</span>
  <span class="c1"># Options: median, mean or std</span>
  <span class="nt">average_method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">median</span>

  <span class="c1"># Degree of freedom for FLIRT in the template creation</span>
  <span class="c1"># Options: 12 (affine), 9 (traditional), 7 (global rescale) or 6 (rigid body)</span>
  <span class="nt">dof</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">12</span>

  <span class="c1"># Interpolation parameter for FLIRT in the template creation</span>
  <span class="c1"># Options: trilinear, nearestneighbour, sinc or spline</span>
  <span class="nt">interp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">trilinear</span>

  <span class="c1"># Cost function for FLIRT in the template creation</span>
  <span class="c1"># Options: corratio, mutualinfo, normmi, normcorr, leastsq, labeldiff or bbr</span>
  <span class="nt">cost</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">corratio</span>

  <span class="c1"># Number of threads used for one run of the template generation algorithm</span>
  <span class="nt">thread_pool</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>

  <span class="c1"># Threshold of transformation distance to consider that the loop converged</span>
  <span class="c1"># (-1 means numpy.finfo(np.float64).eps and is the default)</span>
  <span class="nt">convergence_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">-1</span>


<span class="nt">anatomical_preproc</span><span class="p">:</span>

  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

  <span class="nt">run_t2</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

  <span class="c1"># Non-local means filtering via ANTs DenoiseImage</span>
  <span class="nt">non_local_means_filtering</span><span class="p">:</span> 

    <span class="c1"># this is a fork option</span>
    <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">Off</span><span class="p p-Indicator">]</span>

    <span class="c1"># options: &#39;Gaussian&#39; or &#39;Rician&#39;</span>
    <span class="nt">noise_model</span><span class="p">:</span> <span class="s">&#39;Gaussian&#39;</span>

  <span class="c1"># N4 bias field correction via ANTs</span>
  <span class="nt">n4_bias_field_correction</span><span class="p">:</span>

    <span class="c1"># this is a fork option</span>
    <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">Off</span><span class="p p-Indicator">]</span>

    <span class="c1"># An integer to resample the input image to save computation time. Shrink factors &lt;= 4 are commonly used.</span>
    <span class="nt">shrink_factor</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>

  <span class="c1"># Bias field correction based on square root of T1w * T2w</span>
  <span class="nt">t1t2_bias_field_correction</span><span class="p">:</span> 

    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span> 
    
    <span class="nt">BiasFieldSmoothingSigma</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
    
  <span class="nt">acpc_alignment</span><span class="p">:</span>

    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

    <span class="c1"># Run ACPC alignment before non-local means filtering or N4 bias</span>
    <span class="c1"># correction</span>
    <span class="nt">run_before_preproc</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

    <span class="c1"># ACPC size of brain in z-dimension in mm.</span>
    <span class="c1"># Default: 150mm for human data.</span>
    <span class="nt">brain_size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">150</span>

    <span class="c1"># Choose a tool to crop the FOV in ACPC alignment. </span>
    <span class="c1"># Using FSL&#39;s robustfov or flirt command. </span>
    <span class="c1"># Default: robustfov for human data, flirt for monkey data. </span>
    <span class="nt">FOV_crop</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">robustfov</span>
    
    <span class="c1"># ACPC Target</span>
    <span class="c1"># options: &#39;brain&#39; or &#39;whole-head&#39;</span>
    <span class="c1">#   note: &#39;brain&#39; requires T1w_brain_ACPC_template below to be populated</span>
    <span class="nt">acpc_target</span><span class="p">:</span> <span class="s">&#39;whole-head&#39;</span>

    <span class="c1"># ACPC aligned template</span>
    <span class="nt">T1w_ACPC_template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_1mm.nii.gz</span>

    <span class="nt">T1w_brain_ACPC_template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>
    <span class="nt">T2w_ACPC_template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>
    <span class="nt">T2w_brain_ACPC_template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>

  <span class="nt">brain_extraction</span><span class="p">:</span>
  
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

    <span class="c1"># using: [&#39;3dSkullStrip&#39;, &#39;BET&#39;, &#39;UNet&#39;, &#39;niworkflows-ants&#39;, &#39;FreeSurfer-ABCD&#39;, &#39;FreeSurfer-BET-Tight&#39;, &#39;FreeSurfer-BET-Loose&#39;]</span>
    <span class="c1"># this is a fork option</span>
    <span class="nt">using</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;3dSkullStrip&#39;</span><span class="p p-Indicator">]</span>

    <span class="c1"># option parameters</span>
    <span class="nt">AFNI-3dSkullStrip</span><span class="p">:</span>

      <span class="c1"># Output a mask volume instead of a skull-stripped volume. The mask volume containes 0 to 6, which represents voxel&#39;s postion. If set to True, C-PAC will use this output to generate anatomical brain mask for further analysis.</span>
      <span class="nt">mask_vol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>

      <span class="c1"># Set the threshold value controlling the brain vs non-brain voxels. Default is 0.6.</span>
      <span class="nt">shrink_factor</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.6</span>

      <span class="c1"># Vary the shrink factor at every iteration of the algorithm. This prevents the likelihood of surface getting stuck in large pools of CSF before reaching the outer surface of the brain. Default is On.</span>
      <span class="nt">var_shrink_fac</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

      <span class="c1"># The shrink factor bottom limit sets the lower threshold when varying the shrink factor. Default is 0.4, for when edge detection is used (which is On by default), otherwise the default value is 0.65.</span>
      <span class="nt">shrink_factor_bot_lim</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.4</span>

      <span class="c1"># Avoids ventricles while skullstripping.</span>
      <span class="nt">avoid_vent</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

      <span class="c1"># Set the number of iterations. Default is 250.The number of iterations should depend upon the density of your mesh.</span>
      <span class="nt">n_iterations</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">250</span>

      <span class="c1"># While expanding, consider the voxels above and not only the voxels below</span>
      <span class="nt">pushout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

      <span class="c1"># Perform touchup operations at the end to include areas not covered by surface expansion.</span>
      <span class="nt">touchup</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

      <span class="c1"># Give the maximum number of pixels on either side of the hole that can be filled. The default is 10 only if &#39;Touchup&#39; is On - otherwise, the default is 0.</span>
      <span class="nt">fill_hole</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>

      <span class="c1"># Perform nearest neighbor coordinate interpolation every few iterations. Default is 72.</span>
      <span class="nt">NN_smooth</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">72</span>

      <span class="c1"># Perform final surface smoothing after all iterations. Default is 20.</span>
      <span class="nt">smooth_final</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>

      <span class="c1"># Avoid eyes while skull stripping. Default is On.</span>
      <span class="nt">avoid_eyes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

      <span class="c1"># Use edge detection to reduce leakage into meninges and eyes. Default is On.</span>
      <span class="nt">use_edge</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

      <span class="c1"># Speed of expansion.</span>
      <span class="nt">exp_frac</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>

      <span class="c1"># Perform aggressive push to edge. This might cause leakage. Default is Off.</span>
      <span class="nt">push_to_edge</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>

      <span class="c1"># Use outer skull to limit expansion of surface into the skull in case of very strong shading artifacts. Use this only if you have leakage into the skull.</span>
      <span class="nt">use_skull</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Percentage of segments allowed to intersect surface. It is typically a number between 0 and 0.1, but can include negative values (which implies no testing for intersection).</span>
      <span class="nt">perc_int</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

      <span class="c1"># Number of iterations to remove intersection problems. With each iteration, the program automatically increases the amount of smoothing to get rid of intersections. Default is 4.</span>
      <span class="nt">max_inter_iter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>

      <span class="c1"># Multiply input dataset by FAC if range of values is too small.</span>
      <span class="nt">fac</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>

      <span class="c1"># Blur dataset after spatial normalization. Recommended when you have lots of CSF in brain and when you have protruding gyri (finger like). If so, recommended value range is 2-4. Otherwise, leave at 0.</span>
      <span class="nt">blur_fwhm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

      <span class="c1"># Set it as True if processing monkey data with AFNI</span>
      <span class="nt">monkey</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>

    <span class="nt">FSL-BET</span><span class="p">:</span>

      <span class="c1"># Set the threshold value controling the brain vs non-brain voxels, default is 0.5</span>
      <span class="nt">frac</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.5</span>

      <span class="c1"># Mask created along with skull stripping. It should be `On`, if selected functionalMasking :  [&#39;Anatomical_Refined&#39;] and `FSL` as skull-stripping method.</span>
      <span class="nt">mask_boolean</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

      <span class="c1"># Mesh created along with skull stripping</span>
      <span class="nt">mesh_boolean</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Create a surface outline image</span>
      <span class="nt">outline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Add padding to the end of the image, improving BET.Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
      <span class="nt">padding</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Integer value of head radius</span>
      <span class="nt">radius</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

      <span class="c1"># Reduce bias and cleanup neck. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
      <span class="nt">reduce_bias</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Eyes and optic nerve cleanup. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
      <span class="nt">remove_eyes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Robust brain center estimation. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
      <span class="nt">robust</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Create a skull image</span>
      <span class="nt">skull</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Gets additional skull and scalp surfaces by running bet2 and betsurf. This is mutually exclusive with reduce_bias, robust, padding, remove_eyes</span>
      <span class="nt">surfaces</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Apply thresholding to segmented brain image and mask</span>
      <span class="nt">threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Vertical gradient in fractional intensity threshold (-1,1)</span>
      <span class="nt">vertical_gradient </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0</span>

    <span class="nt">UNet</span><span class="p">:</span>

      <span class="c1"># UNet model</span>
      <span class="nt">unet_model </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">s3://fcp-indi/resources/cpac/resources/Site-All-T-epoch_36.model</span>

    <span class="nt">niworkflows-ants</span><span class="p">:</span>

      <span class="c1"># Template to be used during niworkflows-ants.</span>
      <span class="c1"># It is not necessary to change this path unless you intend to use a non-standard template.</span>

      <span class="c1"># niworkflows-ants Brain extraction template</span>
      <span class="nt">template_path </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/ants_template/oasis/T_template0.nii.gz</span>

      <span class="c1"># niworkflows-ants probability mask</span>
      <span class="nt">mask_path </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/ants_template/oasis/T_template0_BrainCerebellumProbabilityMask.nii.gz</span>

      <span class="c1"># niworkflows-ants registration mask (can be optional)</span>
      <span class="nt">regmask_path </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/ants_template/oasis/T_template0_BrainCerebellumRegistrationMask.nii.gz</span>

    <span class="nt">FreeSurfer-BET</span><span class="p">:</span>

      <span class="c1"># Template to be used for FreeSurfer-BET brain extraction in CCS-options pipeline</span>
      <span class="nt">T1w_brain_template_mask_ccs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/ccs_template/MNI152_T1_1mm_first_brain_mask.nii.gz</span>


<span class="nt">segmentation</span><span class="p">:</span>

  <span class="c1"># Automatically segment anatomical images into white matter, gray matter,</span>
  <span class="c1"># and CSF based on prior probability maps.</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

  <span class="nt">tissue_segmentation</span><span class="p">:</span>

    <span class="c1"># using: [&#39;FSL-FAST&#39;, &#39;Template_Based&#39;, &#39;ANTs_Prior_Based&#39;, &#39;FreeSurfer&#39;]</span>
    <span class="c1"># this is a fork point</span>
    <span class="nt">using</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;FSL-FAST&#39;</span><span class="p p-Indicator">]</span>

    <span class="c1"># option parameters</span>
    <span class="nt">FSL-FAST</span><span class="p">:</span>

      <span class="nt">thresholding</span><span class="p">:</span>

        <span class="c1"># thresholding of the tissue segmentation probability maps</span>
        <span class="c1"># options: &#39;Auto&#39;, &#39;Custom&#39;</span>
        <span class="nt">use</span><span class="p">:</span> <span class="s">&#39;Auto&#39;</span>

        <span class="nt">Custom</span><span class="p">:</span>
          <span class="c1"># Set the threshold value for the segmentation probability masks (CSF, White Matter, and Gray Matter)</span>
          <span class="c1"># The values remaining will become the binary tissue masks.</span>
          <span class="c1"># A good starting point is 0.95.</span>

          <span class="c1"># CSF (cerebrospinal fluid) threshold.</span>
          <span class="nt">CSF_threshold_value </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.95</span>

          <span class="c1"># White matter threshold.</span>
          <span class="nt">WM_threshold_value </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.95</span>

          <span class="c1"># Gray matter threshold.</span>
          <span class="nt">GM_threshold_value </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.95</span>

      <span class="nt">use_priors</span><span class="p">:</span>

        <span class="c1"># Use template-space tissue priors to refine the binary tissue masks generated by segmentation.</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

        <span class="c1"># Full path to a directory containing binarized prior probability maps.</span>
        <span class="c1"># These maps are included as part of the &#39;Image Resource Files&#39; package available on the Install page of the User Guide.</span>
        <span class="c1"># It is not necessary to change this path unless you intend to use non-standard priors.</span>
        <span class="nt">priors_path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/tissuepriors/2mm</span>

        <span class="c1"># Full path to a binarized White Matter prior probability map.</span>
        <span class="c1"># It is not necessary to change this path unless you intend to use non-standard priors.</span>
        <span class="nt">WM_path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$priors_path/avg152T1_white_bin.nii.gz</span>

        <span class="c1"># Full path to a binarized Gray Matter prior probability map.</span>
        <span class="c1"># It is not necessary to change this path unless you intend to use non-standard priors.</span>
        <span class="nt">GM_path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$priors_path/avg152T1_gray_bin.nii.gz</span>

        <span class="c1"># Full path to a binarized CSF prior probability map.</span>
        <span class="c1"># It is not necessary to change this path unless you intend to use non-standard priors.</span>
        <span class="nt">CSF_path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$priors_path/avg152T1_csf_bin.nii.gz</span>

    <span class="nt">Template_Based</span><span class="p">:</span>

      <span class="c1"># These masks should be in the same space of your registration template, e.g. if</span>
      <span class="c1"># you choose &#39;EPI Template&#39; , below tissue masks should also be EPI template tissue masks.</span>
      <span class="c1">#</span>
      <span class="c1"># Options: [&#39;T1_Template&#39;, &#39;EPI_Template&#39;]</span>
      <span class="nt">template_for_segmentation</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;T1_Template&#39;</span><span class="p p-Indicator">]</span>

      <span class="c1"># These masks are included as part of the &#39;Image Resource Files&#39; package available</span>
      <span class="c1"># on the Install page of the User Guide.</span>

      <span class="c1"># Full path to a binarized White Matter mask.</span>
      <span class="nt">WHITE</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/tissuepriors/2mm/avg152T1_white_bin.nii.gz</span>

      <span class="c1"># Full path to a binarized Gray Matter mask.</span>
      <span class="nt">GRAY</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/tissuepriors/2mm/avg152T1_gray_bin.nii.gz</span>

      <span class="c1"># Full path to a binarized CSF mask.</span>
      <span class="nt">CSF</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/tissuepriors/2mm/avg152T1_csf_bin.nii.gz</span>

    <span class="nt">ANTs_Prior_Based</span><span class="p">:</span>

      <span class="c1"># Generate white matter, gray matter, CSF masks based on antsJointLabelFusion</span>
      <span class="c1"># ANTs Prior-based Segmentation workflow that has shown optimal results for non-human primate data.</span>

      <span class="c1"># The atlas image assumed to be used in ANTs Prior-based Segmentation.</span>
      <span class="nt">template_brain_list </span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/monkey_seg/templates/JointLabelCouncil/MacaqueYerkes19_T1w_0.5mm/T1w_brain.nii.gz</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/monkey_seg/templates/JointLabelCouncil/J_Macaque_11mo_atlas_nACQ_194x252x160space_0.5mm/T1w_brain.nii.gz</span>

      <span class="c1"># The atlas segmentation images.</span>
      <span class="c1"># For performing ANTs Prior-based segmentation method</span>
      <span class="c1"># the number of specified segmentations should be identical to the number of atlas brain image sets.</span>
      <span class="c1"># eg.</span>
      <span class="c1"># ANTs_prior_seg_template_brain_list :</span>
      <span class="c1">#   - atlas1.nii.gz</span>
      <span class="c1">#   - atlas2.nii.gz</span>
      <span class="c1"># ANTs_prior_seg_template_segmentation_list:</span>
      <span class="c1">#   - segmentation1.nii.gz</span>
      <span class="c1">#   - segmentation1.nii.gz</span>
      <span class="nt">template_segmentation_list</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/monkey_seg/templates/JointLabelCouncil/MacaqueYerkes19_T1w_0.5mm/Segmentation.nii.gz</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/monkey_seg/templates/JointLabelCouncil/J_Macaque_11mo_atlas_nACQ_194x252x160space_0.5mm/Segmentation.nii.gz</span>

      <span class="c1"># Label values corresponding to CSF/GM/WM in atlas file</span>
      <span class="c1"># It is not necessary to change this values unless your CSF/GM/WM label values are different from Freesurfer Color Lookup Table.</span>
      <span class="c1"># https://surfer.nmr.mgh.harvard.edu/fswiki/FsTutorial/AnatomicalROI/FreeSurferColorLUT</span>

      <span class="c1"># Label values corresponding to CSF in multiatlas file</span>
      <span class="nt">CSF_label </span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">24</span><span class="p p-Indicator">]</span>

      <span class="c1"># Label values corresponding to Gray Matter in multiatlas file</span>
      <span class="nt">GM_label </span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">3</span><span class="p p-Indicator">,</span> <span class="nv">42</span><span class="p p-Indicator">]</span>

      <span class="c1"># Label values corresponding to White Matter in multiatlas file</span>
      <span class="nt">WM_label </span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">2</span><span class="p p-Indicator">,</span> <span class="nv">41</span><span class="p p-Indicator">]</span>

    <span class="nt">FreeSurfer</span><span class="p">:</span>

      <span class="c1"># Use mri_binarize --erode option to erode segmentation masks</span>
      <span class="nt">erode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

      <span class="c1"># Label values corresponding to CSF in FreeSurfer aseg segmentation file</span>
      <span class="nt">CSF_label </span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">24</span><span class="p p-Indicator">]</span>

      <span class="c1"># Label values corresponding to Gray Matter in FreeSurfer aseg segmentation file</span>
      <span class="nt">GM_label </span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">3</span><span class="p p-Indicator">,</span> <span class="nv">42</span><span class="p p-Indicator">]</span>

      <span class="c1"># Label values corresponding to White Matter in FreeSurfer aseg segmentation file</span>
      <span class="nt">WM_label </span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">2</span><span class="p p-Indicator">,</span> <span class="nv">41</span><span class="p p-Indicator">]</span>


<span class="nt">registration_workflows</span><span class="p">:</span>

  <span class="nt">anatomical_registration</span><span class="p">:</span>

    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

    <span class="c1"># The resolution to which anatomical images should be transformed during registration.</span>
    <span class="c1"># This is the resolution at which processed anatomical files will be output.</span>
    <span class="nt">resolution_for_anat</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2mm</span>

    <span class="c1"># Template to be used during registration.</span>
    <span class="c1"># It is not necessary to change this path unless you intend to use a non-standard template.</span>
    <span class="nt">T1w_brain_template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_${resolution_for_anat}_brain.nii.gz</span>

    <span class="c1"># Template to be used during registration.</span>
    <span class="c1"># It is not necessary to change this path unless you intend to use a non-standard template.</span>
    <span class="nt">T1w_template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_${resolution_for_anat}.nii.gz</span>

    <span class="c1"># Template to be used during registration.</span>
    <span class="c1"># It is not necessary to change this path unless you intend to use a non-standard template.</span>
    <span class="nt">T1w_brain_template_mask</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_${resolution_for_anat}_brain_mask.nii.gz</span>

    <span class="c1"># Register skull-on anatomical image to a template.</span>
    <span class="nt">reg_with_skull</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

    <span class="nt">registration</span><span class="p">:</span>

      <span class="c1"># using: [&#39;ANTS&#39;, &#39;FSL&#39;, &#39;FSL-linear&#39;]</span>
      <span class="c1"># this is a fork point</span>
      <span class="c1">#   selecting both [&#39;ANTS&#39;, &#39;FSL&#39;] will run both and fork the pipeline</span>
      <span class="nt">using</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;ANTS&#39;</span><span class="p p-Indicator">]</span>

      <span class="c1"># option parameters</span>
      <span class="nt">ANTs</span><span class="p">:</span>

        <span class="c1"># If a lesion mask is available for a T1w image, use it to improve the ANTs&#39; registration</span>
        <span class="c1"># ANTS registration only.</span>
        <span class="nt">use_lesion_mask</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>

        <span class="c1"># ANTs parameters for T1-template-based registration</span>
        <span class="nt">T1_registration</span><span class="p">:</span>

          <span class="p p-Indicator">-</span> <span class="nt">collapse-output-transforms</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
          <span class="p p-Indicator">-</span> <span class="nt">dimensionality</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
          <span class="p p-Indicator">-</span> <span class="nt">initial-moving-transform </span><span class="p">:</span>
             <span class="nt">initializationFeature</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

          <span class="p p-Indicator">-</span> <span class="nt">transforms</span><span class="p">:</span>
             <span class="p p-Indicator">-</span> <span class="nt">Rigid</span><span class="p">:</span>
                 <span class="nt">gradientStep </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
                 <span class="nt">metric </span><span class="p">:</span>
                   <span class="nt">type </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MI</span>
                   <span class="nt">metricWeight</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
                   <span class="nt">numberOfBins </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">32</span>
                   <span class="nt">samplingStrategy </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Regular</span>
                   <span class="nt">samplingPercentage </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.25</span>
                 <span class="nt">convergence</span><span class="p">:</span>
                   <span class="nt">iteration </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000x500x250x100</span>
                   <span class="nt">convergenceThreshold </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1e-08</span>
                   <span class="nt">convergenceWindowSize </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
                 <span class="nt">smoothing-sigmas </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
                 <span class="nt">shrink-factors </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8x4x2x1</span>
                 <span class="nt">use-histogram-matching </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

             <span class="p p-Indicator">-</span> <span class="nt">Affine</span><span class="p">:</span>
                 <span class="nt">gradientStep </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
                 <span class="nt">metric </span><span class="p">:</span>
                   <span class="nt">type </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MI</span>
                   <span class="nt">metricWeight</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
                   <span class="nt">numberOfBins </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">32</span>
                   <span class="nt">samplingStrategy </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Regular</span>
                   <span class="nt">samplingPercentage </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.25</span>
                 <span class="nt">convergence</span><span class="p">:</span>
                   <span class="nt">iteration </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000x500x250x100</span>
                   <span class="nt">convergenceThreshold </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1e-08</span>
                   <span class="nt">convergenceWindowSize </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
                 <span class="nt">smoothing-sigmas </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
                 <span class="nt">shrink-factors </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8x4x2x1</span>
                 <span class="nt">use-histogram-matching </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

             <span class="p p-Indicator">-</span> <span class="nt">SyN</span><span class="p">:</span>
                 <span class="nt">gradientStep </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
                 <span class="nt">updateFieldVarianceInVoxelSpace </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.0</span>
                 <span class="nt">totalFieldVarianceInVoxelSpace </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0</span>
                 <span class="nt">metric</span><span class="p">:</span>
                   <span class="nt">type </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CC</span>
                   <span class="nt">metricWeight</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
                   <span class="nt">radius </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
                 <span class="nt">convergence</span><span class="p">:</span>
                   <span class="nt">iteration </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100x100x70x20</span>
                   <span class="nt">convergenceThreshold </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1e-09</span>
                   <span class="nt">convergenceWindowSize </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">15</span>
                 <span class="nt">smoothing-sigmas </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
                 <span class="nt">shrink-factors </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">6x4x2x1</span>
                 <span class="nt">use-histogram-matching </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
                 <span class="nt">winsorize-image-intensities </span><span class="p">:</span>
                   <span class="nt">lowerQuantile </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.01</span>
                   <span class="nt">upperQuantile </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.99</span>

        <span class="c1"># Interpolation method for writing out transformed anatomical images.</span>
        <span class="c1"># Possible values: Linear, BSpline, LanczosWindowedSinc</span>
        <span class="nt">interpolation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">LanczosWindowedSinc</span>

      <span class="nt">FSL-FNIRT</span><span class="p">:</span>

        <span class="c1"># Configuration file to be used by FSL to set FNIRT parameters.</span>
        <span class="c1"># It is not necessary to change this path unless you intend to use custom FNIRT parameters or a non-standard template.</span>
        <span class="nt">fnirt_config</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">T1_2_MNI152_2mm</span>

        <span class="c1"># The resolution to which anatomical images should be transformed during registration.</span>
        <span class="c1"># This is the resolution at which processed anatomical files will be output. </span>
        <span class="c1"># specifically for monkey pipeline</span>
        <span class="nt">ref_resolution</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2mm</span>

        <span class="c1"># Reference mask for FSL registration.</span>
        <span class="nt">ref_mask</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_${resolution_for_anat}_brain_mask_dil.nii.gz</span>
        
        <span class="c1"># Template to be used during registration.</span>
        <span class="c1"># It is for monkey pipeline specifically. </span>
        <span class="nt">FNIRT_T1w_brain_template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>

        <span class="c1"># Template to be used during registration.</span>
        <span class="c1"># It is for monkey pipeline specifically. </span>
        <span class="nt">FNIRT_T1w_template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>
        
        <span class="c1"># Interpolation method for writing out transformed anatomical images.</span>
        <span class="c1"># Possible values: trilinear, sinc, spline</span>
        <span class="nt">interpolation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sinc</span>

        <span class="c1"># Identity matrix used during FSL-based resampling of anatomical-space data throughout the pipeline.</span>
        <span class="c1"># It is not necessary to change this path unless you intend to use a different template.</span>
        <span class="nt">identity_matrix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/etc/flirtsch/ident.mat</span>

        <span class="c1"># Reference mask for FSL registration.</span>
        <span class="nt">ref_mask</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_${resolution_for_anat}_brain_mask_dil.nii.gz</span>

        <span class="c1"># Reference mask with 2mm resolution to be used during FNIRT-based brain extraction in ABCD-options pipeline.</span>
        <span class="nt">ref_mask_res-2</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_2mm_brain_mask_dil.nii.gz</span>

        <span class="c1"># Template with 2mm resolution to be used during FNIRT-based brain extraction in ABCD-options pipeline.</span>
        <span class="nt">T1w_template_res-2</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_2mm.nii.gz</span>

    <span class="nt">overwrite_transform</span><span class="p">:</span>

      <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Choose the tool to overwrite transform, currently only support &#39;FSL&#39; to overwrite &#39;ANTs&#39; transforms in ABCD-options pipeline.</span>
      <span class="c1"># using: &#39;FSL&#39;</span>
      <span class="nt">using</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">FSL</span>

  <span class="nt">functional_registration</span><span class="p">:</span>

    <span class="nt">coregistration</span><span class="p">:</span>
      <span class="c1"># functional (BOLD/EPI) registration to anatomical (structural/T1)</span>

      <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

      <span class="c1"># reference: &#39;brain&#39; or &#39;restore-brain&#39;</span>
      <span class="c1"># In ABCD-options pipeline, &#39;restore-brain&#39; is used as coregistration reference</span>
      <span class="nt">reference</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">brain</span>

      <span class="c1"># Choose FSL or ABCD as coregistration method</span>
      <span class="nt">using</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">FSL</span>

      <span class="c1"># Choose brain or whole-head as coregistration input</span>
      <span class="nt">input</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">brain</span>

      <span class="c1"># Choose coregistration interpolation</span>
      <span class="nt">interpolation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">trilinear</span>

      <span class="c1"># Choose coregistration cost function</span>
      <span class="nt">cost</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">corratio</span>

      <span class="c1"># Choose coregistration degree of freedom</span>
      <span class="nt">dof</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">6</span>

      <span class="c1"># Extra arguments for FSL flirt</span>
      <span class="nt">arguments</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>

      <span class="nt">func_input_prep</span><span class="p">:</span>

        <span class="c1"># Choose whether to use functional brain or skull as the input to functional-to-anatomical registration</span>
        <span class="nt">reg_with_skull</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

        <span class="c1"># Choose whether to use the mean of the functional/EPI as the input to functional-to-anatomical registration or one of the volumes from the functional 4D timeseries that you choose.</span>
        <span class="c1"># input: [&#39;Mean_Functional&#39;, &#39;Selected_Functional_Volume&#39;, &#39;fmriprep_reference&#39;]</span>
        <span class="nt">input</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;Mean_Functional&#39;</span><span class="p p-Indicator">]</span>

        <span class="nt">Mean Functional</span><span class="p">:</span>

          <span class="c1"># Run ANTs N4 Bias Field Correction on the input BOLD (EPI)</span>
          <span class="c1"># this can increase tissue contrast which may improve registration quality in some data</span>
          <span class="nt">n4_correct_func</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>

        <span class="nt">Selected Functional Volume</span><span class="p">:</span>

          <span class="c1"># Only for when &#39;Use as Functional-to-Anatomical Registration Input&#39; is set to &#39;Selected Functional Volume&#39;.</span>
          <span class="c1">#Input the index of which volume from the functional 4D timeseries input file you wish to use as the input for functional-to-anatomical registration.</span>
          <span class="nt">func_reg_input_volume</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

      <span class="nt">boundary_based_registration</span><span class="p">:</span>
        <span class="c1"># this is a fork point</span>
        <span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
        <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">On</span><span class="p p-Indicator">]</span>

        <span class="c1"># Standard FSL 5.0 Scheduler used for Boundary Based Registration.</span>
        <span class="c1"># It is not necessary to change this path unless you intend to use non-standard MNI registration.</span>
        <span class="nt">bbr_schedule</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/etc/flirtsch/bbr.sch</span>

        <span class="c1"># reference for boundary based registration</span>
        <span class="c1"># options: &#39;whole-head&#39; or &#39;brain&#39;</span>
        <span class="nt">reference</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">whole-head</span>

        <span class="c1"># choose which FAST map to generate BBR WM mask</span>
        <span class="c1"># options: &#39;probability_map&#39;, &#39;partial_volume_map&#39;</span>
        <span class="nt">bbr_wm_map</span><span class="p">:</span> <span class="s">&#39;probability_map&#39;</span>

        <span class="c1"># optional FAST arguments to generate BBR WM mask</span>
        <span class="nt">bbr_wm_mask_args</span><span class="p">:</span> <span class="s">&#39;-thr</span><span class="nv"> </span><span class="s">0.5</span><span class="nv"> </span><span class="s">-bin&#39;</span>

    <span class="nt">EPI_registration</span><span class="p">:</span>

      <span class="c1"># directly register the mean functional to an EPI template</span>
      <span class="c1">#   instead of applying the anatomical T1-to-template transform to the functional data that has been</span>
      <span class="c1">#   coregistered to anatomical/T1 space</span>
      <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># using: [&#39;ANTS&#39;, &#39;FSL&#39;, &#39;FSL-linear&#39;]</span>
      <span class="c1"># this is a fork point</span>
      <span class="c1"># ex. selecting both [&#39;ANTS&#39;, &#39;FSL&#39;] will run both and fork the pipeline</span>
      <span class="nt">using</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;ANTS&#39;</span><span class="p p-Indicator">]</span>

      <span class="c1"># EPI template for direct functional-to-template registration</span>
      <span class="c1"># (bypassing coregistration and the anatomical-to-template transforms)</span>
      <span class="nt">EPI_template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">s3://fcp-indi/resources/cpac/resources/epi_hbn.nii.gz</span>

      <span class="c1"># EPI template mask.</span>
      <span class="nt">EPI_template_mask</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>

      <span class="nt">ANTs</span><span class="p">:</span>

        <span class="c1"># EPI registration configuration - synonymous with T1_registration</span>
        <span class="c1"># parameters under anatomical registration above</span>
        <span class="nt">parameters</span><span class="p">:</span>

          <span class="p p-Indicator">-</span> <span class="nt">collapse-output-transforms</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
          <span class="p p-Indicator">-</span> <span class="nt">dimensionality</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
          <span class="p p-Indicator">-</span> <span class="nt">initial-moving-transform </span><span class="p">:</span>
             <span class="nt">initializationFeature</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

          <span class="p p-Indicator">-</span> <span class="nt">transforms</span><span class="p">:</span>
             <span class="p p-Indicator">-</span> <span class="nt">Rigid</span><span class="p">:</span>
                 <span class="nt">gradientStep </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
                 <span class="nt">metric </span><span class="p">:</span>
                   <span class="nt">type </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MI</span>
                   <span class="nt">metricWeight</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
                   <span class="nt">numberOfBins </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">32</span>
                   <span class="nt">samplingStrategy </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Regular</span>
                   <span class="nt">samplingPercentage </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.25</span>
                 <span class="nt">convergence</span><span class="p">:</span>
                   <span class="nt">iteration </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000x500x250x100</span>
                   <span class="nt">convergenceThreshold </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1e-08</span>
                   <span class="nt">convergenceWindowSize </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
                 <span class="nt">smoothing-sigmas </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
                 <span class="nt">shrink-factors </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8x4x2x1</span>
                 <span class="nt">use-histogram-matching </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

             <span class="p p-Indicator">-</span> <span class="nt">Affine</span><span class="p">:</span>
                 <span class="nt">gradientStep </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
                 <span class="nt">metric </span><span class="p">:</span>
                   <span class="nt">type </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MI</span>
                   <span class="nt">metricWeight</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
                   <span class="nt">numberOfBins </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">32</span>
                   <span class="nt">samplingStrategy </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Regular</span>
                   <span class="nt">samplingPercentage </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.25</span>
                 <span class="nt">convergence</span><span class="p">:</span>
                   <span class="nt">iteration </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000x500x250x100</span>
                   <span class="nt">convergenceThreshold </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1e-08</span>
                   <span class="nt">convergenceWindowSize </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
                 <span class="nt">smoothing-sigmas </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
                 <span class="nt">shrink-factors </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8x4x2x1</span>
                 <span class="nt">use-histogram-matching </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

             <span class="p p-Indicator">-</span> <span class="nt">SyN</span><span class="p">:</span>
                 <span class="nt">gradientStep </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
                 <span class="nt">updateFieldVarianceInVoxelSpace </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.0</span>
                 <span class="nt">totalFieldVarianceInVoxelSpace </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0</span>
                 <span class="nt">metric</span><span class="p">:</span>
                   <span class="nt">type </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CC</span>
                   <span class="nt">metricWeight</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
                   <span class="nt">radius </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
                 <span class="nt">convergence</span><span class="p">:</span>
                   <span class="nt">iteration </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100x100x70x20</span>
                   <span class="nt">convergenceThreshold </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1e-09</span>
                   <span class="nt">convergenceWindowSize </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">15</span>
                 <span class="nt">smoothing-sigmas </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.0x2.0x1.0x0.0</span>
                 <span class="nt">shrink-factors </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">6x4x2x1</span>
                 <span class="nt">use-histogram-matching </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
                 <span class="nt">winsorize-image-intensities </span><span class="p">:</span>
                   <span class="nt">lowerQuantile </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.01</span>
                   <span class="nt">upperQuantile </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.99</span>

        <span class="c1"># Interpolation method for writing out transformed EPI images.</span>
        <span class="c1"># Possible values: Linear, BSpline, LanczosWindowedSinc</span>
        <span class="nt">interpolation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">LanczosWindowedSinc</span>

      <span class="nt">FSL-FNIRT</span><span class="p">:</span>

        <span class="c1"># Configuration file to be used by FSL to set FNIRT parameters.</span>
        <span class="c1"># It is not necessary to change this path unless you intend to use custom FNIRT parameters or a non-standard template.</span>
        <span class="nt">fnirt_config</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">T1_2_MNI152_2mm</span>

        <span class="c1"># Interpolation method for writing out transformed EPI images.</span>
        <span class="c1"># Possible values: trilinear, sinc, spline</span>
        <span class="nt">interpolation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sinc</span>

        <span class="c1"># Identity matrix used during FSL-based resampling of BOLD-space data throughout the pipeline.</span>
        <span class="c1"># It is not necessary to change this path unless you intend to use a different template.</span>
        <span class="nt">identity_matrix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/etc/flirtsch/ident.mat</span>

    <span class="nt">func_registration_to_template</span><span class="p">:</span>

      <span class="c1"># these options modify the application (to the functional data), not the calculation, of the</span>
      <span class="c1"># T1-to-template and EPI-to-template transforms calculated earlier during registration</span>
      
      <span class="c1"># apply the functional-to-template (T1 template) registration transform to the functional data</span>
      <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>
      
      <span class="c1"># apply the functional-to-template (EPI template) registration transform to the functional data</span>
      <span class="nt">run_EPI</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="nt">output_resolution</span><span class="p">:</span>

        <span class="c1"># The resolution (in mm) to which the preprocessed, registered functional timeseries outputs are written into.</span>
        <span class="c1"># NOTE:</span>
        <span class="c1">#   selecting a 1 mm or 2 mm resolution might substantially increase your RAM needs- these resolutions should be selected with caution.</span>
        <span class="c1">#   for most cases, 3 mm or 4 mm resolutions are suggested.</span>
        <span class="c1"># NOTE:</span>
        <span class="c1">#   this also includes the single-volume 3D preprocessed functional data,</span>
        <span class="c1">#   such as the mean functional (mean EPI) in template space</span>
        <span class="nt">func_preproc_outputs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3mm</span>

        <span class="c1"># The resolution (in mm) to which the registered derivative outputs are written into.</span>
        <span class="c1"># NOTE:</span>
        <span class="c1">#   this is for the single-volume functional-space outputs (i.e. derivatives)</span>
        <span class="c1">#   thus, a higher resolution may not result in a large increase in RAM needs as above</span>
        <span class="nt">func_derivative_outputs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3mm</span>

      <span class="nt">target_template</span><span class="p">:</span>      
        <span class="c1"># choose which template space to transform derivatives towards</span>
        <span class="c1"># using: [&#39;T1_template&#39;, &#39;EPI_template&#39;]</span>
        <span class="c1"># this is a fork point</span>
        <span class="c1"># NOTE:</span>
        <span class="c1">#   this will determine which registration transform to use to warp the functional</span>
        <span class="c1">#   outputs and derivatives to template space</span>
        <span class="nt">using</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;T1_template&#39;</span><span class="p p-Indicator">]</span>

        <span class="nt">T1_template</span><span class="p">:</span>

          <span class="c1"># Standard Skull Stripped Template. Used as a reference image for functional registration.</span>
          <span class="c1"># This can be different than the template used as the reference/fixed for T1-to-template registration.</span>
          <span class="nt">T1w_brain_template_funcreg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_${func_resolution}_brain.nii.gz</span>

          <span class="c1"># Standard Anatomical Brain Image with Skull.</span>
          <span class="c1"># This can be different than the template used as the reference/fixed for T1-to-template registration.</span>
          <span class="nt">T1w_template_funcreg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_${func_resolution}.nii.gz</span>

          <span class="c1"># Template to be used during registration.</span>
          <span class="c1"># It is not necessary to change this path unless you intend to use a non-standard template.</span>
          <span class="nt">T1w_brain_template_mask_funcreg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/data/standard/MNI152_T1_${func_resolution}_brain_mask.nii.gz</span>

          <span class="c1"># a standard template for resampling if using float resolution</span>
          <span class="nt">T1w_template_for_resample</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_brain.nii.gz</span>

        <span class="nt">EPI_template</span><span class="p">:</span>

          <span class="c1"># EPI template for direct functional-to-template registration</span>
          <span class="c1"># (bypassing coregistration and the anatomical-to-template transforms)</span>
          <span class="nt">EPI_template_funcreg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">s3://fcp-indi/resources/cpac/resources/epi_hbn.nii.gz</span>

          <span class="c1"># EPI template mask.</span>
          <span class="nt">EPI_template_mask_funcreg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>

          <span class="c1"># a standard template for resampling if using float resolution</span>
          <span class="nt">EPI_template_for_resample</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_brain.nii.gz</span>

      <span class="nt">ANTs_pipelines</span><span class="p">:</span>

        <span class="c1"># Interpolation method for writing out transformed functional images.</span>
        <span class="c1"># Possible values: Linear, BSpline, LanczosWindowedSinc</span>
        <span class="nt">interpolation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">LanczosWindowedSinc</span>

      <span class="nt">FNIRT_pipelines</span><span class="p">:</span>

        <span class="c1"># Interpolation method for writing out transformed functional images.</span>
        <span class="c1"># Possible values: trilinear, sinc, spline</span>
        <span class="nt">interpolation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sinc</span>

        <span class="c1"># Identity matrix used during FSL-based resampling of functional-space data throughout the pipeline.</span>
        <span class="c1"># It is not necessary to change this path unless you intend to use a different template.</span>
        <span class="nt">identity_matrix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/usr/share/fsl/5.0/etc/flirtsch/ident.mat</span>

      <span class="nt">apply_transform</span><span class="p">:</span>

        <span class="c1"># options: &#39;default&#39;, &#39;abcd&#39;, &#39;single_step_resampling&#39;, &#39;dcan_nhp&#39;</span>
        <span class="c1"># &#39;default&#39;: apply func-to-anat and anat-to-template transforms on motion corrected functional image.</span>
        <span class="c1"># &#39;abcd&#39;: apply motion correction, func-to-anat and anat-to-template transforms on each of raw functional volume using FSL applywarp based on ABCD-HCP pipeline.</span>
        <span class="c1"># &#39;single_step_resampling&#39;: apply motion correction, func-to-anat and anat-to-template transforms on each of raw functional volume using ANTs antsApplyTransform based on fMRIPrep pipeline.</span>
        <span class="nt">using</span><span class="p">:</span> <span class="s">&#39;default&#39;</span>


<span class="nt">functional_preproc</span><span class="p">:</span>

  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

  <span class="nt">truncation</span><span class="p">:</span>

    <span class="c1"># First timepoint to include in analysis.</span>
    <span class="c1"># Default is 0 (beginning of timeseries).</span>
    <span class="c1"># First timepoint selection in the scan parameters in the data configuration file, if present, will over-ride this selection.</span>
    <span class="c1"># Note: the selection here applies to all scans of all participants.</span>
    <span class="nt">start_tr</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

    <span class="c1"># Last timepoint to include in analysis.</span>
    <span class="c1"># Default is None or End (end of timeseries).</span>
    <span class="c1"># Last timepoint selection in the scan parameters in the data configuration file, if present, will over-ride this selection.</span>
    <span class="c1"># Note: the selection here applies to all scans of all participants.</span>
    <span class="nt">stop_tr</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>

  <span class="nt">scaling</span><span class="p">:</span>

    <span class="c1"># Scale functional raw data, usually used in rodent pipeline</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

    <span class="c1"># Scale the size of the dataset voxels by the factor.</span>
    <span class="nt">scaling_factor</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>

  <span class="nt">despiking</span><span class="p">:</span>

    <span class="c1"># Run AFNI 3dDespike</span>
    <span class="c1"># this is a fork point</span>
    <span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
    <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">Off</span><span class="p p-Indicator">]</span>

  <span class="nt">slice_timing_correction</span><span class="p">:</span>

    <span class="c1"># Interpolate voxel time courses so they are sampled at the same time points.</span>
    <span class="c1"># this is a fork point</span>
    <span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
    <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">On</span><span class="p p-Indicator">]</span>

    <span class="c1"># use specified slice time pattern rather than one in header</span>
    <span class="nt">tpattern</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>

    <span class="c1"># align each slice to given time offset</span>
    <span class="c1"># The default alignment time is the average of the &#39;tpattern&#39; values (either from the dataset header or from the tpattern option).</span>
    <span class="nt">tzero</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>

  <span class="nt">motion_estimates_and_correction</span><span class="p">:</span>

    <span class="nt">motion_estimates</span><span class="p">:</span> 

      <span class="c1"># calculate motion statistics BEFORE slice-timing correction</span>
      <span class="nt">calculate_motion_first</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># calculate motion statistics AFTER motion correction</span>
      <span class="nt">calculate_motion_after</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

    <span class="nt">motion_correction</span><span class="p">:</span>

      <span class="c1"># using: [&#39;3dvolreg&#39;, &#39;mcflirt&#39;]</span>
      <span class="c1"># this is a fork point</span>
      <span class="nt">using</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;3dvolreg&#39;</span><span class="p p-Indicator">]</span>

      <span class="c1"># option parameters</span>
      <span class="nt">AFNI-3dvolreg</span><span class="p">:</span>

        <span class="c1"># This option is useful when aligning high-resolution datasets that may need more alignment than a few voxels.</span>
        <span class="nt">functional_volreg_twopass</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

      <span class="c1"># Choose motion correction reference. Options: mean, median, selected_volume, fmriprep_reference</span>
      <span class="nt">motion_correction_reference</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;mean&#39;</span><span class="p p-Indicator">]</span>

      <span class="c1"># Choose motion correction reference volume</span>
      <span class="nt">motion_correction_reference_volume</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

    <span class="nt">motion_estimate_filter</span><span class="p">:</span>

      <span class="c1"># Filter physiological (respiration) artifacts from the head motion estimates.</span>
      <span class="c1"># Adapted from DCAN Labs filter.</span>
      <span class="c1">#     https://www.ohsu.edu/school-of-medicine/developmental-cognition-and-neuroimaging-lab</span>
      <span class="c1">#     https://www.biorxiv.org/content/10.1101/337360v1.full.pdf</span>
      <span class="c1"># this is a fork point</span>
      <span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
      <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">Off</span><span class="p p-Indicator">]</span>

      <span class="c1"># options: &quot;notch&quot;, &quot;lowpass&quot;</span>
      <span class="nt">filter_type</span><span class="p">:</span> <span class="s">&quot;notch&quot;</span>

      <span class="c1"># Number of filter coefficients.</span>
      <span class="nt">filter_order</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>

      <span class="c1"># Dataset-wide respiratory rate data from breathing belt.</span>
      <span class="c1"># Notch filter requires either:</span>
      <span class="c1">#     &quot;breathing_rate_min&quot; and &quot;breathing_rate_max&quot;</span>
      <span class="c1"># or</span>
      <span class="c1">#     &quot;center_frequency&quot; and &quot;filter_bandwitdh&quot;.</span>
      <span class="c1"># Lowpass filter requires either:</span>
      <span class="c1">#     &quot;breathing_rate_min&quot;</span>
      <span class="c1"># or</span>
      <span class="c1">#     &quot;lowpass_cutoff&quot;.</span>
      <span class="c1"># If &quot;breathing_rate_min&quot; (for lowpass and notch filter)</span>
      <span class="c1"># and &quot;breathing_rate_max&quot; (for notch filter) are set,</span>
      <span class="c1"># the values set in &quot;lowpass_cutoff&quot; (for lowpass filter),</span>
      <span class="c1"># &quot;center_frequency&quot; and &quot;filter_bandwidth&quot; (for notch filter)</span>
      <span class="c1"># options are ignored.</span>

      <span class="c1"># Lowest Breaths-Per-Minute in dataset.</span>
      <span class="c1"># For both notch and lowpass filters.</span>
      <span class="nt">breathing_rate_min</span><span class="p">:</span>

      <span class="c1"># Highest Breaths-Per-Minute in dataset.</span>
      <span class="c1"># For notch filter.</span>
      <span class="nt">breathing_rate_max</span><span class="p">:</span>

      <span class="c1"># notch filter direct customization parameters</span>

      <span class="c1"># mutually exclusive with breathing_rate options above.</span>
      <span class="c1"># If breathing_rate_min and breathing_rate_max are provided,</span>
      <span class="c1"># the following parameters will be ignored.</span>

      <span class="c1"># the center frequency of the notch filter</span>
      <span class="nt">center_frequency</span><span class="p">:</span>

      <span class="c1"># the width of the notch filter</span>
      <span class="nt">filter_bandwidth</span><span class="p">:</span>

      <span class="c1"># lowpass filter direct customization parameter</span>

      <span class="c1"># mutually exclusive with breathing_rate options above.</span>
      <span class="c1"># If breathing_rate_min is provided, the following</span>
      <span class="c1"># parameter will be ignored.</span>

      <span class="c1"># the frequency cutoff of the filter</span>
      <span class="nt">lowpass_cutoff</span><span class="p">:</span>

  <span class="nt">distortion_correction</span><span class="p">:</span>

    <span class="c1"># this is a fork point</span>
    <span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
    <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">On</span><span class="p p-Indicator">]</span>

    <span class="c1"># using: [&#39;PhaseDiff&#39;, &#39;Blip&#39;]</span>
    <span class="c1">#   PhaseDiff - Perform field map correction using a single phase difference image, a subtraction of the two phase images from each echo. Default scanner for this method is SIEMENS.</span>
    <span class="c1">#   Blip - Uses AFNI 3dQWarp to calculate the distortion unwarp for EPI field maps of opposite/same phase encoding direction.</span>
    <span class="c1">#   NOTE:</span>
    <span class="c1">#     this is NOT a fork point - instead, the technique used will depend on what type of distortion correction field data accompanies the dataset</span>
    <span class="c1">#     for example, phase-difference field maps will lead to phase-difference distortion correction, and phase-encoding direction field maps will lead to blip-up/blip-down</span>
    <span class="nt">using</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;PhaseDiff&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;Blip&#39;</span><span class="p p-Indicator">]</span>

    <span class="c1"># option parameters</span>
    <span class="nt">PhaseDiff</span><span class="p">:</span>

      <span class="c1"># Since the quality of the distortion heavily relies on the skull-stripping step, we provide a choice of method (&#39;AFNI&#39; for AFNI 3dSkullStrip or &#39;BET&#39; for FSL BET).</span>
      <span class="c1"># Options: &#39;BET&#39; or &#39;AFNI&#39;</span>
      <span class="nt">fmap_skullstrip_option</span><span class="p">:</span> <span class="s">&#39;BET&#39;</span>

      <span class="c1"># Set the fraction value for the skull-stripping of the magnitude file. Depending on the data, a tighter extraction may be necessary in order to prevent noisy voxels from interfering with preparing the field map.</span>
      <span class="c1"># The default value is 0.5.</span>
      <span class="nt">fmap_skullstrip_BET_frac</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.5</span>

      <span class="c1"># Set the threshold value for the skull-stripping of the magnitude file. Depending on the data, a tighter extraction may be necessary in order to prevent noisy voxels from interfering with preparing the field map.</span>
      <span class="c1"># The default value is 0.6.</span>
      <span class="nt">fmap_skullstrip_AFNI_threshold</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">0.6</span>

  <span class="nt">func_masking</span><span class="p">:</span>

    <span class="c1"># using: [&#39;AFNI&#39;, &#39;FSL&#39;, &#39;FSL_AFNI&#39;, &#39;Anatomical_Refined&#39;, &#39;Anatomical_Based&#39;, &#39;Anatomical_Resampled&#39;, &#39;CCS_Anatomical_Refined&#39;]</span>
    <span class="c1"># this is a fork point</span>
    <span class="nt">using</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;AFNI&#39;</span><span class="p p-Indicator">]</span>

    <span class="nt">FSL-BET</span><span class="p">:</span>

      <span class="c1"># Apply to 4D FMRI data, if bold_bet_functional_mean_boolean : Off.</span>
      <span class="c1"># Mutually exclusive with functional, reduce_bias, robust, padding, remove_eyes, surfaces</span>
      <span class="c1"># It must be &#39;on&#39; if select &#39;reduce_bias&#39;, &#39;robust&#39;, &#39;padding&#39;, &#39;remove_eyes&#39;, or &#39;bet_surfaces&#39; on</span>
      <span class="nt">functional_mean_boolean</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Set the threshold value controling the brain vs non-brain voxels.</span>
      <span class="nt">frac</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.3</span>

      <span class="c1"># Mesh created along with skull stripping</span>
      <span class="nt">mesh_boolean</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Create a surface outline image</span>
      <span class="nt">outline</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Add padding to the end of the image, improving BET.Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
      <span class="nt">padding</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Integer value of head radius</span>
      <span class="nt">radius</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

      <span class="c1"># Reduce bias and cleanup neck. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
      <span class="nt">reduce_bias</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Eyes and optic nerve cleanup. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
      <span class="nt">remove_eyes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Robust brain center estimation. Mutually exclusive with functional,reduce_bias,robust,padding,remove_eyes,surfaces</span>
      <span class="nt">robust</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Create a skull image</span>
      <span class="nt">skull</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Gets additional skull and scalp surfaces by running bet2 and betsurf. This is mutually exclusive with reduce_bias, robust, padding, remove_eyes</span>
      <span class="nt">surfaces</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Apply thresholding to segmented brain image and mask</span>
      <span class="nt">threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

      <span class="c1"># Vertical gradient in fractional intensity threshold (-1,1)</span>
      <span class="nt">vertical_gradient</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0</span>

    <span class="nt">FSL_AFNI</span><span class="p">:</span>

      <span class="nt">bold_ref</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/code/CPAC/resources/templates/tpl-MNI152NLin2009cAsym_res-02_desc-fMRIPrep_boldref.nii.gz</span>

      <span class="nt">brain_mask</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/code/CPAC/resources/templates/tpl-MNI152NLin2009cAsym_res-02_desc-brain_mask.nii.gz</span>

      <span class="nt">brain_probseg</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/code/CPAC/resources/templates/tpl-MNI152NLin2009cAsym_res-01_label-brain_probseg.nii.gz</span>

    <span class="nt">Anatomical_Refined</span><span class="p">:</span>

      <span class="c1"># Choose whether or not to dilate the anatomical mask if you choose &#39;Anatomical_Refined&#39; as the functional masking option. It will dilate one voxel if enabled.</span>
      <span class="nt">anatomical_mask_dilation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>

    <span class="c1"># Apply functional mask in native space</span>
    <span class="nt">apply_func_mask_in_native_space</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

  <span class="nt">generate_func_mean</span><span class="p">:</span>

    <span class="c1"># Generate mean functional image</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

  <span class="nt">normalize_func</span><span class="p">:</span>

    <span class="c1"># Normalize functional image</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>


<span class="nt">nuisance_corrections</span><span class="p">:</span>

  <span class="nt">1-ICA-AROMA</span><span class="p">:</span>

    <span class="c1"># this is a fork point</span>
    <span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
    <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">Off</span><span class="p p-Indicator">]</span>

    <span class="c1"># Types of denoising strategy:</span>
    <span class="c1">#   nonaggr: nonaggressive-partial component regression</span>
    <span class="c1">#   aggr:    aggressive denoising</span>
    <span class="nt">denoising_type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nonaggr</span>

  <span class="nt">2-nuisance_regression</span><span class="p">:</span>

    <span class="c1"># this is a fork point</span>
    <span class="c1">#   run: [On, Off] - this will run both and fork the pipeline</span>
    <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">On</span><span class="p p-Indicator">]</span>

    <span class="c1"># switch to Off if nuisance regression is off and you don&#39;t want to write out the regressors</span>
    <span class="nt">create_regressors</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

    <span class="c1"># Select which nuisance signal corrections to apply</span>
    <span class="nt">Regressors</span><span class="p">:</span>

      <span class="p p-Indicator">-</span>  <span class="nt">Name</span><span class="p">:</span> <span class="s">&#39;default&#39;</span>

         <span class="nt">Motion</span><span class="p">:</span>
           <span class="nt">include_delayed</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
           <span class="nt">include_squared</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
           <span class="nt">include_delayed_squared</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

         <span class="nt">aCompCor</span><span class="p">:</span>
           <span class="nt">summary</span><span class="p">:</span>
             <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DetrendPC</span>
             <span class="nt">components</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
           <span class="nt">tissues</span><span class="p">:</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">WhiteMatter</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CerebrospinalFluid</span>
           <span class="nt">extraction_resolution</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>

         <span class="nt">CerebrospinalFluid</span><span class="p">:</span>
           <span class="nt">summary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Mean</span>
           <span class="nt">extraction_resolution</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
           <span class="nt">erode_mask</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

         <span class="nt">GlobalSignal</span><span class="p">:</span>
           <span class="nt">summary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Mean</span>

         <span class="nt">PolyOrt</span><span class="p">:</span>
          <span class="nt">degree</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>

         <span class="nt">Bandpass</span><span class="p">:</span>
           <span class="nt">bottom_frequency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.01</span>
           <span class="nt">top_frequency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
           <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>

      <span class="p p-Indicator">-</span>  <span class="nt">Name</span><span class="p">:</span> <span class="s">&#39;defaultNoGSR&#39;</span>

         <span class="nt">Motion</span><span class="p">:</span>
           <span class="nt">include_delayed</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
           <span class="nt">include_squared</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
           <span class="nt">include_delayed_squared</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

         <span class="nt">aCompCor</span><span class="p">:</span>
           <span class="nt">summary</span><span class="p">:</span>
             <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DetrendPC</span>
             <span class="nt">components</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
           <span class="nt">tissues</span><span class="p">:</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">WhiteMatter</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CerebrospinalFluid</span>
           <span class="nt">extraction_resolution</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>

         <span class="nt">CerebrospinalFluid</span><span class="p">:</span>
           <span class="nt">summary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Mean</span>
           <span class="nt">extraction_resolution</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
           <span class="nt">erode_mask</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

         <span class="nt">PolyOrt</span><span class="p">:</span>
          <span class="nt">degree</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>

         <span class="nt">Bandpass</span><span class="p">:</span>
           <span class="nt">bottom_frequency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.01</span>
           <span class="nt">top_frequency</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
           <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>

    <span class="c1"># Standard Lateral Ventricles Binary Mask</span>
    <span class="c1"># used in CSF mask refinement for CSF signal-related regressions</span>
    <span class="nt">lateral_ventricles_mask</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/atlases/HarvardOxford/HarvardOxford-lateral-ventricles-thr25-2mm.nii.gz</span>

    <span class="c1"># Whether to run frequency filtering before or after nuisance regression.</span>
    <span class="c1"># Options: &#39;After&#39; or &#39;Before&#39;</span>
    <span class="nt">bandpass_filtering_order</span><span class="p">:</span> <span class="s">&#39;After&#39;</span>

    <span class="c1"># Process and refine masks used to produce regressors and time series for</span>
    <span class="c1"># regression.</span>
    <span class="nt">regressor_masks</span><span class="p">:</span>

      <span class="nt">erode_anatomical_brain_mask</span><span class="p">:</span>

        <span class="c1"># Erode binarized anatomical brain mask. If choosing True, please also set seg_csf_use_erosion: True; regOption: niworkflows-ants.</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

        <span class="c1"># Erosion proportion, if using erosion.</span>
        <span class="c1"># Default proportion is 0 for anatomical brain mask.</span>
        <span class="c1"># Recommend that do not use erosion in both proportion and millimeter method.</span>
        <span class="nt">brain_mask_erosion_prop </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

        <span class="c1"># Erode brain mask in millimeter, default of brain is 30 mm</span>
        <span class="c1"># brain erosion default is using millimeter erosion method when use erosion for brain.</span>
        <span class="nt">brain_mask_erosion_mm </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>

        <span class="c1"># Erode binarized brain mask in millimeter</span>
        <span class="nt">brain_erosion_mm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

      <span class="nt">erode_csf</span><span class="p">:</span>

        <span class="c1"># Erode binarized csf tissue mask.</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

        <span class="c1"># Erosion proportion, if use erosion.</span>
        <span class="c1"># Default proportion is 0 for CSF (cerebrospinal fluid)  mask.</span>
        <span class="c1"># Recommend to do not use erosion in both proportion and millimeter method.</span>
        <span class="nt">csf_erosion_prop </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

        <span class="c1"># Erode brain mask in millimeter, default of csf is 30 mm</span>
        <span class="c1"># CSF erosion default is using millimeter erosion method when use erosion for CSF.</span>
        <span class="nt">csf_mask_erosion_mm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>

        <span class="c1"># Erode binarized CSF (cerebrospinal fluid)  mask in millimeter</span>
        <span class="nt">csf_erosion_mm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

      <span class="nt">erode_wm</span><span class="p">:</span>

        <span class="c1"># Erode WM binarized tissue mask.</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

        <span class="c1"># Erosion proportion, if use erosion.</span>
        <span class="c1"># Default proportion is 0.6 for White Matter mask.</span>
        <span class="c1"># Recommend to do not use erosion in both proportion and millimeter method.</span>
        <span class="c1"># White Matter erosion default is using proportion erosion method when use erosion for White Matter.</span>
        <span class="nt">wm_erosion_prop </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.6</span>

        <span class="c1"># Erode brain mask in millimeter, default of White Matter is 0 mm</span>
        <span class="nt">wm_mask_erosion_mm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

        <span class="c1"># Erode binarized White Matter mask in millimeter</span>
        <span class="nt">wm_erosion_mm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

      <span class="nt">erode_gm</span><span class="p">:</span>

        <span class="c1"># Erode GM binarized tissue mask.</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

        <span class="c1"># Erosion proportion, if use erosion.</span>
        <span class="c1"># Recommend to do not use erosion in both proportion and millimeter method.</span>
        <span class="nt">gm_erosion_prop </span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.6</span>

        <span class="c1"># Erode brain mask in millimeter, default of csf is 30 mm</span>
        <span class="nt">gm_mask_erosion_mm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>

        <span class="c1"># Erode binarized White Matter mask in millimeter</span>
        <span class="nt">gm_erosion_mm</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>


<span class="c1"># OUTPUTS AND DERIVATIVES</span>
<span class="c1"># -----------------------</span>
<span class="nt">post_processing</span><span class="p">:</span>

  <span class="nt">spatial_smoothing</span><span class="p">:</span>

    <span class="c1"># Smooth the derivative outputs.</span>
    <span class="c1"># Set as [&#39;nonsmoothed&#39;] to disable smoothing. Set as both to get both.</span>
    <span class="c1">#</span>
    <span class="c1"># Options:</span>
    <span class="c1">#     [&#39;smoothed&#39;, &#39;nonsmoothed&#39;]</span>
    <span class="nt">output</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;smoothed&#39;</span><span class="p p-Indicator">]</span>

    <span class="c1"># Tool to use for smoothing.</span>
    <span class="c1"># &#39;FSL&#39; for FSL MultiImageMaths for FWHM provided</span>
    <span class="c1"># &#39;AFNI&#39; for AFNI 3dBlurToFWHM for FWHM provided</span>
    <span class="nt">smoothing_method</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;FSL&#39;</span><span class="p p-Indicator">]</span>

    <span class="c1"># Full Width at Half Maximum of the Gaussian kernel used during spatial smoothing.</span>
    <span class="c1"># this is a fork point</span>
    <span class="c1">#   i.e. multiple kernels - fwhm: [4,6,8]</span>
    <span class="nt">fwhm</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">4</span><span class="p p-Indicator">]</span>

  <span class="nt">z-scoring</span><span class="p">:</span>

    <span class="c1"># z-score standardize the derivatives. This may be needed for group-level analysis.</span>
    <span class="c1"># Set as [&#39;raw&#39;] to disable z-scoring. Set as both to get both.</span>
    <span class="c1">#</span>
    <span class="c1"># Options:</span>
    <span class="c1">#     [&#39;z-scored&#39;, &#39;raw&#39;]</span>
    <span class="nt">output</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;z-scored&#39;</span><span class="p p-Indicator">]</span>


<span class="nt">timeseries_extraction</span><span class="p">:</span>

  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

  <span class="c1"># Enter paths to region-of-interest (ROI) NIFTI files (.nii or .nii.gz) to be used for time-series extraction, and then select which types of analyses to run.</span>
  <span class="c1"># Denote which analyses to run for each ROI path by listing the names below. For example, if you wish to run Avg and SpatialReg, you would enter: &#39;/path/to/ROI.nii.gz&#39;: Avg, SpatialReg</span>
  <span class="c1"># available analyses:</span>
  <span class="c1">#   /path/to/atlas.nii.gz: Avg, Voxel, SpatialReg, PearsonCorr, PartialCorr</span>
  <span class="nt">tse_roi_paths</span><span class="p">:</span>
    <span class="nt">/cpac_templates/CC400.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/cpac_templates/aal_mask_pad.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/cpac_templates/CC200.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/cpac_templates/tt_mask_pad.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/cpac_templates/PNAS_Smith09_rsn10.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SpatialReg</span>
    <span class="nt">/cpac_templates/ho_mask_pad.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/cpac_templates/rois_3mm.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/AAL_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/CAPRSC_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/DKT_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/DesikanKlein_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/HarvardOxfordcort-maxprob-thr25_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/HarvardOxfordsub-maxprob-thr25_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Juelich_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/MICCAI_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Schaefer1000_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Schaefer200_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Schaefer300_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Schaefer400_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Talairach_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Brodmann_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Desikan_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Glasser_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Slab907_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Yeo-17-liberal_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Yeo-17_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Yeo-7-liberal_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>
    <span class="nt">/ndmg_atlases/label/Human/Yeo-7_space-MNI152NLin6_res-1x1x1.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg</span>

  <span class="c1"># Functional time-series and ROI realignment method: [&#39;ROI_to_func&#39;] or [&#39;func_to_ROI&#39;]</span>
  <span class="c1"># &#39;ROI_to_func&#39; will realign the atlas/ROI to functional space (fast)</span>
  <span class="c1"># &#39;func_to_ROI&#39; will realign the functional time series to the atlas/ROI space</span>
  <span class="c1">#</span>
  <span class="c1">#     NOTE: in rare cases, realigning the ROI to the functional space may</span>
  <span class="c1">#           result in small misalignments for very small ROIs - please double</span>
  <span class="c1">#           check your data if you see issues</span>
  <span class="nt">realignment</span><span class="p">:</span> <span class="s">&#39;ROI_to_func&#39;</span>


<span class="nt">seed_based_correlation_analysis</span><span class="p">:</span>

  <span class="c1"># SCA - Seed-Based Correlation Analysis</span>
  <span class="c1"># For each extracted ROI Average time series, CPAC will generate a whole-brain correlation map.</span>
  <span class="c1"># It should be noted that for a given seed/ROI, SCA maps for ROI Average time series will be the same.</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

  <span class="c1"># Enter paths to region-of-interest (ROI) NIFTI files (.nii or .nii.gz) to be used for seed-based correlation analysis, and then select which types of analyses to run.</span>
  <span class="c1"># Denote which analyses to run for each ROI path by listing the names below. For example, if you wish to run Avg and MultReg, you would enter: &#39;/path/to/ROI.nii.gz&#39;: Avg, MultReg</span>
  <span class="c1"># available analyses:</span>
  <span class="c1">#   /path/to/atlas.nii.gz: Avg, DualReg, MultReg</span>
  <span class="nt">sca_roi_paths</span><span class="p">:</span>
    <span class="nt">/cpac_templates/PNAS_Smith09_rsn10.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DualReg</span>
    <span class="nt">/cpac_templates/CC400.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
    <span class="nt">/cpac_templates/ez_mask_pad.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
    <span class="nt">/cpac_templates/aal_mask_pad.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
    <span class="nt">/cpac_templates/CC200.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
    <span class="nt">/cpac_templates/tt_mask_pad.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
    <span class="nt">/cpac_templates/ho_mask_pad.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>
    <span class="nt">/cpac_templates/rois_3mm.nii.gz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Avg, MultReg</span>

  <span class="c1"># Normalize each time series before running Dual Regression SCA.</span>
  <span class="nt">norm_timeseries_for_DR</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>


<span class="nt">amplitude_low_frequency_fluctuation</span><span class="p">:</span>

  <span class="c1"># ALFF &amp; f/ALFF</span>
  <span class="c1"># Calculate Amplitude of Low Frequency Fluctuations (ALFF) and and fractional ALFF (f/ALFF) for all voxels.</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

  <span class="c1"># Frequency cutoff (in Hz) for the high-pass filter used when calculating f/ALFF.</span>
  <span class="nt">highpass_cutoff</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">0.01</span><span class="p p-Indicator">]</span>

  <span class="c1"># Frequency cutoff (in Hz) for the low-pass filter used when calculating f/ALFF</span>
  <span class="nt">lowpass_cutoff</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">0.1</span><span class="p p-Indicator">]</span>


<span class="nt">regional_homogeneity</span><span class="p">:</span>

  <span class="c1"># ReHo</span>
  <span class="c1"># Calculate Regional Homogeneity (ReHo) for all voxels.</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

  <span class="c1"># Number of neighboring voxels used when calculating ReHo</span>
  <span class="c1"># 7 (Faces)</span>
  <span class="c1"># 19 (Faces + Edges)</span>
  <span class="c1"># 27 (Faces + Edges + Corners)</span>
  <span class="nt">cluster_size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">27</span>


<span class="nt">voxel_mirrored_homotopic_connectivity</span><span class="p">:</span>

  <span class="c1"># VMHC</span>
  <span class="c1"># Calculate Voxel-mirrored Homotopic Connectivity (VMHC) for all voxels.</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

  <span class="nt">symmetric_registration</span><span class="p">:</span>

    <span class="c1"># Included as part of the &#39;Image Resource Files&#39; package available on the Install page of the User Guide.</span>
    <span class="c1"># It is not necessary to change this path unless you intend to use a non-standard symmetric template.</span>
    <span class="nt">T1w_brain_template_symmetric</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_brain_symmetric.nii.gz</span>

    <span class="c1"># A reference symmetric brain template for resampling</span>
    <span class="nt">T1w_brain_template_symmetric_for_resample</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_brain_symmetric.nii.gz</span>

    <span class="c1"># Included as part of the &#39;Image Resource Files&#39; package available on the Install page of the User Guide.</span>
    <span class="c1"># It is not necessary to change this path unless you intend to use a non-standard symmetric template.</span>
    <span class="nt">T1w_template_symmetric</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_symmetric.nii.gz</span>

    <span class="c1"># A reference symmetric skull template for resampling</span>
    <span class="nt">T1w_template_symmetric_for_resample</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_symmetric.nii.gz</span>

    <span class="c1"># Included as part of the &#39;Image Resource Files&#39; package available on the Install page of the User Guide.</span>
    <span class="c1"># It is not necessary to change this path unless you intend to use a non-standard symmetric template.</span>
    <span class="nt">dilated_symmetric_brain_mask</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${resolution_for_anat}_brain_mask_symmetric_dil.nii.gz</span>

    <span class="c1"># A reference symmetric brain mask template for resampling</span>
    <span class="nt">dilated_symmetric_brain_mask_for_resample</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_1mm_brain_mask_symmetric_dil.nii.gz</span>


<span class="nt">network_centrality</span><span class="p">:</span>

  <span class="c1"># Calculate Degree, Eigenvector Centrality, or Functional Connectivity Density.</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">On</span>

  <span class="c1"># Maximum amount of RAM (in GB) to be used when calculating Degree Centrality.</span>
  <span class="c1"># Calculating Eigenvector Centrality will require additional memory based on the size of the mask or number of ROI nodes.</span>
  <span class="nt">memory_allocation</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">1.0</span>

  <span class="c1"># Full path to a NIFTI file describing the mask. Centrality will be calculated for all voxels within the mask.</span>
  <span class="nt">template_specification_file</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">/cpac_templates/Mask_ABIDE_85Percent_GM.nii.gz</span>

  <span class="nt">degree_centrality</span><span class="p">:</span>

    <span class="c1"># Enable/Disable degree centrality by selecting the connectivity weights</span>
    <span class="c1">#   weight_options: [&#39;Binarized&#39;, &#39;Weighted&#39;]</span>
    <span class="c1"># disable this type of centrality with:</span>
    <span class="c1">#   weight_options: []</span>
    <span class="nt">weight_options</span><span class="p">:</span>  <span class="p p-Indicator">[</span><span class="s">&#39;Binarized&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;Weighted&#39;</span><span class="p p-Indicator">]</span>

    <span class="c1"># Select the type of threshold used when creating the degree centrality adjacency matrix.</span>
    <span class="c1"># options:</span>
    <span class="c1">#   &#39;Significance threshold&#39;, &#39;Sparsity threshold&#39;, &#39;Correlation threshold&#39;</span>
    <span class="nt">correlation_threshold_option</span><span class="p">:</span> <span class="s">&#39;Sparsity</span><span class="nv"> </span><span class="s">threshold&#39;</span>

    <span class="c1"># Based on the Threshold Type selected above, enter a Threshold Value.</span>
    <span class="c1"># P-value for Significance Threshold</span>
    <span class="c1"># Sparsity value for Sparsity Threshold</span>
    <span class="c1"># Pearson&#39;s r value for Correlation Threshold</span>
    <span class="nt">correlation_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.001</span>

  <span class="nt">eigenvector_centrality</span><span class="p">:</span>

    <span class="c1"># Enable/Disable eigenvector centrality by selecting the connectivity weights</span>
    <span class="c1">#   weight_options: [&#39;Binarized&#39;, &#39;Weighted&#39;]</span>
    <span class="c1"># disable this type of centrality with:</span>
    <span class="c1">#   weight_options: []</span>
    <span class="nt">weight_options</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;Weighted&#39;</span><span class="p p-Indicator">]</span>

    <span class="c1"># Select the type of threshold used when creating the eigenvector centrality adjacency matrix.</span>
    <span class="c1"># options:</span>
    <span class="c1">#   &#39;Significance threshold&#39;, &#39;Sparsity threshold&#39;, &#39;Correlation threshold&#39;</span>
    <span class="nt">correlation_threshold_option</span><span class="p">:</span> <span class="s">&#39;Sparsity</span><span class="nv"> </span><span class="s">threshold&#39;</span>

    <span class="c1"># Based on the Threshold Type selected above, enter a Threshold Value.</span>
    <span class="c1"># P-value for Significance Threshold</span>
    <span class="c1"># Sparsity value for Sparsity Threshold</span>
    <span class="c1"># Pearson&#39;s r value for Correlation Threshold</span>
    <span class="nt">correlation_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.001</span>

  <span class="nt">local_functional_connectivity_density</span><span class="p">:</span>

    <span class="c1"># Enable/Disable lFCD by selecting the connectivity weights</span>
    <span class="c1">#   weight_options: [&#39;Binarized&#39;, &#39;Weighted&#39;]</span>
    <span class="c1"># disable this type of centrality with:</span>
    <span class="c1">#   weight_options: []</span>
    <span class="nt">weight_options</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;Binarized&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;Weighted&#39;</span><span class="p p-Indicator">]</span>

    <span class="c1"># Select the type of threshold used when creating the lFCD adjacency matrix.</span>
    <span class="c1"># options:</span>
    <span class="c1">#   &#39;Significance threshold&#39;, &#39;Correlation threshold&#39;</span>
    <span class="nt">correlation_threshold_option</span><span class="p">:</span> <span class="s">&#39;Correlation</span><span class="nv"> </span><span class="s">threshold&#39;</span>

    <span class="c1"># Based on the Threshold Type selected above, enter a Threshold Value.</span>
    <span class="c1"># P-value for Significance Threshold</span>
    <span class="c1"># Sparsity value for Sparsity Threshold</span>
    <span class="c1"># Pearson&#39;s r value for Correlation Threshold</span>
    <span class="nt">correlation_threshold</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.6</span>


<span class="c1"># PACKAGE INTEGRATIONS</span>
<span class="c1"># --------------------</span>
<span class="nt">PyPEER</span><span class="p">:</span>

  <span class="c1"># Training of eye-estimation models. Commonly used for movies data/naturalistic viewing.</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Off</span>

  <span class="c1"># PEER scan names to use for training</span>
  <span class="c1"># Example: [&#39;peer_run-1&#39;, &#39;peer_run-2&#39;]</span>
  <span class="nt">eye_scan_names</span><span class="p">:</span> <span class="p p-Indicator">[]</span>

  <span class="c1"># Naturalistic viewing data scan names to use for eye estimation</span>
  <span class="c1"># Example: [&#39;movieDM&#39;]</span>
  <span class="nt">data_scan_names</span><span class="p">:</span> <span class="p p-Indicator">[]</span>

  <span class="c1"># Template-space eye mask</span>
  <span class="nt">eye_mask_path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$FSLDIR/data/standard/MNI152_T1_${func_resolution}_eye_mask.nii.gz</span>

  <span class="c1"># PyPEER Stimulus File Path</span>
  <span class="c1"># This is a file describing the stimulus locations from the calibration sequence.</span>
  <span class="nt">stimulus_path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>

  <span class="nt">minimal_nuisance_correction</span><span class="p">:</span>

    <span class="c1"># PyPEER Minimal nuisance regression</span>
    <span class="c1"># Note: PyPEER employs minimal preprocessing - these choices do not reflect what runs in the main pipeline.</span>
    <span class="c1">#       PyPEER uses non-nuisance-regressed data from the main pipeline.</span>

    <span class="c1"># Global signal regression (PyPEER only)</span>
    <span class="nt">peer_gsr</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>

    <span class="c1"># Motion scrubbing (PyPEER only)</span>
    <span class="nt">peer_scrub</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>

    <span class="c1"># Motion scrubbing threshold (PyPEER only)</span>
    <span class="nt">scrub_thresh</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.2</span>
</pre></div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index">
              <img class="logo" src="../../_static/cpac_logo_vertical.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index">Table of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../index">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index">Welcome to CPACs developer documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index#indices-and-tables">Indices and tables</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index">C-PAC 1.8.1 Beta documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Default pipeline configuration YAML file</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, C-PAC Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.2.
    </div>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-19224662-10"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-19224662-10');
    </script>
    <script defer src="https://fcp-indi.github.io/scripts/versionList.js"></script>

  </body>
</html>