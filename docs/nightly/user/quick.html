<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex" /><link rel="search" title="Search" href="../search" /><link rel="next" title="Setting Up A Data Configuration File (Participant/Subject List)" href="subject_list_config" /><link rel="prev" title="Latest Release: Version 1.8.7 Beta (May 03, 2024)" href="release_notes/v1.8.7" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><!-- Generated with Sphinx 7.1.2 and Furo 2024.05.06 -->
        <title>C-PAC Quickstart - C-PAC 1.8.8.dev1 Beta documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a96c6ba1" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=fe2d11c3" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index"><div class="brand">C-PAC 1.8.8.dev1 Beta documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/cpac_logo_vertical.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">C-PAC 1.8.8.dev1 Beta documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index">User Guide</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of User Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="release_notes/v1.8.7">Latest Release: Version 1.8.7 Beta (May 03, 2024)</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">1. C-PAC Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="subject_list_config">2. Specify Your Data</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="pipelines/pipeline_config">3. Select Your Pipeline</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 3. Select Your Pipeline</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="pipelines/preconfig">Pre-configured Pipelines</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="pipelines/configurable-settings">Configurable Settings</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Configurable Settings</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="alff">ALFF and f/ALFF</a></li>
<li class="toctree-l4"><a class="reference internal" href="reho">ReHo</a></li>
<li class="toctree-l4"><a class="reference internal" href="centrality">Network Centrality</a></li>
<li class="toctree-l4"><a class="reference internal" href="sca">SCA/Dual Regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="vmhc">VMHC</a></li>
<li class="toctree-l4"><a class="reference internal" href="pypeer">PyPEER Integration</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="pipelines/data-environment">Data Management and Environment Settings</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Data Management and Environment Settings</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="compute_config">Computer Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="output_config">Output Settings</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="pipelines/pre-and-post">Pre- and post-processing</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Pre- and post-processing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="anat">Anatomical Preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="func">Functional Preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="nuisance">Nuisance Corrections</a></li>
<li class="toctree-l4"><a class="reference internal" href="tse">Timeseries Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="tse#configuring-roi-time-series-extraction">Configuring ROI Time Series Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="after_warp">After Warp Settings</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="pipelines/derivatives">Derivatives</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Derivatives</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="sca">Seed-based Correlation Analysis (SCA) and Dual Regression - Analyze the connectivity between brain regions.</a></li>
<li class="toctree-l4"><a class="reference internal" href="vmhc">Voxel-mirrored Homotopic Connectivity (VMHC) - Investigate connectivity between hemispheres.</a></li>
<li class="toctree-l4"><a class="reference internal" href="alff">Amplitude of Low Frequency Fluctuations (ALFF) and fractional ALFF (fALFF) - Measure the power of slow fluctuations in brain activity.</a></li>
<li class="toctree-l4"><a class="reference internal" href="reho">Regional Homogeneity (ReHo) - Measure the similarity of activity patterns across neighboring voxels.</a></li>
<li class="toctree-l4"><a class="reference internal" href="centrality">Network Centrality - Analyze the structure of functional networks.</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="pipelines/quality">Quality Control</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Quality Control</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="qc_interface">QC Pages - Visual Data Quality Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="xcpqc">XCP QC files - eXtensible Connectivity Pipeline-style quality control files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="preprocessing">4. Pre-Process Your Data</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 4. Pre-Process Your Data</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="anat">Anatomical Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="func">Functional Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="longitudinal">Longitudinal Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="nuisance">Nuisance Corrections</a></li>
<li class="toctree-l3"><a class="reference internal" href="aroma_ica">ICA Denoising</a></li>
<li class="toctree-l3"><a class="reference internal" href="tse">Timeseries Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="tse#configuring-roi-time-series-extraction">Configuring ROI Time Series Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="after_warp">After Warp Settings</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="derivatives">5. Compute Derivatives</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 5. Compute Derivatives</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="alff">ALFF and f/ALFF</a></li>
<li class="toctree-l3"><a class="reference internal" href="reho">ReHo</a></li>
<li class="toctree-l3"><a class="reference internal" href="centrality">Network Centrality</a></li>
<li class="toctree-l3"><a class="reference internal" href="sca">SCA/Dual Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="vmhc">VMHC</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypeer">PyPEER Integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="running">6. All Run Options</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="group_analysis">7. Run Group Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 7. Run Group Analysis</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="group_fsl_feat">FSL FEAT &amp; Randomise</a></li>
<li class="toctree-l3"><a class="reference internal" href="group_pybasc">Bootstrapped Analysis of Stable Clusters (PyBASC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="group_mdmr">Multivariate Distance Matrix Regression (MDMR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="group_isc">Inter-subject Correlation (ISC) &amp; Inter-subject Functional Correlation (ISFC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="group_qpp">Quasi-Periodic Patterns (QPP)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="output_dir">8. Check Your Outputs</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="tutorials/index">9. Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of 9. Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/observed_usage/index">1. Tutorial: optimizing memory estimation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="help">10. Troubleshoot</a></li>
<li class="toctree-l2"><a class="reference internal" href="rnotes">11. Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix">Appendix</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix#benchmark-package">Benchmark Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="versions">C-PAC versions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developer/index">Developer Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Developer Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../developer/installation">Installing CPAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/pipeline">Pipeline Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/templates">Templates and Atlases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/nodes">Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/random_state">Random State</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/workflow_documentation">Workflow Documentation</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../developer/workflows/index">Workflows</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Workflows</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/cpac_pipeline">C-PAC Pipeline Construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/anat_preproc">Anatomical Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/func_preproc">Functional Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/seg_preproc">Segmentation Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/sca">Seed Based Correlation Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/basc">Bootstrap Analysis of Stable Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/nuisance">Nuisance Signal Removal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/alff">Amplitude of Low Frequency Fluctuations(ALFF) and fractional ALFF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/vmhc">Voxel Mirrored Homotopic Connectivity Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/reho">Regional Homogeneity Approach to fMRI data analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/generate_motion_statistics">Generate Motion and Power Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/scrubbing">Scrubbing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/group_analysis">Group Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/easy_thresh">Easy thresh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/mdmr">Multivariate Distance Matrix Regression (MDMR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/median_angle">Median Angle Correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/registration">Registration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/timeseries">Timeseries Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../developer/workflows/network_centrality">Network Centrality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../developer/workflows/index#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/xcpqc">eXtensible Connectivity Pipeline-style quality control files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/utils">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/testing">Testing CPAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/continuous_integration">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer/deprecating">Deprecating a version of C-PAC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../license">License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/user/quick.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="c-pac-quickstart">
<h1>C-PAC Quickstart<a class="headerlink" href="#c-pac-quickstart" title="Permalink to this heading">¶</a></h1>
<section id="let-s-go">
<h2>Let’s Go!<a class="headerlink" href="#let-s-go" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>The recommended way to run C-PAC is through the use of a container such as Docker or Singularity. Using these containers can be facilitated by <a class="reference internal" href="cpac"><span class="doc">cpac (Python package)</span></a>. C-PAC is also available as a <a class="reference external" href="https://brainlife.io/app/5f3593e84615e04651bf9364"><img alt="brainlife.io/app" src="https://img.shields.io/badge/brainlife.io-app-green.svg" /></a>.</p></li>
<li><p>Containers are completely pre-built environments that help ensure reproducibility (same exact library versions, behavior, etc.).</p></li>
<li><p>Docker is the more common option, but may require administrative rights on your system. This is a good option for personal machines.</p></li>
<li><p>Singularity is the preferred option for shared resources like servers and clusters with many users. Either you or a system administrator can pull a C-PAC Singularity container for global use across your lab or organization.</p></li>
<li><p>C-PAC comes pre-packaged with a default pipeline, as well as a growing library of pre-configured pipelines. You can use these to get started right away.</p></li>
<li><p>However, you can edit any of these pipelines, or build your own from scratch, using our pipeline builder.</p></li>
<li><p>C-PAC can also pull input data from the cloud (AWS S3 buckets), so you can pull public data from any of the open-data releases immediately.</p></li>
<li><p>More information regarding all of these points are available below, and throughout the rest of the User Guide.</p></li>
</ol>
</section>
<section id="cpac-python-package">
<span id="id1"></span><h2>cpac (Python package)<a class="headerlink" href="#cpac-python-package" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://pypi.org/project/cpac/">cpac</a> is available so that you can easily run analyses without needing interact with the container platform that allows you to run C-PAC without installing all of the underlying software.</p>
<p><code class="docutils literal notranslate"><span class="pre">cpac</span></code> requires Python 3.8 or greater. To get cpac, simply</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install cpac</span>
</pre></div>
</div>
<section id="run-extra-packages-with-cpac">
<h3>Run extra packages with cpac<a class="headerlink" href="#run-extra-packages-with-cpac" title="Permalink to this heading">¶</a></h3>
<p>Beginning with v1.8.5, <code class="docutils literal notranslate"><span class="pre">cpac</span></code> can run <a class="reference external" href="https://cmi-dair.github.io/ba-timeseries-gradients/ba_timeseries_gradients.html"><code class="docutils literal notranslate"><span class="pre">ba_timeseries_gradients</span></code></a> and/or <a class="reference external" href="https://cmi-dair.github.io/tsconcat/tsconcat.html"><code class="docutils literal notranslate"><span class="pre">tsconcat</span></code></a> in addition to C-PAC. If either package is already installed, <code class="docutils literal notranslate"><span class="pre">cpac</span></code> will use the installed version. You can install them with the relevant extras, like one of the following lines:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install cpac[ba_timeseries_gradients]</span>
<span class="go">pip install cpac[tsconcat]</span>
<span class="go">pip install cpac[ba_timeseries_gradients,tsconcat]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">ba_timeseries_gradients</span></code> and <code class="docutils literal notranslate"><span class="pre">tsconcat</span></code> may have more specific dependency requirements than C-PAC. If you run into unclear installation issues when installing these extras, please see the documentation for those packages.</p>
</div>
</section>
<section id="download-upgrade-c-pac-with-cpac">
<h3>Download / Upgrade C-PAC with cpac<a class="headerlink" href="#download-upgrade-c-pac-with-cpac" title="Permalink to this heading">¶</a></h3>
<p>To download or upgrade a particular C-PAC image,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cpac pull</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cpac upgrade</span>
</pre></div>
</div>
<p>When downloading/upgrading, the <code class="docutils literal notranslate"><span class="pre">--platform</span></code>, <code class="docutils literal notranslate"><span class="pre">--image</span></code>, and <code class="docutils literal notranslate"><span class="pre">--tag</span></code> let you specify platform (Docker or Singularity), image (Docker image name or URL to image in repository), and tag (<a class="reference internal" href="versions"><span class="doc">version tag</span></a>), respectively.</p>
<p>For example, a development Docker image can be downloaded with</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cpac --platform docker --tag nightly pull</span>
</pre></div>
</div>
<p>Or a Singularity image built from that Docker image can be downloaded with</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cpac --platform singularity --tag nightly pull</span>
</pre></div>
</div>
</section>
<section id="run-c-pac-with-cpac">
<h3>Run C-PAC with cpac<a class="headerlink" href="#run-c-pac-with-cpac" title="Permalink to this heading">¶</a></h3>
<p>To run C-PAC in participant mode for one participant, using a BIDS dataset stored on your machine or server and using the container image’s default pipeline configuration:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cpac run /Users/You/local_bids_data /Users/You/some_folder_for_outputs participant</span>
</pre></div>
</div>
<p>By default, cpac (the wrapper) will try Docker first and fall back to Singularity if Docker fails. If both fail, an exception is raised.</p>
<p>You can specify a platform with the <code class="docutils literal notranslate"><span class="pre">--platform</span> <span class="pre">docker</span></code> or <code class="docutils literal notranslate"><span class="pre">--platform</span> <span class="pre">singularity</span></code>. If you specify a platform without specifying an image, these are the defaults, using the first successfully found image:</p>
</section>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cpac<span class="w"> </span>--help

<span class="go">usage: cpac [-h] [--version] [-o OPT] [-B CUSTOM_BINDING]</span>
<span class="go">            [--platform {docker,singularity,apptainer}] [--image IMAGE]</span>
<span class="go">            [--tag TAG] [--working_dir PATH] [-v] [-vv]</span>
<span class="go">            {run,utils,version,group,gradients,tsconcat,pull,upgrade,enter,bash,shell,parse-resources,parse_resources,crash}</span>
<span class="go">            ...</span>

<span class="go">cpac: a Python package that simplifies using C-PAC &lt;http://fcp-indi.github.io&gt; containerized images.</span>

<span class="go">This commandline interface package is designed to minimize repetition.</span>
<span class="go">As such, nearly all arguments are optional.</span>

<span class="go">When launching a container, this package will try to bind any paths mentioned in</span>
<span class="go"> • the command</span>
<span class="go"> • the data configuration</span>

<span class="go">An example minimal run command:</span>
<span class="go">     cpac run /path/to/data /path/for/outputs</span>

<span class="go">An example run command with optional arguments:</span>
<span class="go">     cpac -B /path/to/data/configs:/configs \</span>
<span class="go">             --image fcpindi/c-pac --tag latest \</span>
<span class="go">             run /path/to/data /path/for/outputs \</span>
<span class="go">             --data_config_file /configs/data_config.yml \</span>
<span class="go">             --save_working_dir</span>

<span class="go">Each command can take &quot;--help&quot; to provide additonal usage information, e.g.,</span>

<span class="go">     cpac run --help</span>

<span class="go">Known issues:</span>
<span class="go">- Some Docker containers unexpectedly persist after cpac finishes. To clear them, run</span>
<span class="go">    1. `docker ps` to list the containers</span>
<span class="go">  For each C-PAC conatainer that persists, run</span>
<span class="go">    2. `docker attach &lt;container_name&gt;`</span>
<span class="go">    3. `exit`</span>
<span class="go">- https://github.com/FCP-INDI/cpac/issues</span>

<span class="go">positional arguments:</span>
<span class="go">  {run,utils,version,group,gradients,tsconcat,pull,upgrade,enter,bash,shell,parse-resources,parse_resources,crash}</span>
<span class="go">    run                 Run C-PAC. See</span>
<span class="go">                        &quot;cpac [--platform {docker,apptainer,singularity}] [--image IMAGE] [--tag TAG] run --help&quot;</span>
<span class="go">                        for more information.</span>
<span class="go">    utils               Run C-PAC commandline utilities. See</span>
<span class="go">                        &quot;cpac [--platform {docker,apptainer,singularity}] [--image IMAGE] [--tag TAG] utils --help&quot;</span>
<span class="go">                        for more information.</span>
<span class="go">    version             Print the version of C-PAC that cpac is using.</span>
<span class="go">    group               Run a group level analysis in C-PAC. See</span>
<span class="go">                        &quot;cpac [--platform {docker,apptainer,singularity}] [--image IMAGE] [--tag TAG] group --help&quot;</span>
<span class="go">                        for more information.</span>
<span class="go">    gradients           Run ba_timeseries_gradients. See</span>
<span class="go">                        &quot;cpac [--platform &quot;{docker,singularity}] gradients --help&quot;</span>
<span class="go">                        for more information.</span>
<span class="go">    tsconcat            Run ba-tsconcat (&lt;0.2.0,&gt;=0.1.2)</span>
<span class="go">    pull (upgrade)      Upgrade your local C-PAC version to the latest version</span>
<span class="go">                        by pulling from Docker Hub or other repository.</span>
<span class="go">                        Use with &quot;--image&quot; and/or &quot;--tag&quot; to specify an image</span>
<span class="go">                        other than the default &quot;fcpindi/c-pac:latest&quot; to pull.</span>
<span class="go">    enter (bash, shell)</span>
<span class="go">                        Enter a new C-PAC container via BASH.</span>
<span class="go">    parse-resources (parse_resources)</span>
<span class="go">                        .</span>

<span class="go">                        When provided with a `callback.log` file, this utility can sort through</span>
<span class="go">                        the memory `runtime` usage, `estimate`, and associated `efficiency`, to</span>
<span class="go">                        identify the `n` tasks with the `highest` or `lowest` of each of these</span>
<span class="go">                        categories.</span>
<span class="go">                        &quot;parse-resources&quot; is intended to be run outside a C-PAC container.</span>
<span class="go">                        See &quot;cpac parse-resources --help&quot; for more information.</span>
<span class="go">    crash               Convert a crash pickle to plain text (C-PAC &lt; 1.8.0).</span>

<span class="go">options:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --version             show program&#39;s version number and exit</span>
<span class="go">  -o OPT, --container_option OPT, --container_options OPT</span>
<span class="go">                        parameters and flags to pass through to Docker or Singularity</span>

<span class="go">                        This flag can take multiple arguments so cannot be</span>
<span class="go">                        the final argument before the command argument (i.e.,</span>
<span class="go">                        run or any other command that does not start with - or --)</span>
<span class="go">  -B CUSTOM_BINDING, --custom_binding CUSTOM_BINDING</span>
<span class="go">                        directories to bind with a different path in</span>
<span class="go">                        the container than the real path of the directory.</span>
<span class="go">                        One or more pairs in the format:</span>
<span class="go">                             real_path:container_path</span>
<span class="go">                        (eg, /home/C-PAC/run5/outputs:/outputs).</span>
<span class="go">                        Use absolute paths for both paths.</span>

<span class="go">                        This flag can take multiple arguments so cannot be</span>
<span class="go">                        the final argument before the command argument (i.e.,</span>
<span class="go">                        run or any other command that does not start with - or --)</span>
<span class="go">  --platform {docker,singularity,apptainer}</span>
<span class="go">                        If neither platform nor image is specified,</span>
<span class="go">                        cpac will try Docker first, then try</span>
<span class="go">                        Apptainer/Singularity if Docker fails.</span>
<span class="go">  --image IMAGE         path to Apptainer/Singularity image file OR name of Docker image (eg, &quot;fcpindi/c-pac&quot;).</span>
<span class="go">                        Will attempt to pull from Singularity Hub or Docker Hub if not provided.</span>
<span class="go">                        If image is specified but platform is not, platform is</span>
<span class="go">                        assumed to be Apptainer/Singularity if image is a path or</span>
<span class="go">                        Docker if image is an image name.</span>
<span class="go">  --tag TAG             tag of the Docker image to use (eg, &quot;latest&quot; or &quot;nightly&quot;).</span>
<span class="go">  --working_dir PATH    working directory</span>
<span class="go">  -v, --verbose         set loglevel to INFO</span>
<span class="go">  -vv, --very-verbose   set loglevel to DEBUG</span>
</pre></div>
</div>
<section id="platform-docker">
<h4><code class="docutils literal notranslate"><span class="pre">--platform</span> <span class="pre">docker</span></code><a class="headerlink" href="#platform-docker" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p>Look for <code class="docutils literal notranslate"><span class="pre">fcpindi/c-pac:latest</span></code> locally.</p></li>
<li><p>Pull <code class="docutils literal notranslate"><span class="pre">fcpindi/c-pac:latest</span></code> from Docker Hub.</p></li>
</ul>
</section>
<section id="platform-singularity">
<h4><code class="docutils literal notranslate"><span class="pre">--platform</span> <span class="pre">singularity</span></code><a class="headerlink" href="#platform-singularity" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p>Look in the present working directory for any Singularity images. If more than one is found, use the most recently modified.</p></li>
<li><p>Pull <code class="docutils literal notranslate"><span class="pre">FCP-INDI/C-PAC</span></code> from Singularity Hub.</p></li>
<li><p>Pull <code class="docutils literal notranslate"><span class="pre">fcpindi/c-pac:latest</span></code> from Docker Hub and convert to a Singularity image.</p></li>
</ul>
<p>You can also specify a container image with an <code class="docutils literal notranslate"><span class="pre">--image</span></code> argument, passing an image name (e.g., <code class="docutils literal notranslate"><span class="pre">fcpindi/c-pac</span></code>) for a Docker image or a filepath (e.g. <code class="docutils literal notranslate"><span class="pre">~/singularity_images/C-PAC.sif</span></code>) for a Singularity image. You can also specify a <code class="docutils literal notranslate"><span class="pre">--tag</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">latest</span></code> or <code class="docutils literal notranslate"><span class="pre">nightly</span></code>).</p>
<blockquote>
<div><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="versions"><span class="doc">C-PAC versions</span></a></p>
</div>
</div></blockquote>
<p>You can also provide a link to an AWS S3 bucket containing a BIDS directory as the data source:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cpac run s3://fcp-indi/data/Projects/ADHD200/RawDataBIDS /Users/You/some_folder_for_outputs participant</span>
</pre></div>
</div>
<p>In addition to the default pipeline, C-PAC comes packaged with a growing library of pre-configured pipelines that are ready to use. To run C-PAC with one of the pre-packaged pre-configured pipelines, simply invoke the <code class="docutils literal notranslate"><span class="pre">--preconfig</span></code> flag, shown below. See the full selection of pre-configured pipelines <a class="reference internal" href="pipelines/preconfig"><span class="doc">here</span></a>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cpac run /Users/You/local_bids_data /Users/You/some_folder_for_outputs --preconfig anat-only</span>
</pre></div>
</div>
<p>To run C-PAC with a pipeline configuration file other than one of the pre-configured pipelines, assuming the configuration file is in the <code class="docutils literal notranslate"><span class="pre">/Users/You/Documents</span></code> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cpac run /Users/You/local_bids_data /Users/You/some_folder_for_outputs participant --pipeline-file /Users/You/Documents/pipeline_config.yml</span>
</pre></div>
</div>
<p>Finally, to run C-PAC with a specific data configuration file (instead of providing a BIDS data directory):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cpac run /Users/You/any_directory /Users/You/some_folder_for_outputs participant --data-config-file /Users/You/Documents/data_config.yml</span>
</pre></div>
</div>
<p>Note: we are still providing the postionally-required <code class="docutils literal notranslate"><span class="pre">bids_dir</span></code> input parameter. However C-PAC will not look for data in this directory when you provide a data configuration YAML with the <code class="docutils literal notranslate"><span class="pre">--data-config-file</span></code> flag. Providing <code class="docutils literal notranslate"><span class="pre">.</span></code> or <code class="docutils literal notranslate"><span class="pre">$PWD</span></code> will simply pass the present working directory. In addition, if the dataset in your data configuration file is not in BIDS format, just make sure to add the <code class="docutils literal notranslate"><span class="pre">--skip-bids-validator</span></code> flag at the end of your command to bypass the BIDS validation process.</p>
<p>The full list of parameters and options that can be passed to C-PAC are shown below:</p>
</section>
</section>
<section id="usage-cpac-run">
<h3>Usage: cpac run<a class="headerlink" href="#usage-cpac-run" title="Permalink to this heading">¶</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cpac<span class="w"> </span>run<span class="w"> </span>--help

<span class="go">Loading 🐳 Docker</span>
<span class="go">Loading 🐳 fcpindi/c-pac:latest as &quot;root (0)&quot; with these directory bindings:</span>
<span class="go">  local                         Docker                        mode</span>
<span class="go">  ----------------------------  ----------------------------  ------</span>
<span class="go">  /etc/passwd                   /etc/passwd                   ro</span>
<span class="go">  /root/.cpac                   /root/.cpac                   rw</span>
<span class="go">  /home/circleci/build          /home/circleci/build          rw</span>
<span class="go">  /home/circleci/build/log      /home/circleci/build/log      rw</span>
<span class="go">  /home/circleci/build/working  /home/circleci/build/working  rw</span>
<span class="go">  /home/circleci/build/outputs  /home/circleci/build/outputs  rw</span>
<span class="go">Logging messages will refer to the Docker paths.</span>

<span class="go">usage: run.py [-h] [--pipeline-file PIPELINE_FILE] [--group-file GROUP_FILE]</span>
<span class="go">              [--data-config-file DATA_CONFIG_FILE] [--preconfig PRECONFIG]</span>
<span class="go">              [--aws-input-creds AWS_INPUT_CREDS]</span>
<span class="go">              [--aws-output-creds AWS_OUTPUT_CREDS] [--n-cpus N_CPUS]</span>
<span class="go">              [--mem-mb MEM_MB] [--mem-gb MEM_GB]</span>
<span class="go">              [--runtime-usage RUNTIME_USAGE]</span>
<span class="go">              [--runtime-buffer RUNTIME_BUFFER]</span>
<span class="go">              [--num-ants-threads NUM_ANTS_THREADS]</span>
<span class="go">              [--random-seed RANDOM_SEED]</span>
<span class="go">              [--save-working-dir [SAVE_WORKING_DIR]] [--fail-fast FAIL_FAST]</span>
<span class="go">              [--participant-label PARTICIPANT_LABEL [PARTICIPANT_LABEL ...]]</span>
<span class="go">              [--participant-ndx PARTICIPANT_NDX] [--T1w-label T1W_LABEL]</span>
<span class="go">              [--bold-label BOLD_LABEL [BOLD_LABEL ...]] [-v]</span>
<span class="go">              [--bids-validator-config BIDS_VALIDATOR_CONFIG]</span>
<span class="go">              [--skip-bids-validator] [--anat-only]</span>
<span class="go">              [--user_defined USER_DEFINED] [--tracking-opt-out]</span>
<span class="go">              [--monitoring]</span>
<span class="go">              bids_dir output_dir {participant,group,test_config,cli}</span>

<span class="go">C-PAC Pipeline Runner. Copyright (C) 2022-2024 C-PAC Developers. This program</span>
<span class="go">comes with ABSOLUTELY NO WARRANTY. This is free software, and you are welcome</span>
<span class="go">to redistribute it under certain conditions. For details, see https://fcp-</span>
<span class="go">indi.github.io/docs/nightly/license or the COPYING and COPYING.LESSER files</span>
<span class="go">included in the source code.</span>

<span class="go">positional arguments:</span>
<span class="go">  bids_dir              The directory with the input dataset formatted</span>
<span class="go">                        according to the BIDS standard. Use the format</span>
<span class="go">                        s3://bucket/path/to/bidsdir to read data directly from</span>
<span class="go">                        an S3 bucket. This may require AWS S3 credentials</span>
<span class="go">                        specified via the --aws_input_creds option.</span>
<span class="go">  output_dir            The directory where the output files should be stored.</span>
<span class="go">                        If you are running group level analysis this folder</span>
<span class="go">                        should be prepopulated with the results of the</span>
<span class="go">                        participant level analysis. Use the format</span>
<span class="go">                        s3://bucket/path/to/bidsdir to write data directly to</span>
<span class="go">                        an S3 bucket. This may require AWS S3 credentials</span>
<span class="go">                        specified via the --aws_output_creds option.</span>
<span class="go">  {participant,group,test_config,cli}</span>
<span class="go">                        Level of the analysis that will be performed. Multiple</span>
<span class="go">                        participant level analyses can be run independently</span>
<span class="go">                        (in parallel) using the same output_dir. test_config</span>
<span class="go">                        will run through the entire configuration process but</span>
<span class="go">                        will not execute the pipeline.</span>

<span class="go">options:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --pipeline-file PIPELINE_FILE, --pipeline_file PIPELINE_FILE</span>
<span class="go">                        Path for the pipeline configuration file to use. Use</span>
<span class="go">                        the format s3://bucket/path/to/pipeline_file to read</span>
<span class="go">                        data directly from an S3 bucket. This may require AWS</span>
<span class="go">                        S3 credentials specified via the --aws_input_creds</span>
<span class="go">                        option.</span>
<span class="go">  --group-file GROUP_FILE, --group_file GROUP_FILE</span>
<span class="go">                        Path for the group analysis configuration file to use.</span>
<span class="go">                        Use the format s3://bucket/path/to/pipeline_file to</span>
<span class="go">                        read data directly from an S3 bucket. This may require</span>
<span class="go">                        AWS S3 credentials specified via the --aws_input_creds</span>
<span class="go">                        option. The output directory needs to refer to the</span>
<span class="go">                        output of a preprocessing individual pipeline.</span>
<span class="go">  --data-config-file DATA_CONFIG_FILE, --data_config_file DATA_CONFIG_FILE</span>
<span class="go">                        Yaml file containing the location of the data that is</span>
<span class="go">                        to be processed. This file is not necessary if the</span>
<span class="go">                        data in bids_dir is organized according to the BIDS</span>
<span class="go">                        format. This enables support for legacy data</span>
<span class="go">                        organization and cloud based storage. A bids_dir must</span>
<span class="go">                        still be specified when using this option, but its</span>
<span class="go">                        value will be ignored. Use the format</span>
<span class="go">                        s3://bucket/path/to/data_config_file to read data</span>
<span class="go">                        directly from an S3 bucket. This may require AWS S3</span>
<span class="go">                        credentials specified via the --aws_input_creds</span>
<span class="go">                        option.</span>
<span class="go">  --preconfig PRECONFIG</span>
<span class="go">                        Name of the preconfigured pipeline to run. Available</span>
<span class="go">                        preconfigured pipelines: [&#39;abcd-options&#39;, &#39;abcd-prep&#39;,</span>
<span class="go">                        &#39;anat-only&#39;, &#39;benchmark-FNIRT&#39;, &#39;blank&#39;, &#39;ccs-</span>
<span class="go">                        options&#39;, &#39;default&#39;, &#39;default-deprecated&#39;, &#39;fmriprep-</span>
<span class="go">                        ingress&#39;, &#39;fmriprep-options&#39;, &#39;fx-options&#39;, &#39;monkey&#39;,</span>
<span class="go">                        &#39;ndmg&#39;, &#39;nhp-macaque&#39;, &#39;preproc&#39;, &#39;rbc-options&#39;,</span>
<span class="go">                        &#39;rodent&#39;]. See https://fcp-</span>
<span class="go">                        indi.github.io/docs/nightly/user/pipelines/preconfig</span>
<span class="go">                        for more information about the preconfigured</span>
<span class="go">                        pipelines.</span>
<span class="go">  --aws-input-creds AWS_INPUT_CREDS, --aws_input_creds AWS_INPUT_CREDS</span>
<span class="go">                        Credentials for reading from S3. If not provided and</span>
<span class="go">                        s3 paths are specified in the data config we will try</span>
<span class="go">                        to access the bucket anonymously use the string &quot;env&quot;</span>
<span class="go">                        to indicate that input credentials should read from</span>
<span class="go">                        the environment. (E.g. when using AWS iam roles).</span>
<span class="go">  --aws-output-creds AWS_OUTPUT_CREDS, --aws_output_creds AWS_OUTPUT_CREDS</span>
<span class="go">                        Credentials for writing to S3. If not provided and s3</span>
<span class="go">                        paths are specified in the output directory we will</span>
<span class="go">                        try to access the bucket anonymously use the string</span>
<span class="go">                        &quot;env&quot; to indicate that output credentials should read</span>
<span class="go">                        from the environment. (E.g. when using AWS iam roles).</span>
<span class="go">  --n-cpus N_CPUS, --n_cpus N_CPUS</span>
<span class="go">                        Number of execution resources per participant</span>
<span class="go">                        available for the pipeline. This flag takes precidence</span>
<span class="go">                        over max_cores_per_participant in the pipeline</span>
<span class="go">                        configuration file.</span>
<span class="go">  --mem-mb MEM_MB, --mem_mb MEM_MB</span>
<span class="go">                        Amount of RAM available per participant in megabytes.</span>
<span class="go">                        Included for compatibility with BIDS-Apps standard,</span>
<span class="go">                        but mem_gb is preferred. This flag takes precedence</span>
<span class="go">                        over maximum_memory_per_participant in the pipeline</span>
<span class="go">                        configuration file.</span>
<span class="go">  --mem-gb MEM_GB, --mem_gb MEM_GB</span>
<span class="go">                        Amount of RAM available per participant in gigabytes.</span>
<span class="go">                        If this is specified along with mem_mb, this flag will</span>
<span class="go">                        take precedence. This flag also takes precedence over</span>
<span class="go">                        maximum_memory_per_participant in the pipeline</span>
<span class="go">                        configuration file.</span>
<span class="go">  --runtime-usage RUNTIME_USAGE, --runtime_usage RUNTIME_USAGE</span>
<span class="go">                        Path to a callback.log from a prior run of the same</span>
<span class="go">                        pipeline configuration (including any resource-</span>
<span class="go">                        management parameters that will be applied in this</span>
<span class="go">                        run, like &#39;n_cpus&#39; and &#39;num_ants_threads&#39;). This log</span>
<span class="go">                        will be used to override per-node memory estimates</span>
<span class="go">                        with observed values plus a buffer.</span>
<span class="go">  --runtime-buffer RUNTIME_BUFFER, --runtime_buffer RUNTIME_BUFFER</span>
<span class="go">                        Buffer to add to per-node memory estimates if</span>
<span class="go">                        --runtime_usage is specified. This number is a</span>
<span class="go">                        percentage of the observed memory usage.</span>
<span class="go">  --num-ants-threads NUM_ANTS_THREADS, --num_ants_threads NUM_ANTS_THREADS</span>
<span class="go">                        The number of cores to allocate to ANTS-based</span>
<span class="go">                        anatomical registration per participant. Multiple</span>
<span class="go">                        cores can greatly speed up this preprocessing step.</span>
<span class="go">                        This number cannot be greater than the number of cores</span>
<span class="go">                        per participant.</span>
<span class="go">  --random-seed RANDOM_SEED, --random_seed RANDOM_SEED</span>
<span class="go">                        Random seed used to fix the state of execution. If</span>
<span class="go">                        unset, each process uses its own default. If set, a</span>
<span class="go">                        `random.log` file will be generated logging the random</span>
<span class="go">                        state used by each process. If set to a positive</span>
<span class="go">                        integer (up to 2147483647), that integer will be used</span>
<span class="go">                        to seed each process. If set to &#39;random&#39;, a random</span>
<span class="go">                        seed will be generated and recorded for each process.</span>
<span class="go">  --save-working-dir [SAVE_WORKING_DIR], --save_working_dir [SAVE_WORKING_DIR]</span>
<span class="go">                        Save the contents of the working directory.</span>
<span class="go">  --fail-fast FAIL_FAST, --fail_fast FAIL_FAST</span>
<span class="go">                        Stop worklow execution on first crash?</span>
<span class="go">  --participant-label PARTICIPANT_LABEL [PARTICIPANT_LABEL ...], --participant_label PARTICIPANT_LABEL [PARTICIPANT_LABEL ...]</span>
<span class="go">                        The label of the participant that should be analyzed.</span>
<span class="go">                        The label corresponds to sub-&lt;participant_label&gt; from</span>
<span class="go">                        the BIDS spec (so it does not include &quot;sub-&quot;). If this</span>
<span class="go">                        parameter is not provided all participants should be</span>
<span class="go">                        analyzed. Multiple participants can be specified with</span>
<span class="go">                        a space separated list.</span>
<span class="go">  --participant-ndx PARTICIPANT_NDX, --participant_ndx PARTICIPANT_NDX</span>
<span class="go">                        The index of the participant that should be analyzed.</span>
<span class="go">                        This corresponds to the index of the participant in</span>
<span class="go">                        the data config file. This was added to make it easier</span>
<span class="go">                        to accommodate SGE array jobs. Only a single</span>
<span class="go">                        participant will be analyzed. Can be used with</span>
<span class="go">                        participant label, in which case it is the index into</span>
<span class="go">                        the list that follows the participant_label flag. Use</span>
<span class="go">                        the value &quot;-1&quot; to indicate that the participant index</span>
<span class="go">                        should be read from the AWS_BATCH_JOB_ARRAY_INDEX</span>
<span class="go">                        environment variable.</span>
<span class="go">  --T1w-label T1W_LABEL, --T1w_label T1W_LABEL</span>
<span class="go">                        C-PAC only runs one T1w per participant-session at a</span>
<span class="go">                        time, at this time. Use this flag to specify any BIDS</span>
<span class="go">                        entity (e.g., &quot;acq-VNavNorm&quot;) or sequence of BIDS</span>
<span class="go">                        entities (e.g., &quot;acq-VNavNorm_run-1&quot;) to specify which</span>
<span class="go">                        of multiple T1w files to use. Specify &quot;--T1w_label</span>
<span class="go">                        T1w&quot; to choose the T1w file with the fewest BIDS</span>
<span class="go">                        entities (i.e., the final option of [*_acq-</span>
<span class="go">                        VNavNorm_T1w.nii.gz, *_acq-HCP_T1w.nii.gz,</span>
<span class="go">                        *_T1w.nii.gz&quot;]). C-PAC will choose the first T1w it</span>
<span class="go">                        finds if the user does not provide this flag, or if</span>
<span class="go">                        multiple T1w files match the --T1w_label provided. If</span>
<span class="go">                        multiple T2w files are present and a comparable filter</span>
<span class="go">                        is possible, T2w files will be filtered as well. If no</span>
<span class="go">                        T2w files match this --T1w_label, T2w files will be</span>
<span class="go">                        processed as if no --T1w_label were provided.</span>
<span class="go">  --bold-label BOLD_LABEL [BOLD_LABEL ...], --bold_label BOLD_LABEL [BOLD_LABEL ...]</span>
<span class="go">                        To include a specified subset of available BOLD files,</span>
<span class="go">                        use this flag to specify any BIDS entity (e.g., &quot;task-</span>
<span class="go">                        rest&quot;) or sequence of BIDS entities (e.g. &quot;task-</span>
<span class="go">                        rest_run-1&quot;). To specify the bold file with the fewest</span>
<span class="go">                        BIDS entities in the file name, specify &quot;--bold_label</span>
<span class="go">                        bold&quot;. Multiple `--bold_label`s can be specified with</span>
<span class="go">                        a space-separated list. If multiple `--bold_label`s</span>
<span class="go">                        are provided (e.g., &quot;--bold_label task-rest_run-1</span>
<span class="go">                        task-rest_run-2&quot;, each scan that includes all BIDS</span>
<span class="go">                        entities specified in any of the provided</span>
<span class="go">                        `--bold_label`s will be analyzed. If this parameter is</span>
<span class="go">                        not provided all BOLD scans should be analyzed.</span>
<span class="go">  -v, --version         show program&#39;s version number and exit</span>
<span class="go">  --bids-validator-config BIDS_VALIDATOR_CONFIG, --bids_validator_config BIDS_VALIDATOR_CONFIG</span>
<span class="go">                        JSON file specifying configuration of bids-validator:</span>
<span class="go">                        See https://github.com/bids-standard/bids-validator</span>
<span class="go">                        for more info.</span>
<span class="go">  --skip-bids-validator, --skip_bids_validator</span>
<span class="go">                        Skips bids validation.</span>
<span class="go">  --anat-only, --anat_only</span>
<span class="go">                        run only the anatomical preprocessing</span>
<span class="go">  --user_defined USER_DEFINED</span>
<span class="go">                        Arbitrary user defined string that will be included in</span>
<span class="go">                        every output sidecar file.</span>
<span class="go">  --tracking-opt-out, --tracking_opt-out</span>
<span class="go">                        Disable usage tracking. Only the number of</span>
<span class="go">                        participants on the analysis is tracked.</span>
<span class="go">  --monitoring          Enable monitoring server on port 8080. You need to</span>
<span class="go">                        bind the port using the Docker flag &quot;-p&quot;.</span>
</pre></div>
</div>
</section>
<section id="usage-cpac-utils">
<h3>Usage: cpac utils<a class="headerlink" href="#usage-cpac-utils" title="Permalink to this heading">¶</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cpac<span class="w"> </span>utils<span class="w"> </span>--help

<span class="go">Loading 🐳 Docker</span>
<span class="go">Loading 🐳 fcpindi/c-pac:latest as &quot;root (0)&quot; with these directory bindings:</span>
<span class="go">  local                         Docker                        mode</span>
<span class="go">  ----------------------------  ----------------------------  ------</span>
<span class="go">  /etc/passwd                   /etc/passwd                   ro</span>
<span class="go">  /root/.cpac                   /root/.cpac                   rw</span>
<span class="go">  /home/circleci/build          /home/circleci/build          rw</span>
<span class="go">  /home/circleci/build/log      /home/circleci/build/log      rw</span>
<span class="go">  /home/circleci/build/working  /home/circleci/build/working  rw</span>
<span class="go">  /home/circleci/build/outputs  /home/circleci/build/outputs  rw</span>
<span class="go">Logging messages will refer to the Docker paths.</span>

<span class="go">Usage: run.py utils [OPTIONS] COMMAND [ARGS]...</span>

<span class="go">Options:</span>
<span class="go">  --help  Show this message and exit.</span>

<span class="go">Commands:</span>
<span class="go">  crash</span>
<span class="go">  data-config (data_config)</span>
<span class="go">  group-config (group_config)</span>
<span class="go">  pipe-config (pipe_config)</span>
<span class="go">  repickle</span>
<span class="go">  test</span>
<span class="go">  tools</span>
<span class="go">  workflows</span>
</pre></div>
</div>
<p>Note that any of the optional arguments above will over-ride any pipeline settings in the default pipeline or in the pipeline configuration file you provide via the <code class="docutils literal notranslate"><span class="pre">--pipeline-file</span></code> parameter.</p>
<p><strong>Further usage notes:</strong></p>
<ul class="simple">
<li><p>You can run only anatomical preprocessing easily, without modifying your data or pipeline configuration files, by providing the <code class="docutils literal notranslate"><span class="pre">--anat-only</span></code> flag.</p></li>
<li><p>As stated, the default behavior is to read data that is organized in the BIDS format. This includes data that is in Amazon AWS S3 by using the format <code class="docutils literal notranslate"><span class="pre">s3://&lt;bucket_name&gt;/&lt;bids_dir&gt;</span></code> for the <code class="docutils literal notranslate"><span class="pre">bids_dir</span></code> command line argument. Outputs can be written to S3 using the same format for the <code class="docutils literal notranslate"><span class="pre">output_dir</span></code>. Credentials for accessing these buckets can be specified on the command line (using <code class="docutils literal notranslate"><span class="pre">--aws-input-creds</span></code> or <code class="docutils literal notranslate"><span class="pre">--aws-output-creds</span></code>).</p></li>
<li><p>When the app is run, a data configuration file is written to the working directory. This directory can be specified with <code class="docutils literal notranslate"><span class="pre">--working-dir</span></code> or the directory from which you run <code class="docutils literal notranslate"><span class="pre">cpac</span></code> will be used. This file can be passed into subsequent runs, which avoids the overhead of re-parsing the BIDS input directory on each run (i.e. for cluster or cloud runs). These files can be generated without executing the C-PAC pipeline using <code class="docutils literal notranslate"><span class="pre">test_config</span></code> as the analysis level.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">participant_label</span></code> and <code class="docutils literal notranslate"><span class="pre">participant_ndx</span></code> arguments allow the user to specify which of the many datasets should be processed, which is useful when parallelizing the run of multiple participants.</p></li>
<li><p>If you want to pass runtime options to your container plaform (Docker or Singularity), you can pass them with <code class="docutils literal notranslate"><span class="pre">-o</span></code> or <code class="docutils literal notranslate"><span class="pre">--container_options</span></code>.</p></li>
</ul>
<p>For instructions to run C-PAC in Docker or Singularity without installing cpac (Python package), see <a class="reference internal" href="running"><span class="doc">All Run Options</span></a></p>
</section>
</section>
<section id="c-pac-brainlife-io-app">
<h2>C-PAC brainlife.io app<a class="headerlink" href="#c-pac-brainlife-io-app" title="Permalink to this heading">¶</a></h2>
<p>Please visit <a class="reference external" href="https://doi.org/10.25663/brainlife.app.399"><img alt="DOI:10.25663/brainlife.app.399" src="https://img.shields.io/badge/DOI-10.25663%2Fbrainlife.app.399-blue" /></a> to see documentation for C-PAC on brainlife.io and  brainlife.io generally.</p>
</section>
<section id="default-pipeline">
<h2>Default Pipeline<a class="headerlink" href="#default-pipeline" title="Permalink to this heading">¶</a></h2>
<p>C-PAC is packaged with a default processing pipeline so that you can get your data preprocessing and analysis started immediately. Just pull the C-PAC Docker container and kick off the container with your data, and you’re on your way.</p>
<p>The default processing pipeline performs fMRI processing using four strategies, with and without global signal regression, with and without bandpass filtering.</p>
<p>Anatomical processing begins with conforming the data to RPI orientation and removing orientation header information that will interfere with further processing. A non-linear transform between skull-on images and a 2mm MNI brain-only template are calculated using ANTs [3]. Images are them skull-stripped using AFNI’s 3dSkullStrip [5] and subsequently segmented into WM, GM, and CSF using FSL’s fast tool [6]. The resulting WM mask was multiplied by a WM prior map that was transformed into individual space using the inverse of the linear transforms previously calculated during the ANTs procedure. A CSF mask was multiplied by a ventricle map derived from the Harvard-Oxford atlas distributed with FSL [4]. Skull-stripped images and grey matter tissue maps are written into MNI space at 2mm resolution.</p>
<p>Functional preprocessing begins with resampling the data to RPI orientation, and slice timing correction. Next, motion correction is performed using a two-stage approach in which the images are first coregistered to the mean fMRI and then a new mean is calculated and used as the target for a second coregistration (AFNI 3dvolreg [2]). A 7 degree of freedom linear transform between the mean fMRI and the structural image is calculated using FSL’s implementation of boundary-based registration [7]. Nuisance variable regression (NVR) is performed on motion corrected data using a 2nd order polynomial, a 24-regressor model of motion [8], 5 nuisance signals, identified via principal components analysis of signals obtained from white matter (CompCor, [9]), and mean CSF signal. WM and CSF signals were extracted using the previously described masks after transforming the fMRI data to match them in 2mm space using the inverse of the linear fMRI-sMRI transform. The NVR procedure is performed twice, with and without the inclusion of the global signal as a nuisance regressor. The residuals of the NVR procedure are processed with and without bandpass filtering (0.001Hz &lt; f &lt; 0.1Hz), written into MNI space at 3mm resolution and subsequently smoothed using a 6mm FWHM kernel.</p>
<p>Several different individual level analysis are performed on the fMRI data including:</p>
<ul class="simple">
<li><p><strong>Amplitude of low frequency fluctuations (alff) [10]:</strong> the variance of each voxel is calculated after bandpass filtering in original space and subsequently written into MNI space at 2mm resolution and spatially smoothed using a 6mm FWHM kernel.</p></li>
<li><p><strong>Fractional amplitude of low frequency fluctuations (falff) [11]:</strong> Similar to alff except that the variance of the bandpassed signal is divided by the total variance (variance of non-bandpassed signal.</p></li>
<li><p><strong>Regional homogeniety (ReHo) [12]:</strong> a simultaneous Kendalls correlation is calculated between each voxel’s time course and the time courses of the 27 voxels that are face, edge, and corner touching the voxel. ReHo is calculated in original space and subsequently written into MNI space at 2mm resolution and spatially smoothed using a 6mm FWHM kernel.</p></li>
<li><p><strong>Voxel mirrored homotopic connectivity (VMHC) [13]:</strong> an non-linear transform is calculated between the skull-on anatomical data and a symmetric brain template in 2mm space. Using this transform, processed fMRI data are written in to symmetric MNI space at 2mm and the correlation between each voxel and its analog in the contralateral hemisphere is calculated. The Fisher transform is applied to the resulting values, which are then spatially smoothed using a 6mm FWHM kernel.</p></li>
<li><p><strong>Weighted and binarized degree centrality (DC) [14]:</strong> fMRI data is written into MNI space at 2mm resolution and spatially smoothed using a 6mm FWHM kernel. The voxel x voxel similarity matrix is calculated by the correlation between every pair of voxel time courses and then thresholded so that only the top 5% of correlations remain. For each voxel, binarized DC is the number of connections that remain for the voxel after thresholding and weighted DC is the average correlation coefficient across the remaining connections.</p></li>
<li><p><strong>Eigenvector centrality (EC) [15]:</strong> fMRI data is written into MNI space at 2mm resolution and spatially smoothed using a 6mm FWHM kernel. The voxel x voxel similarity matrix is calculated by the correlation between every pair of voxel time courses and then thresholded so that only the top 5% of correlations remain. Weighted EC is calculated from the eigenvector corresponding to the largest eigenvalue from an eigenvector decomposition of the resulting similarity. Binarized EC, is the first eigenvector of the similarity matrix after setting the non-zero values in the resulting matrix are set to 1.</p></li>
<li><p><strong>Local functional connectivity density (lFCD) [16]:</strong> fMRI data is written into MNI space at 2mm resolution and spatially smoothed using a 6mm FWHM kernel. For each voxel, lFCD corresponds to the number of contiguous voxels that are correlated with the voxel above 0.6 (r&gt;0.6). This is similar to degree centrality, except only voxels that it only includes the voxels that are directly connected to the seed voxel.</p></li>
<li><p><strong>10 intrinsic connectivity networks (ICNs) from dual regression [17]:</strong> a template including 10 ICNs from a meta-analysis of resting state and task fMRI data [18] is spatially regressed against the processed fMRI data in MNI space. The resulting time courses are entered into a multiple regression with the voxel data in original space to calculate individual representations of the 10 ICNs. The resulting networks are written into MNI space at 2mm and then spatially smoothed using a 6mm FWHM kernel.</p></li>
<li><p><strong>Seed correlation analysis (SCA):</strong> preprocessed fMRI data is to match template that includes 160 regions of interest defined from a meta-analysis of different task results [19]. A time series is calculated for each region from the mean of all intra-ROI voxel time series. A separate functional connectivity map is calculated per ROI by correlating its time course with the time courses of every other voxel in the brain. Resulting values are Fisher transformed, written into MNI space at 2mm resolution, and then spatial smoothed using a 6mm FWHM kernel.</p></li>
<li><p><strong>Time series extraction:</strong> similar the procedure used for time series analysis, the preprocessed functional data is written into MNI space at 2mm and then time series for the various atlases are extracted by averaging within region voxel time courses. This procedure was used to generate summary time series for the automated anatomic labelling atlas [20], Eickhoff-Zilles atlas [21], Harvard-Oxford atlas [22], Talaraich and Tournoux atlas [23], 200 and 400 regions from the spatially constrained clustering voxel timeseries [24], and 160 ROIs from a meta-analysis of task results [19]. Time series for 10 ICNs were extracted using spatial regression.</p></li>
</ul>
</section>
<section id="pre-configured-pipelines">
<h2>Pre-configured Pipelines<a class="headerlink" href="#pre-configured-pipelines" title="Permalink to this heading">¶</a></h2>
<p>In addition to the default pipeline, C-PAC comes packaged with a growing library of pre-configured pipelines that are ready to use. They can be invoked when running C-PAC using the <code class="docutils literal notranslate"><span class="pre">--preconfig</span></code> flag detailed above.</p>
<p>Detailed information about the selection of pre-configured pipelines are <a class="reference internal" href="pipelines/preconfig"><span class="doc">available here</span></a>.</p>
</section>
<section id="design-a-pipeline">
<h2>Design A Pipeline<a class="headerlink" href="#design-a-pipeline" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The C-PAC pipeline configuration was changed to a nested format with import capabilities in v1.8.0.</p>
<p>With this change, the following configuration keys are deprecated:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">crashLogDirectory</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_tree</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fdCalc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reGenerateOutputs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">runMedianAngleCorrection</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slice_timing_pattern</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">targetAngleDeg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">runSymbolicLinks</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">configFileTwomm</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ref_mask_2mm</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">template_skull_for_anat_2mm</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">surface_reconstruction</span></code></p></li>
</ul>
<p>See <a class="reference internal" href="nuisance#nuisance-no-gui"><span class="std std-ref">Regressors specification</span></a> to manually update any of the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nComponents</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nuisanceBandpassFreq</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numRemovePrecedingFrames</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numRemoveSubsequentFrames</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">runFrequencyFiltering</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">runFristonModel</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">runMotionSpike</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spikeThreshold</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">smoothing_order</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">already_skullstripped</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">roiTSOutputs</span></code></p></li>
</ul>
<p>Mappings for all other C-PAC 1.7 keys can be found <a class="reference internal" href="pipelines/1.7-1.8-nesting-mappings"><span class="doc">here</span></a>.</p>
</div>
<p>C-PAC offers a graphical interface you can use to quickly and easily modify the default pipeline or create your own from scratch: <a class="reference external" href="https://fcp-indi.github.io/C-PAC_GUI/">https://fcp-indi.github.io/C-PAC_GUI/</a></p>
<blockquote>
<div><blockquote>
<div><p>Currently the GUI creates a C-PAC v1.6.0 pipeline configuration file. This syntax persisted through v1.7.2 but is deprecated with the release of v1.8.0.</p>
<p>If given a pipeline file in the older syntax, C-PAC v1.8 will attempt to convert the pipeline configuration file to the new syntax, saving the converted file in your output directory.</p>
<p>An update to the GUI to create v1.8.0 syntax configuration files is underway.</p>
<p>The newer (v1.8) syntax will not work with older versions of C-PAC.</p>
<p>See <a class="reference internal" href="pipelines/pipeline_config#using-a-text-editor"><span class="std std-ref">Using a Text Editor</span></a> for configuring a custom pipeline without the GUI.</p>
</div></blockquote>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="pipelines/1.7-1.8-nesting-mappings"><span class="doc">Details about mapping the older syntax to the new.</span></a></p>
</div>
</div></blockquote>
<figure class="align-default">
<img alt="../_images/gui_home1.png" src="../_images/gui_home1.png" />
</figure>
<p>Once you save the pipeline configuration YAML file, you can provide it to the C-PAC Docker container like so:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">docker run -i --rm \</span>
<span class="go">        -v /Users/You/local_bids_data:/bids_dataset \</span>
<span class="go">        -v /Users/You/some_folder:/outputs \</span>
<span class="go">        -v /tmp:/tmp \</span>
<span class="go">        -v /Users/You/Documents:/configs \</span>
<span class="go">        -v /Users/You/resources:/resources \</span>
<span class="go">        fcpindi/c-pac:latest /bids_dataset /outputs participant --pipeline-file /configs/pipeline_config.yml</span>
</pre></div>
</div>
<p>Or you can provide it to the C-PAC Singularity container like so:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">singularity run \</span>
<span class="go">        -B /Users/You/some_folder:/outputs \</span>
<span class="go">        -B /tmp:/tmp \</span>
<span class="go">        -B /Users/You/Documents:/configs \</span>
<span class="go">        fcpindi_c-pac_latest-{date}-{hash value}.img s3://fcp-indi/data/Projects/ADHD200/RawDataBIDS /outputs participant --pipeline-file /configs/pipeline_config.yml</span>
</pre></div>
</div>
<p><strong>Reporting errors and getting help</strong></p>
<p>Please report errors on the <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/issues">C-PAC GitHub issue tracker</a>. Please use <a class="reference external" href="https://neurostars.org/tag/cpac">Neurostars</a> for help using C-PAC and this application.</p>
</section>
<section id="acknowledgments">
<h2>Acknowledgments<a class="headerlink" href="#acknowledgments" title="Permalink to this heading">¶</a></h2>
<p>We currently have a publication in preparation, in the meantime please cite our poster from INCF:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Craddock C, Sikka S, Cheung B, Khanuja R, Ghosh SS, Yan C, Li Q, Lurie D, Vogelstein J, Burns R, Colcombe S,</span>
<span class="go">Mennes M, Kelly C, Di Martino A, Castellanos FX and Milham M (2013). Towards Automated Analysis of Connectomes:</span>
<span class="go">The Configurable Pipeline for the Analysis of Connectomes (C-PAC). Front. Neuroinform. Conference Abstract:</span>
<span class="go">Neuroinformatics 2013. doi:10.3389/conf.fninf.2013.09.00042</span>

<span class="go">@ARTICLE{cpac2013,</span>
<span class="go">    AUTHOR={Craddock, Cameron  and  Sikka, Sharad  and  Cheung, Brian  and  Khanuja, Ranjeet  and  Ghosh, Satrajit S</span>
<span class="go">        and Yan, Chaogan  and  Li, Qingyang  and  Lurie, Daniel  and  Vogelstein, Joshua  and  Burns, Randal  and</span>
<span class="go">        Colcombe, Stanley  and  Mennes, Maarten  and  Kelly, Clare  and  Di Martino, Adriana  and  Castellanos,</span>
<span class="go">        Francisco Xavier  and  Milham, Michael},</span>
<span class="go">    TITLE={Towards Automated Analysis of Connectomes: The {Configurable Pipeline for the Analysis of Connectomes (C-PAC)}},</span>
<span class="go">    JOURNAL={Frontiers in Neuroinformatics},</span>
<span class="go">    YEAR={2013},</span>
<span class="go">    NUMBER={42},</span>
<span class="go">    URL={http://www.frontiersin.org/neuroinformatics/10.3389/conf.fninf.2013.09.00042/full},</span>
<span class="go">    DOI={10.3389/conf.fninf.2013.09.00042},</span>
<span class="go">    ISSN={1662-5196}</span>
<span class="go">}</span>
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="subject_list_config">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Setting Up A Data Configuration File (Participant/Subject List)</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="release_notes/v1.8.7">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Latest Release: Version 1.8.7 Beta (May 03, 2024)</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2012‒2024, C-PAC Developers. C-PAC is licensed under LGPL-3.0-or-later
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">C-PAC Quickstart</a><ul>
<li><a class="reference internal" href="#let-s-go">Let’s Go!</a></li>
<li><a class="reference internal" href="#cpac-python-package">cpac (Python package)</a><ul>
<li><a class="reference internal" href="#run-extra-packages-with-cpac">Run extra packages with cpac</a></li>
<li><a class="reference internal" href="#download-upgrade-c-pac-with-cpac">Download / Upgrade C-PAC with cpac</a></li>
<li><a class="reference internal" href="#run-c-pac-with-cpac">Run C-PAC with cpac</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#platform-docker"><code class="docutils literal notranslate"><span class="pre">--platform</span> <span class="pre">docker</span></code></a></li>
<li><a class="reference internal" href="#platform-singularity"><code class="docutils literal notranslate"><span class="pre">--platform</span> <span class="pre">singularity</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage-cpac-run">Usage: cpac run</a></li>
<li><a class="reference internal" href="#usage-cpac-utils">Usage: cpac utils</a></li>
</ul>
</li>
<li><a class="reference internal" href="#c-pac-brainlife-io-app">C-PAC brainlife.io app</a></li>
<li><a class="reference internal" href="#default-pipeline">Default Pipeline</a></li>
<li><a class="reference internal" href="#pre-configured-pipelines">Pre-configured Pipelines</a></li>
<li><a class="reference internal" href="#design-a-pipeline">Design A Pipeline</a></li>
<li><a class="reference internal" href="#acknowledgments">Acknowledgments</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=68ced503"></script>
    <script src="../_static/doctools.js?v=d248f5b3"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/scripts/furo.js?v=4e2eecee"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/underscore.js?v=f1230927"></script>
    <script src="../_static/doctools.js?v=d248f5b3"></script>
    <script src="../_static/hideEmptyHighlights.js?v=af317073"></script>
    <script defer="defer" src="../_static/versionList.js?v=f2bc52a7"></script>
    </body>
</html>